{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js!C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\taskList\\meetingInform.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\taskList\\meetingInform.vue","mtime":1579416999053},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["import _defineProperty from \"C:\\\\xxm\\\\work\\\\jd\\\\fore\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAction } from \"../../../api/manage\";\nimport { JeecgListMixin } from \"../../../mixins/JeecgListMixin2\"; // import JEditor from '@/components/jeecg/JEditor'\n\nimport moment from 'moment';\nimport { busdataTemplate } from \"@/views/buttons/btn-js/busdataTemplate\";\nimport showMeeting from \"../../meeting/showMeeting\";\nimport DelTime from \"../../buttons/DelTimeModal\";\nexport default {\n  name: \"meetintInform\",\n  mixins: [JeecgListMixin, busdataTemplate],\n  components: {\n    DelTime: DelTime,\n\n    /*JEditor,*/\n    showMeeting: showMeeting\n  },\n  props: {\n    backDataRef: {\n      type: Object,\n      required: false\n    },\n    detailList: {\n      type: Object,\n      required: false\n    },\n    optionMap: {\n      type: Object,\n      required: false\n    },\n    isShowFile: {\n      type: Object,\n      required: false\n    }\n  },\n  data: function data() {\n    var _backData;\n\n    return {\n      s_varchar: [],\n      visible: false,\n      title: '会议申请',\n      confirmLoading: false,\n      userData: '',\n      //代办信息\n      task: '',\n      //已办信息\n      taskDone: '',\n      oaFileList: [],\n      //  文档数据   字段含义\n      banWenFileList: [],\n      backData: (_backData = {\n        //属性判断---新建时使用\n        //---------------------------------------------\n        //流程key\n        key: '',\n        //文号\n        act_show: '',\n        //page ref\n        page_ref: '',\n        //业务配置表id-用于查询按钮/意见权限\n        iprocSetId: '',\n        //对应的业务数据表\n        table: 'oa_busdata40',\n        //---------------------------------- 以下为表存储字段\n        //*******\n        i_id: '',\n        i_bigint1: '',\n        //份数\n        i_bigint2: '',\n        //页数\n        s_receive_type: '',\n        //来文文种\n        s_varchar3: '',\n        //\"办文依据\"\n        d_datetime1: '',\n        //\"成文日期\"\n        //*******\n        //模块\n        i_bus_model_id: '',\n        //\n        i_bus_function_id: '',\n        //密级\n        i_safetylevel: 0,\n        //缓急\n        i_urgency: 0,\n        //主办部门\n        s_main_dept_names: '主办部门',\n        //辅办部门\n        s_cc_dept_names: '辅办部门',\n        //内部发送部门\n        s_inside_deptnames: '内部发送部门',\n        //标题\n        s_title: '中国人民银行永州市中心支行收文处理签',\n        //左侧参数页面头部\n        s_left_parameter: '左侧参数页面头部',\n        //机构\n        s_unit_name: '',\n        //部门\n        s_dept_name: '',\n        //插入参数（修改文头）（页面头部）\n        s_middle_parameter: '',\n        //右侧参数（页面头部）\n        s_right_parameter: '',\n        //来文字号\n        s_receive_num: '',\n        //文件字号\n        s_file_num: '',\n        //来文机关（数据字典取值）\n        i_receive_dept_id: '',\n        //是否办结\n        i_is_state: 0,\n        //是否保存办文单\n        i_is_approve: 0,\n        //是否归档\n        i_is_archives: 0,\n        //是否已送全文检索\n        i_is_es: 0,\n        //是否送公文传输\n        i_is_send: 0,\n        //是否为临时文件\n        i_is_display: 0,\n        //备注\n        s_remarks: '',\n        //创建时间-年\n        i_create_year: new Date().getFullYear(),\n        //创建时间-月\n        i_create_month: new Date().getMonth(),\n        //创建时间-日期\n        i_create_day: new Date().getDate(),\n        //创建人id\n        s_create_by: '',\n        //创建者姓名\n        s_create_name: '',\n        //创建人部门name\n        s_create_dept: '',\n        //创建人部门id\n        s_create_deptid: '',\n        //创建人机构id\n        s_create_unitid: '',\n        //创建时间\n        d_create_time: '',\n        //修改时间\n        d_update_time: new Date().getFullYear() + '-' + new Date().getMonth() + '-' + new Date().getDate(),\n        //申请会议室名\n        s_varchar1: '',\n        //会议内容\n        s_varchar2: ''\n      }, _defineProperty(_backData, \"s_varchar3\", ''), _defineProperty(_backData, \"s_varchar4\", ''), _defineProperty(_backData, \"d_create_time\", ''), _defineProperty(_backData, \"d_datetime1\", ''), _defineProperty(_backData, \"d_datetime2\", ''), _defineProperty(_backData, \"s_cur_proc_name\", ''), _defineProperty(_backData, \"s_cur_task_name\", ''), _defineProperty(_backData, \"i_is_important\", ''), _backData),\n      url: {\n        optionAndBtn: '/oaBus/newTask/optionAndBtn',\n        currentUserMsg: '/sys/user/getUserSectionInfoByToken',\n        updateReadStatus: '/oaBus/taskInAct/changeStatus',\n        selectTaskType: '/oaBus/busModel/list',\n        selectTask: '/oaBus/busModel/list'\n      }\n    };\n  },\n  computed: {\n    timeStrings: function timeStrings() {\n      var oneTime = new Date();\n      var Y = oneTime.getFullYear();\n      var M = oneTime.getMonth() + 1;\n      var D = oneTime.getDate();\n      return Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + oneTime.toTimeString().substr(0, 8);\n    }\n  },\n  created: function created() {\n    this.show();\n  },\n  methods: {\n    moment: moment,\n    changeHuanJi: function changeHuanJi(e, d) {\n      this.backData.s_varchar1 = d.data.attrs.text; // this.backData.s_varchar1 = e;\n    },\n    //会议室使用情况\n    showMeeting: function showMeeting() {\n      if (this.backData.s_varchar1 == null) {\n        this.$message.error(\"请选择会议室\");\n      } else {\n        var meetingRoom = this.backData.s_varchar1;\n        this.$refs.showMeeting.showMeetingCase(meetingRoom);\n      }\n    },\n    close: function close() {\n      this.visible = false;\n    },\n    //----------------时间变化检测---------------\n    selectTime: function selectTime(e) {\n      console.log(e);\n    },\n    //----------------确定时间---------------\n    confirmTime: function confirmTime(e) {\n      // console.log(e);\n      var startTime = e[0]._d;\n      var endTime = e[1]._d;\n      this.backData.d_datetime1 = this.dataTime(startTime);\n      this.backData.d_datetime2 = this.dataTime(endTime);\n    },\n    dataTime: function dataTime(time) {\n      var oneTime = new Date(time);\n      var Y = oneTime.getFullYear();\n      var M = oneTime.getMonth() + 1;\n      var D = oneTime.getDate();\n      return Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + oneTime.toTimeString().substr(0, 8);\n    },\n\n    /* dateFormat(date) {\n       let date1 = new Date(date);\n       let Y = date1.getFullYear();\n       let M = date1.getMonth() + 1;\n       let D = date1.getDate();\n       let newTime = Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + date1.toTimeString().substr(0, 8);\n       return newTime;\n     },*/\n\n    /*optsGet(opts) {\n      this.opts = opts\n    },*/\n    change: function change(e) {\n      this.backData.i_safetylevel = e;\n    },\n\n    /* //详情页面数据\n     showTaskInAct(taskDetail, task) {\n       this.task = task\n       this.show(taskDetail)\n       //修改数据信息为已读\n       this.changeReadStatus()\n     },\n      //已读\n     changeReadStatus() {\n       var param = 'table=' + this.backData.table + \"_permit&userId=\" + this.userData.sysUserId + \"&functionId=\"\n         + this.backData.i_bus_function_id + \"&dataId=\" + this.backData.i_id\n        getAction(this.url.updateReadStatus + \"?\" + param).then(res => {\n         if (!res.success) {\n           this.$message.error(res.message)\n         }\n       })\n     },*/\n    show: function show() {\n      for (var _i = 0; _i < this.optionMap.checkList.length; _i++) {\n        this.s_varchar.push(this.optionMap.checkList[_i].stableColumn);\n      }\n\n      console.log('====================================================');\n      console.log(this.s_varchar); //业务数据赋值\n\n      for (var i in this.backData) {\n        this.backData[i] = this.backDataRef[i];\n      }\n\n      console.log(JSON.stringify(this.backdata)); // console.log('----->>>',JSON.stringify(this.backData))\n      //this.s_varchar1_option = this.optionMap.s_varchar1_option;\n      //************************************* 查询字段名称start ************************************\n\n      this.getOaFiles(this.backData.table, this.backData.i_id); //************************************* 查询字段名称end ************************************\n\n      this.visible = true;\n    },\n    ok: function ok() {\n      this.handleCancel();\n    },\n    handleCancel: function handleCancel() {\n      this.$emit('close');\n      this.visible = false;\n      this.disableSubmit = false; //清除意见与按钮页面数据\n\n      this.$refs.taskOptRef.clear(); //刷新父页面\n\n      this.$emit('reload_todo');\n    }\n  }\n};",{"version":3,"sources":["meetingInform.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n    <form>\r\n      <center>\r\n        <table  width=\"100%\" border=\"0\">\r\n          <center>\r\n            <table  width=\"100%\" border=\"1\" borderColor=\"#aa7d7d\">\r\n              <tr style=\"height: 50px;\">\r\n                <td width=\"15%\" class=\"title\">\r\n                  <center><h3>{{detailList.s_create_dept}}</h3></center>\r\n                </td>\r\n                <td>\r\n                  <div style=\"padding-left: 10px;\">{{backData.s_create_dept}}</div>\r\n                </td>\r\n                <td width=\"15%\" class=\"title\">\r\n                  <!--登记人员-->\r\n                  <center><h3>{{detailList.s_create_name}}</h3></center>\r\n                </td>\r\n                <td>\r\n                  <div style=\"padding-left: 10px\">{{backData.s_create_name}}</div>\r\n                </td>\r\n\r\n              </tr>\r\n              <!--会议室申请-->\r\n              <tr style=\"height: 50px;\">\r\n                <td colspan=\"1\" class=\"title\">\r\n                  <center><h3>{{detailList.s_varchar1}}</h3></center>\r\n                </td>\r\n                <td colspan=\"7\">\r\n                  <center>\r\n                    <a-select style=\"width:88%\" placeholder=\"请选择会议室\" ref=\"s_varchar1\" v-on:blur=\"blurText(backData.s_varchar4,$refs.s_varchar1)\"\r\n                              v-model=\"backData.s_varchar4\" @change=\"changeHuanJi\">\r\n                      <a-select-option  v-for=\"(item,index) in optionMap.s_varchar1_option\" :key=\"index\" :text=\"item.text\" :value=\"item.value\" >{{item.text}}</a-select-option>\r\n                    </a-select>\r\n                    <a-button style=\"padding: 0 19px;\" @click=\"showMeeting\" >会议室使用情况</a-button>\r\n                  </center>\r\n                </td>\r\n\r\n              </tr>\r\n              <!--申请时间-->\r\n              <tr style=\"height: 50px;\">\r\n                <td colspan=\"1\" class=\"title\">\r\n                  <center><h3>{{detailList.s_varchar4}}</h3></center>\r\n                </td>\r\n                <td colspan=\"7\">\r\n                  <center>\r\n                    <template v-if=\"backData.d_datetime1 == null && backData.d_datetime2 ==null\">\r\n                      <a-range-picker\r\n\r\n                        ref=\"s_varchar4\"\r\n                        v-on:blur=\"blurText([backData.d_datetime1,backData.d_datetime2],$refs.s_varchar4)\"\r\n\r\n                        style=\"width: 100%\"\r\n                        showTime\r\n                        format=\"YYYY-MM-DD HH:mm\"\r\n                        :placeholder=\"['开始时间','结束时间']\"\r\n                        @change=\"selectTime\" @ok=\"confirmTime\"\r\n                      />\r\n                    </template>\r\n\r\n                    <template v-else>\r\n                      <a-range-picker\r\n\r\n                        ref=\"s_varchar4\"\r\n                        v-on:blur=\"blurText([backData.d_datetime1,backData.d_datetime2],$refs.s_varchar4)\"\r\n\r\n                        style=\"width: 100%\"\r\n                        :showTime=\"{format}\"\r\n                        format=\"YYYY-MM-DD HH:mm:ss\"\r\n                        :placeholder=\"['开始时间','结束时间']\"\r\n                        @change=\"selectTime\" @ok=\"confirmTime\"\r\n                        :defaultValue=\"[moment(backData.d_datetime1),moment(backData.d_datetime2)]\"\r\n                      />\r\n                    </template>\r\n                  </center>\r\n                </td>\r\n\r\n              </tr>\r\n              <!--会议内容-->\r\n              <tr>\r\n                <td colspan=\"1\" class=\"title\">\r\n                  <center><h3>{{detailList.s_varchar2}}</h3></center>\r\n\r\n                </td>\r\n                <td colspan=\"7\" height=\"100px\">\r\n                  <center>\r\n                    <template>\r\n                      <a-textarea placeholder=\"请输入会议内容...\" ref=\"s_varchar2\" v-on:blur=\"blurText(backData.s_varchar2,$refs.s_varchar2)\" onkeyPress=\"if(event.keyCode == 32){event.keyCode = 0;event.returnValue = false}\" v-model=\"backData.s_varchar2\" style=\"height: 100px\"\r\n                                  :rows=\"true\"></a-textarea>\r\n                    </template>\r\n                  </center>\r\n                </td>\r\n\r\n              </tr>\r\n              <!--附件-->\r\n              <tr style=\"height: 50px;\">\r\n                <td width=\"10%\" class=\"title\">\r\n                  <center><h3>{{detailList.s_varchar3}}</h3></center>\r\n                </td>\r\n                <td colspan=\"3\">\r\n                  <div v-for=\"(item,index) in oaFileList\" style=\"padding-left: 15px\">\r\n                    <div class=\"qiCao\"><span class=\"hoverred\" @click=\"qiCao1(9,item)\">{{index+1}}、{{item.sfileName}}</span>\r\n                      <span class=\"delCss\" v-show=\"isShowFile\">\r\n                <img :title=\"fileBtnName(1)\" v-show =\"isSuffex(item.sfileName)\" class=\"pices\" @click.stop=\"qiCao2(10,item)\" src=\"../../../../src/assets/set.png\"/>\r\n                <img :title=\"fileBtnName(2)\" class=\"pices\" @click.stop=\"updateFileName(item)\" src=\"../../../../src/assets/setName.png\"/>\r\n                <img :title=\"fileBtnName(3)\" class=\"pices\" @click.stop=\"deleteFilesBtn(item,4)\" src=\"../../../../src/assets/delete.png\"/>\r\n                <img :title=\"fileBtnName(4)\" v-show=\"oaFileList.length > 1 && index > 0\" class=\"pices\" @click.stop=\"topFile(item,index,4)\" src=\"../../../../src/assets/top.png\"/>\r\n                <img :title=\"fileBtnName(5)\" v-show=\"oaFileList.length > 1 && index < oaFileList.length-1\" class=\"pices\" @click.stop=\"lowFile(item,index,4)\" src=\"../../../../src/assets/bottom.png\"/>\r\n              </span>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              <!--创建时间-->\r\n              <template v-if=\"this.backData.d_create_time != timeStrings\">\r\n                <tr style=\"height: 50px;\">\r\n                  <td width=\"10%\" class=\"title\">\r\n                    <center><h3>{{detailList.d_create_time}}</h3></center>\r\n                  </td>\r\n                  <td colspan=\"3\">\r\n                    <div style=\"padding-left: 10px;\">{{backData.d_create_time}}</div>\r\n                  </td>\r\n                </tr>\r\n              </template>\r\n              <template v-else>\r\n                <tr style=\"height: 50px;\">\r\n                  <td width=\"10%\" class=\"title\">\r\n                    <center><h3>{{detailList.d_create_time}}</h3></center>\r\n                  </td>\r\n                  <td colspan=\"3\">\r\n                    <div style=\"padding-left: 10px;\" v-model=\"backData.d_create_time\">{{ timeStrings }}</div>\r\n                  </td>\r\n                </tr>\r\n              </template>\r\n            </table>\r\n\r\n          </center>\r\n        </table>\r\n\r\n        <br/>\r\n        <del-time ref=\"updateFileNameModal\" @reloadAfterUpdate=\"reloadAfterUpdate\"></del-time>\r\n        <show-meeting ref=\"showMeeting\"></show-meeting>\r\n      </center>\r\n    </form>\r\n</template>\r\n\r\n<script>\r\n  import {getAction} from \"../../../api/manage\";\r\n  import {JeecgListMixin} from \"../../../mixins/JeecgListMixin2\";\r\n  // import JEditor from '@/components/jeecg/JEditor'\r\n  import moment from 'moment'\r\n  import {busdataTemplate} from \"@/views/buttons/btn-js/busdataTemplate\";\r\n  import showMeeting  from\"../../meeting/showMeeting\"\r\n  import DelTime from \"../../buttons/DelTimeModal\";\r\n  export default {\r\n    name: \"meetintInform\",\r\n    mixins: [JeecgListMixin,busdataTemplate],\r\n    components: {\r\n      DelTime,\r\n      /*JEditor,*/showMeeting\r\n    },\r\n    props: {\r\n      backDataRef: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      detailList: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      optionMap: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      isShowFile:{\r\n        type: Object,\r\n        required: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        s_varchar:[],\r\n        visible: false,\r\n        title: '会议申请',\r\n        confirmLoading: false,\r\n        userData: '',\r\n        //代办信息\r\n        task: '',\r\n        //已办信息\r\n        taskDone: '',\r\n        oaFileList: [],    //  文档数据   字段含义\r\n        banWenFileList:[],\r\n        backData: {\r\n\r\n          //属性判断---新建时使用\r\n          //---------------------------------------------\r\n          //流程key\r\n          key: '',\r\n          //文号\r\n          act_show: '',\r\n          //page ref\r\n          page_ref: '',\r\n          //业务配置表id-用于查询按钮/意见权限\r\n          iprocSetId: '',\r\n          //对应的业务数据表\r\n          table: 'oa_busdata40',\r\n          //---------------------------------- 以下为表存储字段\r\n\r\n          //*******\r\n          i_id: '',\r\n          i_bigint1: '',   //份数\r\n          i_bigint2: '',   //页数\r\n          s_receive_type: '',     //来文文种\r\n          s_varchar3: '',//\"办文依据\"\r\n          d_datetime1: '',//\"成文日期\"\r\n          //*******\r\n          //模块\r\n          i_bus_model_id: '',\r\n          //\r\n          i_bus_function_id: '',\r\n          //密级\r\n          i_safetylevel: 0,\r\n          //缓急\r\n          i_urgency: 0,\r\n          //主办部门\r\n          s_main_dept_names: '主办部门',\r\n          //辅办部门\r\n          s_cc_dept_names: '辅办部门',\r\n          //内部发送部门\r\n          s_inside_deptnames: '内部发送部门',\r\n          //标题\r\n          s_title: '中国人民银行永州市中心支行收文处理签',\r\n          //左侧参数页面头部\r\n          s_left_parameter: '左侧参数页面头部',\r\n          //机构\r\n          s_unit_name: '',\r\n          //部门\r\n          s_dept_name: '',\r\n          //插入参数（修改文头）（页面头部）\r\n          s_middle_parameter: '',\r\n          //右侧参数（页面头部）\r\n          s_right_parameter: '',\r\n          //来文字号\r\n          s_receive_num: '',\r\n          //文件字号\r\n          s_file_num: '',\r\n          //来文机关（数据字典取值）\r\n          i_receive_dept_id: '',\r\n          //是否办结\r\n          i_is_state: 0,\r\n          //是否保存办文单\r\n          i_is_approve: 0,\r\n          //是否归档\r\n          i_is_archives: 0,\r\n          //是否已送全文检索\r\n          i_is_es: 0,\r\n          //是否送公文传输\r\n          i_is_send: 0,\r\n          //是否为临时文件\r\n          i_is_display: 0,\r\n          //备注\r\n          s_remarks: '',\r\n          //创建时间-年\r\n          i_create_year: new Date().getFullYear(),\r\n          //创建时间-月\r\n          i_create_month: new Date().getMonth(),\r\n          //创建时间-日期\r\n          i_create_day: new Date().getDate(),\r\n          //创建人id\r\n          s_create_by: '',\r\n          //创建者姓名\r\n          s_create_name: '',\r\n          //创建人部门name\r\n          s_create_dept: '',\r\n          //创建人部门id\r\n          s_create_deptid: '',\r\n          //创建人机构id\r\n          s_create_unitid: '',\r\n          //创建时间\r\n          d_create_time:'',\r\n          //修改时间\r\n          d_update_time: new Date().getFullYear() + '-' + new Date().getMonth() + '-' + new Date().getDate(),\r\n          //申请会议室名\r\n          s_varchar1:'',\r\n          //会议内容\r\n          s_varchar2:'',\r\n          //附件\r\n          s_varchar3:'',\r\n          /*申请时间\r\n          s_varchar4:'',*/\r\n          //会议室id\r\n          s_varchar4:'',\r\n          //录入时间\r\n          d_create_time:'',\r\n          //开始时间\r\n          d_datetime1:'',\r\n          //截至时间\r\n          d_datetime2:'',\r\n          s_cur_proc_name: '',\r\n          //当前任务名称\r\n          s_cur_task_name: '',\r\n          //是否重要\r\n          i_is_important: ''\r\n        },\r\n\r\n        url: {\r\n          optionAndBtn: '/oaBus/newTask/optionAndBtn',\r\n          currentUserMsg: '/sys/user/getUserSectionInfoByToken',\r\n          updateReadStatus: '/oaBus/taskInAct/changeStatus',\r\n          selectTaskType: '/oaBus/busModel/list',\r\n          selectTask: '/oaBus/busModel/list',\r\n        }\r\n      }\r\n    },\r\n    computed:{\r\n      timeStrings(){\r\n        let oneTime = new Date();\r\n        let Y = oneTime.getFullYear();\r\n        let M = oneTime.getMonth()+1;\r\n        let D = oneTime.getDate();\r\n        return  Y+'-'+(M<10? \"0\"+M :M)+\"-\"+(D<10? \"0\"+D:D)+\" \"+oneTime.toTimeString().substr(0,8);\r\n      },\r\n    },\r\n\r\n    created() {\r\n      this.show();\r\n    },\r\n    methods: {\r\n      moment,\r\n\r\n      changeHuanJi(e,d) {\r\n        this.backData.s_varchar1 = d.data.attrs.text;\r\n        // this.backData.s_varchar1 = e;\r\n      },\r\n\r\n      //会议室使用情况\r\n      showMeeting(){\r\n        if (this.backData.s_varchar1 == null){\r\n          this.$message.error(\"请选择会议室\");\r\n        } else {\r\n          let meetingRoom=this.backData.s_varchar1;\r\n          this.$refs.showMeeting.showMeetingCase(meetingRoom);\r\n        }\r\n      },\r\n\r\n\r\n      close() {\r\n        this.visible = false;\r\n      },\r\n      //----------------时间变化检测---------------\r\n      selectTime(e) {\r\n        console.log(e);\r\n      },\r\n      //----------------确定时间---------------\r\n      confirmTime(e) {\r\n        // console.log(e);\r\n        let startTime = e[0]._d;\r\n        let endTime = e[1]._d;\r\n\r\n        this.backData.d_datetime1 = this.dataTime(startTime);\r\n        this.backData.d_datetime2 = this.dataTime(endTime);\r\n\r\n      },\r\n      dataTime(time) {\r\n        let oneTime = new Date(time);\r\n        let Y = oneTime.getFullYear();\r\n        let M = oneTime.getMonth() + 1;\r\n        let D = oneTime.getDate();\r\n        return Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + oneTime.toTimeString().substr(0, 8);\r\n      },\r\n\r\n\r\n     /* dateFormat(date) {\r\n        let date1 = new Date(date);\r\n        let Y = date1.getFullYear();\r\n        let M = date1.getMonth() + 1;\r\n        let D = date1.getDate();\r\n        let newTime = Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + date1.toTimeString().substr(0, 8);\r\n        return newTime;\r\n      },*/\r\n\r\n      /*optsGet(opts) {\r\n        this.opts = opts\r\n      },*/\r\n\r\n      change(e) {\r\n        this.backData.i_safetylevel = e\r\n      },\r\n\r\n     /* //详情页面数据\r\n      showTaskInAct(taskDetail, task) {\r\n        this.task = task\r\n        this.show(taskDetail)\r\n        //修改数据信息为已读\r\n        this.changeReadStatus()\r\n      },\r\n\r\n      //已读\r\n      changeReadStatus() {\r\n        var param = 'table=' + this.backData.table + \"_permit&userId=\" + this.userData.sysUserId + \"&functionId=\"\r\n          + this.backData.i_bus_function_id + \"&dataId=\" + this.backData.i_id\r\n\r\n        getAction(this.url.updateReadStatus + \"?\" + param).then(res => {\r\n          if (!res.success) {\r\n            this.$message.error(res.message)\r\n          }\r\n        })\r\n      },*/\r\n\r\n      show() {\r\n\r\n        for(let i = 0;i<this.optionMap.checkList.length;i++){\r\n          this.s_varchar.push(this.optionMap.checkList[i].stableColumn);\r\n        }\r\n\r\n        console.log('====================================================');\r\n        console.log(this.s_varchar);\r\n\r\n        //业务数据赋值\r\n\r\n        for (var i in this.backData) {\r\n           this.backData[i] = this.backDataRef[i]\r\n        }\r\n\r\n        console.log(JSON.stringify(this.backdata))\r\n\r\n        // console.log('----->>>',JSON.stringify(this.backData))\r\n        //this.s_varchar1_option = this.optionMap.s_varchar1_option;\r\n        //************************************* 查询字段名称start ************************************\r\n        this.getOaFiles(this.backData.table, this.backData.i_id)\r\n        //************************************* 查询字段名称end ************************************\r\n        this.visible = true\r\n      },\r\n\r\n      ok() {\r\n        this.handleCancel()\r\n      },\r\n\r\n\r\n      handleCancel() {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n        this.disableSubmit = false;\r\n        //清除意见与按钮页面数据\r\n        this.$refs.taskOptRef.clear()\r\n\r\n        //刷新父页面\r\n        this.$emit('reload_todo')\r\n      },\r\n      /*onChange(date, dateString) {\r\n\r\n      },\r\n      onChange2(date, dateString) {\r\n\r\n      }*/\r\n\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  input.ant-input{\r\n    height: 48px;\r\n  }\r\n\r\n  textarea.ant-input{\r\n    height: 48px;\r\n  }\r\n\r\n  /deep/ .ant-select-selection--single{\r\n    height: 48px;\r\n    padding: 8px 0;\r\n  }\r\n\r\n /deep/ .ant-calendar-picker-input{\r\n    height: 48px;\r\n  }\r\n</style>\r\n\r\n<style>\r\n  .hoverred:hover {\r\n    color: red;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .title  h3 {\r\n    font-weight: bolder !important;\r\n  }\r\n\r\n  .ant-btn-default{\r\n    font-weight: bolder !important;\r\n    background: rgb(178, 218, 255) !important;\r\n  }\r\n\r\n  .title{\r\n    background-color: #e9ecf2 !important;\r\n    padding: 0.7% !important;\r\n    text-align: center !important;\r\n  }\r\n</style>"],"sourceRoot":"src/views/mytask/taskList"}]}