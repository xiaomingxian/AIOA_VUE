{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js!C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\taskList\\meetingNotice.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\taskList\\meetingNotice.vue","mtime":1579513667723},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport _defineProperty from \"C:\\\\xxm\\\\work\\\\jd\\\\fore\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAction } from \"../../../api/manage\";\nimport { JeecgListMixin } from \"../../../mixins/JeecgListMixin2\";\nimport moment from 'moment';\nimport { busdataTemplate } from \"@/views/buttons/btn-js/busdataTemplate\";\nimport getpersons from \"../../oaBus/pageModels/meetingUser\";\nimport DelTime from \"../../buttons/DelTimeModal\";\nexport default {\n  name: \"meetingNotice\",\n  mixins: [JeecgListMixin, busdataTemplate],\n  components: {\n    DelTime: DelTime,\n    getpersons: getpersons\n  },\n  props: {\n    backDataRef: {\n      type: Object,\n      required: false\n    },\n    detailList: {\n      type: Object,\n      required: false\n    },\n    optionMap: {\n      type: Object,\n      required: false\n    },\n    isShowFile: {\n      type: Object,\n      required: false\n    }\n  },\n  data: function data() {\n    var _backData, _ref;\n\n    return _ref = {\n      s_varchar: [],\n      userRealName: '',\n      value: 1,\n      isAllChack: false,\n      //会议时间\n      meetingTime: [],\n      //选择会议开始时间\n      startTime: '',\n      //会议室\n      address: '',\n      //参会人员id\n      meetingUserId: [],\n      oaFileList: [],\n      //  文档数据\n      banWenFileList: [],\n      visible: true,\n      title: '会议申请',\n      confirmLoading: false,\n      userData: '',\n      //代办信息\n      task: '',\n      //已办信息\n      taskDone: '',\n      opts: [],\n      //意见框信息\n      meeting: '',\n      //意见表相关\n      backDataOpt: {\n        //回填数据id\n        table: 'oa_busdata40',\n        i_id: \"\",\n        i_opinion_set_id: \"\",\n        i_bus_function_id: \"\",\n        i_busdata_id: \"\",\n        s_name: \"\",\n        i_user_id: \"\",\n        d_sign: \"\",\n        s_opinion: \"\",\n        s_opinion_type: \"\",\n        s_task_id: \"\",\n        s_task_name: \"\",\n        s_overt: \"\",\n        i_order: \"\",\n        s_tpye: \"\",\n        s_dept_id: \"\",\n        s_dept_name: \"\",\n        s_taskdef_key: \"\"\n      }\n    }, _defineProperty(_ref, \"oaFileList\", []), _defineProperty(_ref, \"jeditShow\", false), _defineProperty(_ref, \"jeditor\", {\n      value: ''\n    }), _defineProperty(_ref, \"backData\", (_backData = {\n      //属性判断---新建时使用\n      //---------------------------------------------\n      //流程key\n      key: '',\n      //文号\n      act_show: '',\n      //page ref\n      page_ref: '',\n      //业务配置表id-用于查询按钮/意见权限\n      iprocSetId: '',\n      //对应的业务数据表\n      table: 'oa_busdata40',\n      //---------------------------------- 以下为表存储字段\n      //*******\n      i_id: '',\n      i_bigint1: '',\n      //份数\n      i_bigint2: '',\n      //页数\n      s_receive_type: '',\n      //来文文种\n      s_varchar3: '',\n      //\"办文依据\"\n      d_datetime1: '',\n      //\"成文日期\"\n      //*******\n      //模块---业务模块id\n      i_bus_model_id: '',\n      //-------业务功能id\n      i_bus_function_id: '',\n      //密级\n      i_safetylevel: 0,\n      //缓急\n      i_urgency: 0,\n      //主办部门\n      s_main_dept_names: '主办部门',\n      //辅办部门\n      s_cc_dept_names: '辅办部门',\n      //内部发送部门\n      s_inside_deptnames: '内部发送部门',\n      //标题\n      s_title: '中国人民银行永州市中心支行收文处理签',\n      //左侧参数页面头部\n      s_left_parameter: '左侧参数页面头部',\n      //机构\n      s_unit_name: '',\n      //部门\n      s_dept_name: '',\n      //插入参数（修改文头）（页面头部）\n      s_middle_parameter: '',\n      //右侧参数（页面头部）\n      s_right_parameter: '',\n      //来文字号\n      s_receive_num: '',\n      //文件字号\n      s_file_num: '',\n      //来文机关（数据字典取值）\n      i_receive_dept_id: '',\n      //是否办结\n      i_is_state: 0,\n      //是否保存办文单\n      i_is_approve: 0,\n      //是否归档\n      i_is_archives: 0,\n      //是否已送全文检索\n      i_is_es: 0,\n      //是否送公文传输\n      i_is_send: 0,\n      //是否为临时文件\n      i_is_display: 0,\n      //备注\n      s_remarks: '',\n      //创建时间-年\n      i_create_year: new Date().getFullYear(),\n      //创建时间-月\n      i_create_month: new Date().getMonth(),\n      //创建时间-日期\n      i_create_day: new Date().getDate(),\n      //创建人id\n      s_create_by: '',\n      //创建者姓名\n      s_create_name: '',\n      //创建人部门name\n      s_create_dept: '',\n      //创建人部门id\n      s_create_deptid: '',\n      //创建人机构id\n      s_create_unitid: '',\n      //创建时间\n      d_create_time: '',\n      //修改时间\n      d_update_time: new Date().getFullYear() + '-' + new Date().getMonth() + '-' + new Date().getDate(),\n      //申请会议室id\n      s_varchar1: 0,\n      //会议内容--标题\n      s_varchar2: ''\n    }, _defineProperty(_backData, \"s_varchar3\", ''), _defineProperty(_backData, \"s_varchar4\", ''), _defineProperty(_backData, \"s_varchar5\", ''), _defineProperty(_backData, \"s_varchar6\", ''), _defineProperty(_backData, \"s_varchar7\", ''), _defineProperty(_backData, \"d_create_time\", ''), _defineProperty(_backData, \"d_datetime1\", ''), _defineProperty(_backData, \"d_datetime2\", ''), _defineProperty(_backData, \"s_cur_proc_name\", ''), _defineProperty(_backData, \"s_cur_task_name\", ''), _defineProperty(_backData, \"i_is_important\", ''), _backData)), _defineProperty(_ref, \"url\", {\n      optionAndBtn: '/oaBus/newTask/optionAndBtn',\n      currentUserMsg: '/sys/user/getUserSectionInfoByToken',\n      updateReadStatus: '/oaBus/taskInAct/changeStatus',\n      queryOaFileList: '/oaBus/oaFile/queryOaFileList',\n      queryMeetingTime: '/oaBus/meetingInform/getMeetingTime',\n      queryChooseUser: '/sys/user/queryChooseUser'\n    }), _ref;\n  },\n  computed: {\n    timeStrings: function timeStrings() {\n      var oneTime = new Date();\n      var Y = oneTime.getFullYear();\n      var M = oneTime.getMonth() + 1;\n      var D = oneTime.getDate();\n      return Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + oneTime.toTimeString().substr(0, 8);\n    }\n  },\n  created: function created() {\n    this.show(); // this.changeMeetingRoom();//-------------------------不要随便初始化---------\n  },\n  methods: {\n    moment: moment,\n    //调用参会人员子组件业务数据处理方法\n    submit: function submit() {\n      // let address = this.address;\n      // let time = this.startTime;\n      this.$refs.s_varchar4.sendUser();\n    },\n    getDUS: function getDUS(data, iIsLimits, id) {\n      // console.log('----------------->>><<<<<<', data);\n      // console.log('----------------->>><<<<<<!!!!!', iIsLimits);\n      // console.log('----------------->>><<<<<<!!!!!', id);\n      if (id != undefined) {\n        this.backData.s_varchar7 = id.toString();\n      }\n\n      this.backData.s_varchar4 = data;\n      this.backData.s_varchar5 = iIsLimits;\n    },\n    //选择会议室查对应时间\n    changeMeetingRoom: function changeMeetingRoom(e, d) {\n      var _this = this;\n\n      this.backData.d_datetime1 = '';\n      this.backData.s_varchar1 = e;\n      this.backData.s_varchar6 = d.data.attrs.text;\n      getAction(this.url.queryMeetingTime, {\n        meetingRoom: this.backData.s_varchar1,\n        tableName: this.backData.table\n      }).then(function (res) {\n        _this.meetingTime = res.result;\n      });\n    },\n    //选择会议时间\n    changeTime: function changeTime(e) {\n      // if (backData.s_varchar1 == null || backData.s_varchar1 == undefined){\n      //   this.$message.error(\"请选择会议室\");\n      // }\n      this.backData.d_datetime1 = e;\n    },\n    close: function close() {\n      this.visible = false;\n    },\n    show: function show() {\n      for (var _i = 0; _i < this.optionMap.checkList.length; _i++) {\n        this.s_varchar.push(this.optionMap.checkList[_i].stableColumn);\n      } //业务数据赋值\n      // console.dir(this.backDataRef)\n\n\n      for (var i in this.backData) {\n        this.backData[i] = this.backDataRef[i];\n      }\n    },\n    ok: function ok() {\n      this.handleCancel();\n    },\n    handleCancel: function handleCancel() {\n      this.$emit('close');\n      this.visible = false;\n      this.disableSubmit = false; //清除意见与按钮页面数据\n\n      this.$refs.taskOptRef.clear(); //刷新父页面\n\n      this.$emit('reload_todo');\n    }\n  }\n};",{"version":3,"sources":["meetingNotice.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <center>\r\n    <table width=\"100%\" border=\"1\" :submit=\"submit\">\r\n      <tr style=\"height: 50px;\">\r\n        <td width=\"15%\" class=\"title\">\r\n          <center><h3>{{detailList.s_create_dept}}</h3></center>\r\n        </td>\r\n        <td>\r\n          <div style=\"padding-left: 10px;\">{{backData.s_create_dept}}</div>\r\n        </td>\r\n        <td width=\"15%\" class=\"title\">\r\n          <!--登记人员-->\r\n          <centezr><h3>{{detailList.s_create_name}}</h3></centezr>\r\n        </td>\r\n        <td>\r\n          <div style=\"padding-left: 10px\">{{backData.s_create_name}}</div>\r\n        </td>\r\n      </tr>\r\n      <!--会议室申请-->\r\n      <tr style=\"height: 50px;\">\r\n        <td colspan=\"1\" class=\"title\">\r\n          <center><h3>{{detailList.s_varchar1}}</h3></center>\r\n        </td>\r\n        <td colspan=\"7\">\r\n          <center>\r\n            <a-select style=\"width: 100%\" placeholder=\"请选择会议室\" ref=\"s_varchar1\" v-on:blur=\"blurText(backData.s_varchar1,$refs.s_varchar1)\" v-model=\"backData.s_varchar1\"\r\n                      @change=\"changeMeetingRoom\">\r\n              <a-select-option v-for=\"(item,index) in optionMap.s_varchar1_option\" :key=\"index\" :text=\"item.text\"\r\n                               :value=\"item.value\">{{item.text}}\r\n              </a-select-option>\r\n            </a-select>\r\n          </center>\r\n        </td>\r\n      </tr>\r\n      <!--申请时间-->\r\n      <tr style=\"height: 50px;\">\r\n        <td colspan=\"1\" class=\"title\">\r\n          <center><h3>{{detailList.d_datetime1}}</h3></center>\r\n        </td>\r\n        <td colspan=\"7\">\r\n          <center>\r\n            <a-select style=\"width: 100%\" v-model=\"backData.d_datetime1\" multiple placeholder=\"请选择会议时间\" ref=\"d_datetime1\"  v-on:blur=\"blurText($event,$refs.d_datetime1)\" @focus=\"dasdasfdsfs\"  @change=\"changeTime\">\r\n              <a-select-option v-for=\"(item,index) in meetingTime\" :key=\"index\" :value=\"item.dDatetime1\">\r\n                {{item.dDatetime1}}\r\n              </a-select-option>\r\n            </a-select>\r\n          </center>\r\n        </td>\r\n      </tr>\r\n      <!--会议内容-->\r\n      <tr>\r\n        <td colspan=\"1\" class=\"title\">\r\n          <center><h3>{{detailList.s_varchar2}}</h3></center>\r\n        </td>\r\n        <td colspan=\"7\" height=\"100px\">\r\n          <center>\r\n            <template>\r\n              <a-textarea placeholder=\"请输入会议内容...\" ref=\"s_varchar2\" v-on:blur=\"blurText(backData.s_varchar2,$refs.s_varchar2)\" onkeyPress=\"if(event.keyCode == 32){event.keyCode = 0;event.returnValue = false}\" v-model=\"backData.s_varchar2\" style=\"height: 100px\"\r\n                          :rows=\"true\"></a-textarea>\r\n            </template>\r\n          </center>\r\n        </td>\r\n      </tr>\r\n      <!--参会人员-->\r\n      <tr style=\"height: 50px;\">\r\n        <td width=\"10%\" class=\"title\">\r\n          <center><h3>{{detailList.s_varchar4}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <getpersons v-model=\"backData.s_varchar4\"  ref=\"s_varchar4\" :backData=\"backData\" @saveInform=\"submit\"\r\n                      @getDUS=\"getDUS\"/>\r\n        </td>\r\n      </tr>\r\n      <!--附件-->\r\n      <tr style=\"height: 50px;\">\r\n        <td width=\"10%\" class=\"title\">\r\n          <center><h3>{{detailList.s_varchar3}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <div v-for=\"(item,index) in oaFileList\" style=\"padding-left: 15px\">\r\n            <div class=\"qiCao\"><span class=\"hoverred\" @click=\"qiCao1(9,item)\">{{index+1}}、{{item.sfileName}}</span>\r\n              <span class=\"delCss\" v-show=\"isShowFile\">\r\n                <img :title=\"fileBtnName(1)\" v-show =\"isSuffex(item.sfileName)\" class=\"pices\" @click.stop=\"qiCao2(10,item)\" src=\"../../../../src/assets/set.png\"/>\r\n                <img :title=\"fileBtnName(2)\" class=\"pices\" @click.stop=\"updateFileName(item)\" src=\"../../../../src/assets/setName.png\"/>\r\n                <img :title=\"fileBtnName(3)\" class=\"pices\" @click.stop=\"deleteFilesBtn(item,4)\" src=\"../../../../src/assets/delete.png\"/>\r\n                <img :title=\"fileBtnName(4)\" v-show=\"oaFileList.length > 1 && index > 0\" class=\"pices\" @click.stop=\"topFile(item,index,4)\" src=\"../../../../src/assets/top.png\"/>\r\n                <img :title=\"fileBtnName(5)\" v-show=\"oaFileList.length > 1 && index < oaFileList.length-1\" class=\"pices\" @click.stop=\"lowFile(item,index,4)\" src=\"../../../../src/assets/bottom.png\"/>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      <!--创建时间-->\r\n      <template v-if=\"this.backData.d_create_time != timeStrings\">\r\n        <tr style=\"height: 50px;\">\r\n          <td width=\"10%\" class=\"title\">\r\n            <center><h3>{{detailList.d_create_time}}</h3></center>\r\n          </td>\r\n          <td colspan=\"3\">\r\n            <div style=\"padding-left: 10px;\">{{backData.d_create_time}}</div>\r\n          </td>\r\n        </tr>\r\n      </template>\r\n      <template v-else>\r\n        <tr style=\"height: 50px;\">\r\n          <td width=\"10%\" class=\"title\">\r\n            <center><h3>{{detailList.d_create_time}}</h3></center>\r\n          </td>\r\n          <td colspan=\"3\">\r\n            <div style=\"padding-left: 10px;\" v-model=\"backData.d_create_time\">{{ timeStrings }}</div>\r\n          </td>\r\n        </tr>\r\n      </template>\r\n    </table>\r\n    <del-time ref=\"updateFileNameModal\" @reloadAfterUpdate=\"reloadAfterUpdate\"></del-time>\r\n  </center>\r\n</template>\r\n\r\n\r\n<script>\r\n  import {getAction} from \"../../../api/manage\";\r\n  import {JeecgListMixin} from \"../../../mixins/JeecgListMixin2\";\r\n  import moment from 'moment'\r\n  import {busdataTemplate} from \"@/views/buttons/btn-js/busdataTemplate\";\r\n  import getpersons from \"../../oaBus/pageModels/meetingUser\"\r\n  import DelTime from \"../../buttons/DelTimeModal\";\r\n  export default {\r\n    name: \"meetingNotice\",\r\n    mixins: [JeecgListMixin, busdataTemplate],\r\n    components: {DelTime, getpersons},\r\n    props: {\r\n      backDataRef: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      detailList: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      optionMap: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      isShowFile:{\r\n        type: Object,\r\n        required: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        s_varchar:[],\r\n        userRealName: '',\r\n\r\n        value: 1,\r\n        isAllChack: false,\r\n        //会议时间\r\n        meetingTime: [],\r\n        //选择会议开始时间\r\n        startTime: '',\r\n        //会议室\r\n        address: '',\r\n        //参会人员id\r\n        meetingUserId: [],\r\n        oaFileList: [],    //  文档数据\r\n        banWenFileList:[],\r\n        visible: true,\r\n        title: '会议申请',\r\n        confirmLoading: false,\r\n        userData: '',\r\n        //代办信息\r\n        task: '',\r\n        //已办信息\r\n        taskDone: '',\r\n        opts: [],//意见框信息\r\n        meeting: '',\r\n        //意见表相关\r\n        backDataOpt: {\r\n          //回填数据id\r\n          table: 'oa_busdata40',\r\n          i_id: \"\",\r\n          i_opinion_set_id: \"\",\r\n          i_bus_function_id: \"\",\r\n          i_busdata_id: \"\",\r\n          s_name: \"\",\r\n          i_user_id: \"\",\r\n          d_sign: \"\",\r\n          s_opinion: \"\",\r\n          s_opinion_type: \"\",\r\n          s_task_id: \"\",\r\n          s_task_name: \"\",\r\n          s_overt: \"\",\r\n          i_order: \"\",\r\n          s_tpye: \"\",\r\n          s_dept_id: \"\",\r\n          s_dept_name: \"\",\r\n          s_taskdef_key: \"\"\r\n        },\r\n        oaFileList: [],    //  文档数据   字段含义\r\n        //表中的数据相关值\r\n        jeditShow: false,   //富文本编辑器的内容的value值\r\n        jeditor: {\r\n          value: ''\r\n        },\r\n\r\n        backData: {\r\n\r\n          //属性判断---新建时使用\r\n          //---------------------------------------------\r\n          //流程key\r\n          key: '',\r\n          //文号\r\n          act_show: '',\r\n          //page ref\r\n          page_ref: '',\r\n          //业务配置表id-用于查询按钮/意见权限\r\n          iprocSetId: '',\r\n          //对应的业务数据表\r\n          table: 'oa_busdata40',\r\n          //---------------------------------- 以下为表存储字段\r\n\r\n          //*******\r\n          i_id: '',\r\n          i_bigint1: '',   //份数\r\n          i_bigint2: '',   //页数\r\n          s_receive_type: '',     //来文文种\r\n          s_varchar3: '',//\"办文依据\"\r\n          d_datetime1: '',//\"成文日期\"\r\n          //*******\r\n          //模块---业务模块id\r\n          i_bus_model_id: '',\r\n          //-------业务功能id\r\n          i_bus_function_id: '',\r\n          //密级\r\n          i_safetylevel: 0,\r\n          //缓急\r\n          i_urgency: 0,\r\n          //主办部门\r\n          s_main_dept_names: '主办部门',\r\n          //辅办部门\r\n          s_cc_dept_names: '辅办部门',\r\n          //内部发送部门\r\n          s_inside_deptnames: '内部发送部门',\r\n          //标题\r\n          s_title: '中国人民银行永州市中心支行收文处理签',\r\n          //左侧参数页面头部\r\n          s_left_parameter: '左侧参数页面头部',\r\n          //机构\r\n          s_unit_name: '',\r\n          //部门\r\n          s_dept_name: '',\r\n          //插入参数（修改文头）（页面头部）\r\n          s_middle_parameter: '',\r\n          //右侧参数（页面头部）\r\n          s_right_parameter: '',\r\n          //来文字号\r\n          s_receive_num: '',\r\n          //文件字号\r\n          s_file_num: '',\r\n          //来文机关（数据字典取值）\r\n          i_receive_dept_id: '',\r\n          //是否办结\r\n          i_is_state: 0,\r\n          //是否保存办文单\r\n          i_is_approve: 0,\r\n          //是否归档\r\n          i_is_archives: 0,\r\n          //是否已送全文检索\r\n          i_is_es: 0,\r\n          //是否送公文传输\r\n          i_is_send: 0,\r\n          //是否为临时文件\r\n          i_is_display: 0,\r\n          //备注\r\n          s_remarks: '',\r\n          //创建时间-年\r\n          i_create_year: new Date().getFullYear(),\r\n          //创建时间-月\r\n          i_create_month: new Date().getMonth(),\r\n          //创建时间-日期\r\n          i_create_day: new Date().getDate(),\r\n          //创建人id\r\n          s_create_by: '',\r\n          //创建者姓名\r\n          s_create_name: '',\r\n          //创建人部门name\r\n          s_create_dept: '',\r\n          //创建人部门id\r\n          s_create_deptid: '',\r\n          //创建人机构id\r\n          s_create_unitid: '',\r\n          //创建时间\r\n          d_create_time: '',\r\n          //修改时间\r\n          d_update_time: new Date().getFullYear() + '-' + new Date().getMonth() + '-' + new Date().getDate(),\r\n          //申请会议室id\r\n          s_varchar1: 0,\r\n          //会议内容--标题\r\n          s_varchar2: '',\r\n          //附件\r\n          s_varchar3: '',\r\n          //参会人员---参会人员id\r\n          s_varchar4: '',\r\n          //全行，部门，用户标示\r\n          s_varchar5: '',\r\n          //会议室名\r\n          s_varchar6: '',\r\n          //参会选择id\r\n          s_varchar7: '',\r\n          //录入时间---日程开始时间\r\n          d_create_time: '',\r\n          //开始时间---日程结束时间\r\n          d_datetime1: '',\r\n          //截至时间\r\n          d_datetime2: '',\r\n          s_cur_proc_name: '',\r\n          //当前任务名称\r\n          s_cur_task_name: '',\r\n          //是否重要\r\n          i_is_important: ''\r\n        },\r\n        url: {\r\n          optionAndBtn: '/oaBus/newTask/optionAndBtn',\r\n          currentUserMsg: '/sys/user/getUserSectionInfoByToken',\r\n          updateReadStatus: '/oaBus/taskInAct/changeStatus',\r\n          queryOaFileList: '/oaBus/oaFile/queryOaFileList',\r\n          queryMeetingTime: '/oaBus/meetingInform/getMeetingTime',\r\n          queryChooseUser: '/sys/user/queryChooseUser'\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      timeStrings() {\r\n        let oneTime = new Date();\r\n        let Y = oneTime.getFullYear();\r\n        let M = oneTime.getMonth() + 1;\r\n        let D = oneTime.getDate();\r\n        return Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + oneTime.toTimeString().substr(0, 8);\r\n      },\r\n    },\r\n    created() {\r\n      this.show();\r\n      // this.changeMeetingRoom();//-------------------------不要随便初始化---------\r\n    },\r\n    methods: {\r\n      moment,\r\n      //调用参会人员子组件业务数据处理方法\r\n      submit() {\r\n        // let address = this.address;\r\n        // let time = this.startTime;\r\n        this.$refs.s_varchar4.sendUser();\r\n      },\r\n      getDUS(data,iIsLimits,id) {\r\n        // console.log('----------------->>><<<<<<', data);\r\n        // console.log('----------------->>><<<<<<!!!!!', iIsLimits);\r\n        // console.log('----------------->>><<<<<<!!!!!', id);\r\n        if (id != undefined){\r\n          this.backData.s_varchar7=id.toString();\r\n        }\r\n        this.backData.s_varchar4 = data;\r\n        this.backData.s_varchar5 = iIsLimits;\r\n      },\r\n      //选择会议室查对应时间\r\n      changeMeetingRoom(e, d) {\r\n        this.backData.d_datetime1 = '';\r\n        this.backData.s_varchar1 = e;\r\n        this.backData.s_varchar6 = d.data.attrs.text;\r\n        getAction(this.url.queryMeetingTime, {\r\n          meetingRoom: this.backData.s_varchar1,\r\n          tableName: this.backData.table\r\n        }).then((res) => {\r\n          this.meetingTime = res.result\r\n        });\r\n      },\r\n      //选择会议时间\r\n      changeTime(e) {\r\n        // if (backData.s_varchar1 == null || backData.s_varchar1 == undefined){\r\n        //   this.$message.error(\"请选择会议室\");\r\n        // }\r\n        this.backData.d_datetime1 = e;\r\n      },\r\n\r\n      close() {\r\n        this.visible = false;\r\n      },\r\n      show() {\r\n        for(let i = 0;i<this.optionMap.checkList.length;i++){\r\n          this.s_varchar.push(this.optionMap.checkList[i].stableColumn);\r\n        }\r\n        //业务数据赋值\r\n        // console.dir(this.backDataRef)\r\n        for (var i in this.backData) {\r\n          this.backData[i] = this.backDataRef[i];\r\n        }\r\n      },\r\n      ok() {\r\n        this.handleCancel()\r\n      },\r\n      handleCancel() {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n        this.disableSubmit = false;\r\n        //清除意见与按钮页面数据\r\n        this.$refs.taskOptRef.clear()\r\n        //刷新父页面\r\n        this.$emit('reload_todo')\r\n      },\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  input.ant-input{\r\n    height: 48px;\r\n  }\r\n\r\n  textarea.ant-input{\r\n    height: 48px;\r\n  }\r\n\r\n  /deep/ .ant-select-selection--single{\r\n    height: 48px;\r\n    padding: 8px 0;\r\n  }\r\n\r\n  /deep/ .ant-calendar-picker-input{\r\n    height: 48px;\r\n  }\r\n</style>\r\n\r\n<style>\r\n  .hoverred:hover {\r\n    color: red;\r\n    cursor: pointer;\r\n  }\r\n  .title{\r\n    background-color: #e9ecf2 !important;\r\n    padding: 0.7% !important;\r\n    text-align: center !important;\r\n  }\r\n  .text {\r\n    padding: 10px;\r\n  }\r\n  .title  h3 {\r\n    font-weight: bolder !important;\r\n  }\r\n  .ant-btn-default{\r\n    font-weight: bolder !important;\r\n    background: rgb(178, 218, 255) !important;\r\n  }\r\n</style>"],"sourceRoot":"src/views/mytask/taskList"}]}