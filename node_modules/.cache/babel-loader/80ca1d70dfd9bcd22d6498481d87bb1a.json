{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js!C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\workflow\\modules\\editPro.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\workflow\\modules\\editPro.vue","mtime":1576200550070},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { httpAction, getAction, postAction } from '@/api/manage';\nimport Vue from 'vue';\nimport { ACCESS_TOKEN } from \"../../../store/mutation-types\";\nimport axios from 'axios';\nexport default {\n  name: \"editPro\",\n  components: {},\n  data: function data() {\n    return {\n      name: '',\n      xml: '',\n      confirmLoading: false,\n      headers: {\n        'X-Access-Token': Vue.ls.get(ACCESS_TOKEN)\n      },\n      visible: false,\n      picurl: ''\n    };\n  },\n  created: function created() {},\n  methods: {\n    editPro: function editPro(processDefinitionId, name) {\n      var _this = this;\n\n      this.name = name;\n      this.picurl = '/wf/process/resource/xml?processDefinitionId=' + processDefinitionId;\n      getAction(this.picurl).then(function (res) {\n        _this.xml = res.message;\n        _this.visible = true;\n      });\n    },\n    handleCancel: function handleCancel() {\n      this.$emit('close');\n      this.visible = false;\n      this.$emit('reload');\n    },\n    save: function save() {\n      var _this2 = this;\n\n      var save = window._CONFIG['domianURL'] + '/wf/process/xml/save';\n      axios({\n        method: 'post',\n        url: save,\n        data: {\n          name: this.name,\n          xml: this.xml\n        },\n        headers: this.headers\n      }).then(function (res) {\n        _this2.$message.success('更新成功');\n\n        console.log('---------------->' + JSON.stringify(res));\n      });\n      this.handleCancel();\n    }\n  }\n};",{"version":3,"sources":["editPro.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA,SAAA,UAAA,EAAA,SAAA,EAAA,UAAA,QAAA,cAAA;AACA,OAAA,GAAA,MAAA,KAAA;AACA,SAAA,YAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,GAAA,EAAA,EAFA;AAGA,MAAA,cAAA,EAAA,KAHA;AAIA,MAAA,OAAA,EAAA;AAAA,0BAAA,GAAA,CAAA,EAAA,CAAA,GAAA,CAAA,YAAA;AAAA,OAJA;AAKA,MAAA,OAAA,EAAA,KALA;AAMA,MAAA,MAAA,EAAA;AANA,KAAA;AAQA,GAZA;AAaA,EAAA,OAbA,qBAaA,CACA,CAdA;AAeA,EAAA,OAAA,EAAA;AAEA,IAAA,OAFA,mBAEA,mBAFA,EAEA,IAFA,EAEA;AAAA;;AAGA,WAAA,IAAA,GAAA,IAAA;AAEA,WAAA,MAAA,GAAA,kDAAA,mBAAA;AAEA,MAAA,SAAA,CAAA,KAAA,MAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,GAAA,GAAA,GAAA,CAAA,OAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,OAHA;AAKA,KAdA;AAeA,IAAA,YAfA,0BAeA;AACA,WAAA,KAAA,CAAA,OAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,QAAA;AACA,KAnBA;AAmBA,IAAA,IAnBA,kBAmBA;AAAA;;AAEA,UAAA,IAAA,GAAA,MAAA,CAAA,OAAA,CAAA,WAAA,IAAA,sBAAA;AAEA,MAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA;AACA,UAAA,IAAA,EAAA,KAAA,IADA;AAEA,UAAA,GAAA,EAAA,KAAA;AAFA,SAHA;AAOA,QAAA,OAAA,EAAA,KAAA;AAPA,OAAA,CAAA,CAQA,IARA,CAQA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,sBAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA;AAEA,OAZA;AAcA,WAAA,YAAA;AAEA;AAvCA;AAfA,CAAA","sourcesContent":["<template>\r\n  <a-modal\r\n    :title=\"title\"\r\n    :width=\"1000\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    @ok=\"save\"\r\n    @cancel=\"handleCancel\"\r\n    okText=\"保存\"\r\n    cancelText=\"取消\">\r\n\r\n    <div id=\"pic\">\r\n\r\n      <textarea v-if=\"visible\" autofocus=\"autofocus\" contenteditable=\"true\" rows=\"20\" cols=\"140\" v-model=\"xml\"></textarea>\r\n\r\n    </div>\r\n\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\n\r\n  import {httpAction,getAction,postAction} from '@/api/manage'\r\n  import Vue from 'vue'\r\n  import {ACCESS_TOKEN} from \"../../../store/mutation-types\";\r\n  import axios from 'axios'\r\n\r\n  export default {\r\n    name: \"editPro\",\r\n    components: {},\r\n    data() {\r\n      return {\r\n        name: '',\r\n        xml: '',\r\n        confirmLoading: false,\r\n        headers: {'X-Access-Token': Vue.ls.get(ACCESS_TOKEN)},\r\n        visible: false,\r\n        picurl: ''\r\n      }\r\n    },\r\n    created() {\r\n    },\r\n    methods: {\r\n\r\n      editPro(processDefinitionId, name) {\r\n\r\n\r\n        this.name = name\r\n\r\n        this.picurl = '/wf/process/resource/xml?processDefinitionId=' + processDefinitionId\r\n\r\n        getAction(this.picurl).then(res=>{\r\n          this.xml = res.message\r\n          this.visible = true;\r\n        })\r\n\r\n      },\r\n      handleCancel() {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n        this.$emit('reload')\r\n      }, save() {\r\n\r\n        var save = window._CONFIG['domianURL']+'/wf/process/xml/save'\r\n\r\n        axios({\r\n          method: 'post',\r\n          url: save,\r\n          data: {\r\n            name: this.name,\r\n            xml: this.xml\r\n          },\r\n          headers: this.headers,\r\n        }).then(res => {\r\n          this.$message.success('更新成功')\r\n          console.log('---------------->' + JSON.stringify(res))\r\n\r\n        })\r\n\r\n        this.handleCancel();\r\n\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>"],"sourceRoot":"src/views/workflow/modules"}]}