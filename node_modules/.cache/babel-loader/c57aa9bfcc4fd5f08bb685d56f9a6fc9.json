{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js!C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\oaBus\\pageModels\\meetingUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\oaBus\\pageModels\\meetingUser.vue","mtime":1579513668504},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport JSelectNoticeDepart from '@/components/jeecgbiz/JSelectNoticeDepart';\nimport { getAction, postAction } from \"@/api/manage\";\nimport JSelectNoticeUserByDep from '@/components/jeecgbiz/JSelectNoticeUserByDep';\nexport default {\n  name: 'releaseScope',\n  components: {\n    JSelectNoticeDepart: JSelectNoticeDepart,\n    JSelectNoticeUserByDep: JSelectNoticeUserByDep\n  },\n  props: {\n    backData: {\n      type: Object,\n      required: false\n    },\n    modalWidth: {\n      type: Number,\n      default: 1250,\n      required: false\n    },\n    value: {\n      type: String,\n      required: false\n    },\n    disabled: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      selectedDepUsers: \"\",\n      iIsLimits: '',\n      departId: '',\n      userRealName: '',\n      sTittle: '',\n      meetingUserId: '',\n      url: {\n        queryAllUser: '/sys/user/queryAllUser',\n        sendMeetingInform: '/oaBus/meetingInform/sendMeetingInform' //发送通知\n\n      }\n    };\n  },\n  created: function created() {\n    // this.backData  为父组件回传backdata 数据     回显\n    if (this.backData.s_varchar7 != undefined || this.backData.s_varchar7 != null) {\n      // console.log('============1111111',this.backData.s_varchar7);\n      this.meetingUserId = this.backData.s_varchar7; // console.log('============2222',this.meetingUserId);\n    }\n\n    if (this.backData.s_varchar5 == undefined) {\n      this.iIsLimits = 1;\n    } else {\n      this.iIsLimits = Number(this.backData.s_varchar5);\n    } //判断显示类型 1 是全行   2是部门  3是人员     状态为 单选对应选中并数据回显\n\n\n    if (Number(this.backData.s_varchar5) == 2) {\n      this.departId = this.backData.s_varchar4;\n    } else if (Number(this.backData.s_varchar5) == 3) {\n      this.userRealName = this.backData.s_varchar4;\n    }\n  },\n  mounted: function mounted() {\n    this.selectedDepUsers = this.value;\n  },\n  watch: {\n    value: function value(val) {\n      this.selectedDepUsers = val;\n    }\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  methods: {\n    //监听选择范围\n    selectJG: function selectJG(e) {\n      //全行\n      if (e.target.value == 1) {\n        var publish = {};\n        publish.iIsLimits = e.target.value;\n        this.$emit(\"change1\", publish);\n      }\n    },\n    //获取选择范围数据\n    change: function change(e) {\n      var publish = {};\n      publish.iIsLimits = this.iIsLimits;\n\n      if (this.iIsLimits == 2) {\n        publish.departId = e;\n      }\n\n      if (this.iIsLimits == 3) {\n        publish.userRealName = this.userRealName;\n      }\n\n      this.$emit(\"change1\", publish);\n    },\n    senUserId: function senUserId(userId) {\n      this.meetingUserId = userId;\n    },\n    //通过组织机构筛选选择用户\n    onSearchDepUser: function onSearchDepUser() {\n      this.onSearchDepUserCallBack('');\n    },\n    onSearchDepUserCallBack: function onSearchDepUserCallBack(selectedDepUsers) {\n      this.selectedDepUsers = selectedDepUsers;\n      this.$emit(\"change\", selectedDepUsers);\n    },\n    selectFun: function selectFun(index) {\n      if (index == 1) {\n        this.$emit('getDUS', 1, 1);\n      }\n\n      if (index == 2) {\n        this.meetingUserId = [];\n      }\n\n      if (index == 3) {\n        this.departId = '';\n        this.onSearchDepUserCallBack('');\n      }\n    },\n    //部门id传父组件\n    getUD1: function getUD1(data) {\n      this.$emit('getDUS', data, this.iIsLimits);\n    },\n    //用户id传父组件\n    getUD2: function getUD2() {\n      this.$emit('getDUS', this.userRealName, this.iIsLimits, this.meetingUserId);\n    },\n    sendUser: function sendUser() {\n      var json = {\n        iIsLimits: this.iIsLimits,\n        meetingUserId: this.meetingUserId.toString(),\n        // userRealName: this.userRealName,\n        departId: this.departId,\n        tableName: this.backData.table,\n        busdataId: this.backData.i_id,\n        functionId: this.backData.i_bus_function_id,\n        sTittle: this.backData.s_varchar2,\n        sAddress: this.backData.s_varchar6,\n        // sAddress : address,\n        dStartTime: this.backData.d_create_time,\n        // dEndTime:time,\n        dEndTime: this.backData.d_datetime1,\n        // sCreateBy :this.backData.s_create_name,\n        dCreateTime: this.backData.d_create_time,\n        iBusModelId: this.backData.i_bus_model_id\n      };\n      postAction(this.url.sendMeetingInform, json).then(function (res) {});\n    }\n  }\n};",{"version":3,"sources":["meetingUser.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"padding: 10px\">\r\n    <a-radio-group v-model=\"iIsLimits\"  @change=\"selectJG\">\r\n      <a-radio @click=\"selectFun(1)\" :value=\"1\">全行</a-radio>\r\n      <a-radio @click=\"selectFun(2)\" :value=\"2\">部门</a-radio>\r\n      <a-radio @click=\"selectFun(3)\" :value=\"3\">用户</a-radio>\r\n    </a-radio-group>\r\n      <a-row :gutter=\"24\" v-show='iIsLimits==2'>\r\n        <a-col :span=\"24\" >\r\n          <a-form-item  label=\"选择部门\">\r\n            <j-select-notice-depart v-model=\"departId\" :multi=\"true\"  @change=\"change\" @getUD1=\"getUD1\"></j-select-notice-depart>\r\n          </a-form-item>\r\n        </a-col>\r\n      </a-row>\r\n      <a-row :gutter=\"24\" v-show='iIsLimits==3'>\r\n        <a-col :span=\"24\" >\r\n          <a-form-item  label=\"选择用户\" >\r\n            <j-select-notice-user-by-dep  @senUserId=\"senUserId\" :meetingUserId=\"meetingUserId\"  v-model=\"userRealName\" @getUD2=\"getUD2\" @change=\"change\"></j-select-notice-user-by-dep>\r\n          </a-form-item>\r\n        </a-col>\r\n      </a-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import JSelectNoticeDepart from '@/components/jeecgbiz/JSelectNoticeDepart'\r\n  import {getAction, postAction} from \"@/api/manage\";\r\n  import JSelectNoticeUserByDep from '@/components/jeecgbiz/JSelectNoticeUserByDep'\r\n\r\n  export default {\r\n    name: 'releaseScope',\r\n    components: {\r\n      JSelectNoticeDepart,\r\n      JSelectNoticeUserByDep\r\n    },\r\n    props: {\r\n      backData: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      modalWidth: {\r\n        type: Number,\r\n        default: 1250,\r\n        required: false\r\n      },\r\n      value: {\r\n        type: String,\r\n        required: false\r\n      },\r\n      disabled: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        selectedDepUsers: \"\",\r\n        iIsLimits: '',\r\n        departId: '',\r\n        userRealName: '',\r\n        sTittle: '',\r\n        meetingUserId: '',\r\n        url: {\r\n          queryAllUser: '/sys/user/queryAllUser',\r\n          sendMeetingInform: '/oaBus/meetingInform/sendMeetingInform'  //发送通知\r\n        },\r\n      }\r\n    },\r\n\r\n    created(){\r\n      // this.backData  为父组件回传backdata 数据     回显\r\n      if (this.backData.s_varchar7 != undefined ||this.backData.s_varchar7 != null){\r\n        // console.log('============1111111',this.backData.s_varchar7);\r\n        this.meetingUserId = this.backData.s_varchar7\r\n        // console.log('============2222',this.meetingUserId);\r\n      }\r\n      if (this.backData.s_varchar5 == undefined ){\r\n        this.iIsLimits = 1;\r\n      } else {\r\n        this.iIsLimits = Number(this.backData.s_varchar5);\r\n      }\r\n      //判断显示类型 1 是全行   2是部门  3是人员     状态为 单选对应选中并数据回显\r\n      if (Number(this.backData.s_varchar5)==2){\r\n        this.departId = this.backData.s_varchar4;\r\n      }else if(Number(this.backData.s_varchar5)==3){\r\n        this.userRealName = this.backData.s_varchar4;\r\n      }\r\n    },\r\n\r\n    mounted() {\r\n      this.selectedDepUsers = this.value\r\n    },\r\n    watch: {\r\n      value(val) {\r\n        this.selectedDepUsers = val\r\n      }\r\n    },\r\n    model: {\r\n      prop: 'value',\r\n      event: 'change'\r\n    },\r\n    methods: {\r\n      //监听选择范围\r\n      selectJG(e) {\r\n        //全行\r\n        if (e.target.value == 1) {\r\n          let publish = {};\r\n          publish.iIsLimits = e.target.value;\r\n          this.$emit(\"change1\", publish)\r\n        }\r\n      },\r\n\r\n      //获取选择范围数据\r\n      change(e) {\r\n        let publish = {};\r\n        publish.iIsLimits = this.iIsLimits;\r\n        if (this.iIsLimits == 2) {\r\n          publish.departId = e;\r\n        }\r\n        if (this.iIsLimits == 3) {\r\n          publish.userRealName = this.userRealName;\r\n        }\r\n        this.$emit(\"change1\", publish)\r\n      },\r\n\r\n      senUserId(userId) {\r\n        this.meetingUserId = userId;\r\n      },\r\n\r\n      //通过组织机构筛选选择用户\r\n      onSearchDepUser() {\r\n        this.onSearchDepUserCallBack('')\r\n      },\r\n      onSearchDepUserCallBack(selectedDepUsers) {\r\n        this.selectedDepUsers = selectedDepUsers\r\n        this.$emit(\"change\", selectedDepUsers)\r\n      },\r\n\r\n      selectFun(index) {\r\n        if (index == 1 ){\r\n          this.$emit('getDUS', 1, 1)\r\n        }\r\n        if (index == 2) {\r\n          this.meetingUserId = [];\r\n        }\r\n        if (index == 3) {\r\n          this.departId = '';\r\n          this.onSearchDepUserCallBack('')\r\n        }\r\n      },\r\n\r\n      //部门id传父组件\r\n      getUD1(data) {\r\n        this.$emit('getDUS', data, this.iIsLimits)\r\n      },\r\n\r\n      //用户id传父组件\r\n      getUD2() {\r\n        this.$emit('getDUS', this.userRealName, this.iIsLimits,this.meetingUserId)\r\n      },\r\n\r\n      sendUser() {\r\n        let json = {\r\n          iIsLimits: this.iIsLimits,\r\n          meetingUserId: this.meetingUserId.toString(),\r\n          // userRealName: this.userRealName,\r\n          departId: this.departId,\r\n          tableName: this.backData.table,\r\n          busdataId: this.backData.i_id,\r\n          functionId: this.backData.i_bus_function_id,\r\n          sTittle: this.backData.s_varchar2,\r\n          sAddress: this.backData.s_varchar6,\r\n          // sAddress : address,\r\n          dStartTime: this.backData.d_create_time,\r\n          // dEndTime:time,\r\n          dEndTime: this.backData.d_datetime1,\r\n          // sCreateBy :this.backData.s_create_name,\r\n          dCreateTime: this.backData.d_create_time,\r\n          iBusModelId: this.backData.i_bus_model_id,\r\n        };\r\n        postAction(this.url.sendMeetingInform, json).then((res) => {\r\n        });\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/views/oaBus/pageModels"}]}