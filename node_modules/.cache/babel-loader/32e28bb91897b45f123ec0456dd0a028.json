{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js!C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\modules\\reCallTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\modules\\reCallTask.vue","mtime":1576738740994},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { JeecgListMixin } from \"../../../mixins/JeecgListMixin2\";\nimport nextUsers from \"./nextUsers\";\nimport { getAction, postAction } from '@/api/manage';\nexport default {\n  name: \"reCallModal\",\n  mixins: [JeecgListMixin],\n  components: {\n    nextUsers: nextUsers\n  },\n  data: function data() {\n    return {\n      title: '撤回',\n      taskMsg: '',\n      visible: false,\n      confirmLoading: false,\n      columns: [{\n        title: '节点',\n        align: \"center\",\n        dataIndex: 'taskName'\n      }],\n      url: {\n        reCallTask: '/wf/task/reCallTask'\n      }\n    };\n  },\n  created: function created() {},\n  methods: {\n    show: function show() {\n      this.visible = true;\n    },\n    ok: function ok() {\n      var _this = this;\n\n      if (this.selectionRows.length <= 0) {\n        this.$message.error(\"请选择撤回节点\");\n        return;\n      }\n\n      var taskId = this.taskMsg.id;\n      var reCallTaskKey = this.selectedRowKeys[0];\n      var param = {\n        taskId: taskId,\n        reCallTaskKey: reCallTaskKey\n      };\n      getAction(this.url.reCallTask, param).then(function (res) {\n        if (res.succes) {\n          _this.$message.success(res.message);\n\n          _this.handleCancel();\n        } else {\n          _this.$message.error(res.message);\n        }\n      });\n    },\n    cancel: function cancel() {},\n    handleCancel: function handleCancel() {\n      this.$emit('close');\n      this.visible = false;\n      this.dataInit();\n    },\n    dataInit: function dataInit() {\n      this.selectionRows = [];\n      this.selectedRowKeys = [];\n    }\n  }\n};",{"version":3,"sources":["reCallTask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,SAAA,cAAA;AACA,OAAA,SAAA;AACA,SAAA,SAAA,EAAA,UAAA,QAAA,cAAA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,MAAA,EAAA,CAAA,cAAA,CAFA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GAHA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,KAHA;AAIA,MAAA,cAAA,EAAA,KAJA;AAKA,MAAA,OAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,KAAA,EAAA,QAFA;AAGA,QAAA,SAAA,EAAA;AAHA,OADA,CALA;AAYA,MAAA,GAAA,EAAA;AACA,QAAA,UAAA,EAAA;AADA;AAZA,KAAA;AAiBA,GAxBA;AAyBA,EAAA,OAzBA,qBAyBA,CACA,CA1BA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,EAJA,gBAIA;AAAA;;AACA,UAAA,KAAA,aAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,SAAA;AACA;AACA;;AACA,UAAA,MAAA,GAAA,KAAA,OAAA,CAAA,EAAA;AACA,UAAA,aAAA,GAAA,KAAA,eAAA,CAAA,CAAA,CAAA;AACA,UAAA,KAAA,GAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,aAAA,EAAA;AAFA,OAAA;AAKA,MAAA,SAAA,CAAA,KAAA,GAAA,CAAA,UAAA,EAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA;;AACA,UAAA,KAAA,CAAA,YAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OAPA;AAUA,KA1BA;AA2BA,IAAA,MA3BA,oBA2BA,CAEA,CA7BA;AA8BA,IAAA,YA9BA,0BA8BA;AACA,WAAA,KAAA,CAAA,OAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,WAAA,QAAA;AACA,KAlCA;AAmCA,IAAA,QAnCA,sBAmCA;AACA,WAAA,aAAA,GAAA,EAAA;AACA,WAAA,eAAA,GAAA,EAAA;AACA;AAtCA;AA3BA,CAAA","sourcesContent":["<template>\r\n  <a-modal\r\n    :title=\"title\"\r\n    :width=\"800\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    @ok=\"ok\"\r\n    @cancel=\"handleCancel\"\r\n    destroyOnClose\r\n    okText=\"撤回\"\r\n    cancelText=\"取消\">\r\n\r\n\r\n    <a-layout id=\"components-layout-demo-top-side-2\">\r\n      <a-layout>\r\n        <a-layout style=\"padding: 2px 2px 2px\">\r\n          <a-layout-content\r\n            :style=\"{ background: '#fff', padding: '10px', margin: 0, minHeight: '280px' }\">\r\n            <a-table\r\n              ref=\"table\"\r\n              size=\"middle\"\r\n              bordered\r\n              rowKey=\"taskKey\"\r\n              :columns=\"columns\"\r\n              :dataSource=\"dataSource\"\r\n              :rowSelection=\"{selectedRowKeys: selectedRowKeys, onChange: onSelectChange,type:'radio'}\">\r\n\r\n            </a-table>\r\n          </a-layout-content>\r\n        </a-layout>\r\n      </a-layout>\r\n    </a-layout>\r\n\r\n\r\n  </a-modal>\r\n</template>\r\n\r\n\r\n<script>\r\n  import {JeecgListMixin} from \"../../../mixins/JeecgListMixin2\";\r\n  import nextUsers from './nextUsers'\r\n  import {getAction, postAction} from '@/api/manage'\r\n\r\n\r\n  export default {\r\n    name: \"reCallModal\",\r\n    mixins: [JeecgListMixin],\r\n    components: {\r\n      nextUsers\r\n    },\r\n    data() {\r\n      return {\r\n        title: '撤回',\r\n        taskMsg: '',\r\n        visible: false,\r\n        confirmLoading: false,\r\n        columns: [\r\n          {\r\n            title: '节点',\r\n            align: \"center\",\r\n            dataIndex: 'taskName'\r\n          }\r\n        ],\r\n        url: {\r\n          reCallTask: '/wf/task/reCallTask',\r\n        }\r\n\r\n      }\r\n    },\r\n    created() {\r\n    },\r\n    methods: {\r\n      show() {\r\n        this.visible = true\r\n      },\r\n      ok() {\r\n        if (this.selectionRows.length <= 0) {\r\n          this.$message.error(\"请选择撤回节点\")\r\n          return\r\n        }\r\n        let taskId = this.taskMsg.id\r\n        let reCallTaskKey = this.selectedRowKeys[0]\r\n        let param = {\r\n          taskId: taskId,\r\n          reCallTaskKey: reCallTaskKey\r\n        }\r\n\r\n        getAction(this.url.reCallTask, param).then(res => {\r\n          if (res.succes) {\r\n            this.$message.success(res.message)\r\n            this.handleCancel()\r\n          } else {\r\n            this.$message.error(res.message)\r\n          }\r\n        })\r\n\r\n\r\n      },\r\n      cancel() {\r\n\r\n      },\r\n      handleCancel() {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n        this.dataInit()\r\n      },\r\n      dataInit() {\r\n        this.selectionRows = []\r\n        this.selectedRowKeys = []\r\n      }\r\n    }\r\n  }\r\n</script>"],"sourceRoot":"src/views/mytask/modules"}]}