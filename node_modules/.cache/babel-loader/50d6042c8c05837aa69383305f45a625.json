{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js!C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\taskHaveDone.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\taskHaveDone.vue","mtime":1579588141782},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import Vue from 'vue'\n// import {JeecgListMixin} from '@/mixins/JeecgListMixin'\n// import {ACCESS_TOKEN} from \"../../store/mutation-types\"\n// import {getAction, getRoleList, getServiceList, getUserList, httpAction, postAction} from '@/api/manage'\n// import pic2Modal from '../../views/mytask/modules/pic2Modal'\n// import STable from '@/components/table/'\n// import ATextarea from \"ant-design-vue/es/input/TextArea\"\n// import AInput from \"ant-design-vue/es/input/Input\"\n// import ARadioGroup from \"ant-design-vue/es/radio/Group\"\n// import moment from \"moment\"\nimport Vue from 'vue';\nimport { JeecgListMixin } from '@/mixins/JeecgListMixin';\nimport { ACCESS_TOKEN } from \"../../store/mutation-types\";\nimport { getAction, postAction } from \"../../api/manage\";\nimport pic2Modal from \"./modules/pic2Modal\"; //业务页面\n// import DetailFile from \"@/views/mytask/taskList/detailFile\"\n// import backModal from '@/views/mytask/modules/backModal'\n\nimport detailFile from \"./taskList/detailFile\";\nexport default {\n  name: \"taskHaveDone\",\n  mixins: [JeecgListMixin],\n  components: {\n    pic2Modal: pic2Modal,\n    //业务\n    detailFile: detailFile\n  },\n  data: function data() {\n    return {\n      headers: {\n        'X-Access-Token': Vue.ls.get(ACCESS_TOKEN)\n      },\n      description: '已办任务',\n      // visibleCreateModal: false,\n      // visible: false,\n      iisFold: 0,\n      // getPageList: [],\n      // conditionList: [],\n      // resetConditionList: {},\n      // setConditionList: {},\n      // selectList: [],\n      // timeList: [],\n      // modelId: '',\n      // tableName: '',\n      // searchColumns: [],\n      // searchList: [],\n      // model: {pageDetailList: [{}]},\n      // labelCol: {\n      //   xs: {span: 24},\n      //   sm: {span: 5},\n      // },\n      // wrapperCol: {\n      //   xs: {span: 24},\n      //   sm: {span: 16},\n      // },\n      // confirmLoading: false,\n      // mdl: {\n      //   dataIndex: 'description',\n      // },\n      // 高级搜索 展开/关闭\n      // advanced: true,\n      // 查询参数\n      queryParam: {\n        dataTitle: '',\n        fileNum: '',\n        createName: '',\n        mainDept: '',\n        taskType: null,\n        startTimeFake: null,\n        endTimeFake: null\n      },\n      // 表头\n      columns: [],\n      columnes: [],\n      dataSource: [],\n      dataSource007: [],\n      taskKey: [],\n      //缓急返回值\n      taskNames: [],\n      taskArray: [],\n      taskSearch: [],\n      // selectedRowKeys: [],\n      // selectedRows: [],\n      dataSources: [],\n      loginInfo: '',\n      url: {\n        // busDataAndColums: 'oaBus/oaBusdata/queryBusdataById',\n        // getModelIdByUrl: '/oaBus/busModel/getModelIdByUrl',\n        // getConditionByFunId: '/oaBus/busPageDetail/getConditionByFunId',\n        busDataAndColums: 'oaBus/oaBusdata/queryBusdataById',\n        list: \"/wf/task/queryTask?operstatus=task_done\",\n        doTask: \"/wf/process/processDel\",\n        currentUnDo: '/wf/task/queryTaskUnDoCurrent'\n      },\n      // loading: false,\n      // toggleSearchStatus: false,\n      //任务环节选择\n      taskRecord: null,\n      haveMore: false,\n      selectedRowKeys2: [],\n      selectedRows2: [],\n      dataSource3: [],\n      columns3: [{\n        title: '环节名称',\n        align: \"center\",\n        dataIndex: 'name'\n      }],\n      moreTask: ''\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    // this.init();\n    //默认不带部门类型\n    this.queryParam.isDept = false;\n    getAction(\"/sys/user/getLoginInfo\").then(function (res) {\n      _this.loginInfo = res;\n    });\n    this.collapseListOrNot();\n  },\n  destroyed: function destroyed() {\n    this.dataDestroy();\n  },\n  computed: {\n    importExcelUrl: function importExcelUrl() {\n      return \"\".concat(window._CONFIG['domianURL'], \"/\").concat(this.url.importExcelUrl);\n    }\n  },\n  methods: {\n    //清空其他排序条件\n    nullOther: function nullOther(type) {\n      var orderColums = ['orederByWenHao', 'orederByTile', 'orederByHuanJie', 'orederByDrafter', 'orederByTime'];\n\n      for (var i in orderColums) {\n        if (i != type) {\n          this.queryParam[orderColums[i]] = undefined;\n        }\n      }\n    },\n    unDo: function unDo(record) {\n      var _this2 = this;\n\n      var procInstId = record.processInstanceId;\n      getAction(this.url.currentUnDo, {\n        procInstId: procInstId\n      }).then(function (res) {\n        if (res.success) {\n          var h = _this2.$createElement;\n          var content = [];\n\n          for (var i in res.result) {\n            var msg = res.result[i];\n            content.push(h('p', \"\\u3010\".concat(msg.taskDefName, \"\\u3011 \").concat(msg.deptName, \" \\uFF1A\").concat(msg.userName)));\n          }\n\n          var content_ = h('div', {}, content);\n\n          var modal = _this2.$success({\n            title: '未办理信息',\n            content: content_\n          });\n        } else {\n          _this2.$message.error(res.message);\n        }\n      });\n    },\n    //类型选择\n    taskTypeChange: function taskTypeChange(type) {\n      if (type != '全部') {\n        this.queryParam.isDept = true;\n      } else {\n        this.queryParam.isDept = false;\n      }\n\n      this.queryParam.deptType = type;\n    },\n    searchQueryMy: function searchQueryMy() {\n      this.queryParam.tableOrder = false;\n      this.searchQuery();\n      this.selectionRows = [];\n      this.selectedRowKeys = [];\n    },\n    searchResetMy: function searchResetMy() {\n      this.queryParam.tableOrder = false;\n\n      if (this.iisFold == 1) {\n        this.getPgFirstList();\n      } else {\n        this.searchReset();\n      }\n\n      this.queryParam.taskType = null;\n      this.queryParam.startTimeFake = null;\n      this.queryParam.endTimeFake = null;\n      this.queryParam.isDept = false;\n      this.selectionRows = [];\n      this.selectedRowKeys = [];\n    },\n    endTime: function endTime(a, time) {\n      this.queryParam.endQueryTime = time;\n    },\n    startTime: function startTime(a, time) {\n      this.queryParam.startQueryTime = time;\n    },\n    reload: function reload() {\n      var _this3 = this;\n\n      this.loading = true;\n      getAction(this.url.list).then(function (res) {\n        if (res.success) {\n          _this3.dataSource = res.result.records;\n          _this3.ipagination.total = res.result.total;\n        }\n\n        if (res.code === 510) {\n          _this3.$message.warning(res.message);\n        }\n\n        _this3.loading = false;\n      });\n    },\n    cancel: function cancel() {\n      console.log('------->取消选择');\n    },\n    showPic: function showPic(record) {\n      this.$refs.pic2Modal.show(record);\n      this.$refs.pic2Modal.title = '当前环节';\n    },\n    // changFunId(index) {\n    //   index = index - 1;\n    //   this.resetPgConditionList();\n    //   getAction(this.url.getConditionByFunId, {functionId: this.selectList[index].iid}).then((res) => {\n    //     this.conditionList = res;\n    //     this.queryParam = Object.assign({}, this.setConditionList);\n    //     for (let i = 0; i < this.conditionList.length; i++) {\n    //       this.queryParam = Object.assign({}, this.queryParam, {[this.conditionList[i].s_table_column]: \"\"});\n    //     }\n    //     this.queryParam.function_id = this.selectList[index].iid;\n    //     this.resetConditionList = Object.assign({}, this.queryParam);\n    //     this.pagination.current = 1;\n    //     this.columns = [];\n    //     this.columnes = [];\n    //     this.dataSource = [];\n    //     this.dataSources = [];\n    //     this.collapseListOrNot();\n    //   });\n    // },\n    // init() {\n    //   let path = this.$route.path;\n    //   let paths = path.split('/')\n    //   let str = paths[paths.length - 1]\n    //   this.getModelIdByUrl(str);\n    // },\n    // clearData() {\n    //   this.conditionList = [];\n    //   this.selectList = [];\n    //   this.columns = [];\n    //   this.columnes = [];\n    //   this.dataSource = [];\n    //   this.dataSources = [];\n    // },\n    // getQueryParams() {\n    //   let param = Object.assign({}, this.queryParam, this.isorter);\n    //   param.field = this.getQueryField();\n    //   param.current = this.ipagination.current;\n    //   param.pageSize = this.ipagination.pageSize;\n    //   return filterObj(param);\n    // },\n    // getQueryField() {\n    //   let str = \"id,\";\n    //   for (let i = 0; i < this.columns.length; i++) {\n    //     str += \",\" + this.columns[i].dataIndex;\n    //   }\n    //   return str;\n    // },\n    //\n    // handleEdit(record) {\n    //   this.mdl = Object.assign({}, record);\n    //   console.log(this.mdl);\n    //   this.visible = true;\n    // },\n    // handleOk() {\n    //\n    // },\n    //添加逻辑\n    // handleModalVisible(isVisible) {\n    //   this.visibleCreateModal = isVisible;\n    // },\n    //\n    // handleCreateModalCancel() {\n    //   this.visibleCreateModal = false;\n    // },\n    //\n    // onChange(row) {\n    //   this.selectedRowKeys = row.selectedRowKeys;\n    //   this.selectedRows = row.selectedRows;\n    //   // console.log(this.$refs.table)\n    // },\n    // toggleAdvanced() {\n    //   this.advanced = !this.advanced\n    // },\n    //\n    // resetSearchForm() {\n    //   this.queryParam = {\n    //     date: moment(new Date())\n    //   }\n    // },\n    // handleTableChange(page) {\n    //   this.pagination.current = page.current;\n    //   this.pagination.pageSize = page.pageSize;\n    //   this.collapseListOrNot();\n    // },\n    // getModelIdByUrl(str) {\n    //   //let url = \"/papertitle/docNumSet/busModelList\";\n    //   getAction(this.url.getModelIdByUrl, {str: 'electronicFile'}).then((res) => {\n    //     this.modelId = res;\n    //     this.getPgConditionList();\n    //this.getPgSearchList();\n    //   });\n    // },\n    // getPgConditionList() {\n    //   let url = \"/oaBus/oaBusdata/queryFunSelByModelId\";\n    //   postAction(url, {modelId: this.modelId, function_id: this.queryParam.function_id}).then((res) => {\n    //     this.clearData();\n    //     this.conditionList = res.colList;\n    //     this.selectList = res.funList;\n    //     this.tableName = res.tableName;\n    //     this.timeList = res.d_create_time;\n    //     this.queryParam.function_id = this.selectList[0].iid;\n    //     this.setConditionList = Object.assign({}, this.queryParam);\n    //     for (let i = 0; i < this.conditionList.length; i++) {\n    //       this.queryParam = Object.assign({}, this.queryParam, {[this.conditionList[i].s_table_column]: \"\"});\n    //     }\n    //     this.resetConditionList = Object.assign({}, this.queryParam);\n    // console.log('----------------------------------------------------------');\n    // console.log(this.queryParam);\n    // this.collapseListOrNot();\n    //   });\n    // },\n    getPgFirstList: function getPgFirstList() {\n      var _this4 = this;\n\n      this.columnes = [];\n      this.dataSources = [];\n      this.taskKey = []; // this.chooseSearch();\n\n      var url = \"/sys/dict/getDictByKeyObj\";\n      getAction(url, {\n        dictKey: 'urgencyDegree'\n      }).then(function (res) {\n        _this4.columnes.push({\n          dataIndex: 'wenHao'\n        });\n\n        var _loop = function _loop(i) {\n          _this4.taskKey.push(res.result[i].value);\n\n          var url = \"urgency/degree/queryTask\";\n          var Urgency = res;\n          getAction(url, {\n            operstatus: 'task_done',\n            urgencyDegree: _this4.taskKey[i],\n            jY: 1\n          }).then(function (res) {\n            if (res.result.total > 0) {\n              _this4.dataSources.push({\n                key: i,\n                wenHao: Urgency.result[i].text\n              });\n            }\n          });\n        };\n\n        for (var i = 0; i < res.result.length; i++) {\n          _loop(i);\n        } // console.log('-----------------------<><><><><><><><><><><><><>--------------------------');\n        // console.log(this.taskKey);\n        // console.log('------------->>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>---------------');\n        // console.log(this.dataSources);\n\n      });\n      console.log('------------->>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>---------------');\n      console.log(this.dataSource007.length);\n\n      if (this.dataSource007.length > 0) {\n        this.getSearchList();\n      } else {\n        return;\n      }\n    },\n    getExpandRecords: function getExpandRecords(expanded, record) {\n      if (expanded == false) {\n        this.dataSource007 = [];\n      }\n    },\n    getCaption: function getCaption(obj, state) {\n      var index = obj.lastIndexOf(\"\\-\");\n\n      if (state == 0) {\n        obj = obj.substring(0, index);\n      } else {\n        obj = obj.substring(index + 1, obj.length);\n      }\n\n      return obj;\n    },\n    getPgSecondList: function getPgSecondList(taskNames) {\n      var _this5 = this;\n\n      this.taskNames = taskNames[taskNames.length - 1];\n      taskNames.length = 0;\n      this.taskSearch = this.taskKey[this.taskNames];\n      this.columns = [];\n      this.dataSource007 = [];\n      var url = \"urgency/degree/queryTask\";\n      getAction(url, {\n        operstatus: 'task_done',\n        urgencyDegree: this.taskKey[this.taskNames],\n        dataTitle: this.queryParam.dataTitle,\n        fileNum: this.queryParam.fileNum,\n        createName: this.queryParam.createName,\n        mainDept: this.queryParam.mainDept,\n        taskType: this.queryParam.taskType,\n        startTimeFake: this.queryParam.startTimeFake,\n        endTimeFake: this.queryParam.endTimeFake\n      }).then(function (res) {\n        // this.searchColumns = JSON.parse(res.records);\n        //   for (let i = 1; i < this.searchColumns.length; i++) {\n        //     this.columnes.push({\n        //       title: this.searchColumns[i].s_column_name,\n        //       dataIndex: this.searchColumns[i].s_table_column,\n        //       align: \"center\",\n        //     });\n        //   }\n        _this5.columns.push({\n          title: '序号',\n          dataIndex: '',\n          key: 'rowIndex',\n          width: 60,\n          align: \"center\",\n          customRender: function customRender(t, r, index) {\n            return parseInt(index) + 1;\n          }\n        }, {\n          title: '文号',\n          align: \"center\",\n          width: 150,\n          sorter: function sorter(i, ii, type) {\n            _this5.queryParam.tableOrder = true;\n\n            _this5.nullOther('orederByWenHao');\n\n            _this5.queryParam.orederByWenHao = type == 'descend' ? -1 : 1;\n            return true;\n          },\n          dataIndex: 'wenHao'\n        }, {\n          title: '标题',\n          sorter: function sorter(i, ii, type) {\n            //descend倒叙\n            //ascend正序\n            _this5.queryParam.tableOrder = true; //置空其他环节\n\n            _this5.nullOther('orederByTile');\n\n            _this5.queryParam.orederByTile = type == 'descend' ? -1 : 1;\n            return true;\n          },\n          width: 400,\n          align: \"left\",\n          dataIndex: 'title'\n        }, // {\n        //   title: '流程名称',\n        //   align: \"center\",\n        //   dataIndex: 'proDefName'\n        // },\n        {\n          title: '当前环节',\n          width: 180,\n          sorter: function sorter(i, ii, type) {\n            _this5.queryParam.tableOrder = true;\n\n            _this5.nullOther('orederByHuanJie');\n\n            _this5.queryParam.orederByHuanJie = type == 'descend' ? -1 : 1;\n            return true;\n          },\n          align: \"center\",\n          dataIndex: 'taskDefinitionKeyName'\n        }, {\n          title: '拟稿人',\n          width: 100,\n          sorter: function sorter(i, ii, type) {\n            _this5.queryParam.tableOrder = true;\n\n            _this5.nullOther('orederByDrafter');\n\n            _this5.queryParam.orederByDrafter = type == 'descend' ? -1 : 1;\n            return true;\n          },\n          align: \"center\",\n          dataIndex: 'drafter'\n        }, {\n          title: '办理时间',\n          width: 160,\n          sorter: function sorter(i, ii, type) {\n            _this5.queryParam.tableOrder = true;\n\n            _this5.nullOther('orederByTime');\n\n            _this5.queryParam.orederByTime = type == 'descend' ? -1 : 1;\n            return true;\n          },\n          align: \"center\",\n          dataIndex: 'startTime'\n        }, {\n          title: '操作',\n          width: 115,\n          dataIndex: 'action',\n          align: \"center\",\n          scopedSlots: {\n            customRender: 'action'\n          }\n        }); // this.dataSources = res.result.dataList;\n\n\n        _this5.dataSource007 = res.result.records;\n\n        for (var i = 0; i < _this5.dataSource007.length; i++) {\n          _this5.dataSource007[i].key = _this5.dataSource007[i].id;\n        } // console.log('-------------++++++++++++++++++++++++++++++---------------');\n        // console.log(this.dataSource);\n\n      });\n    },\n    getSearchList: function getSearchList() {\n      var _this6 = this;\n\n      this.dataSource007 = [];\n      var url = \"urgency/degree/queryTask\";\n      getAction(url, {\n        operstatus: 'task_done',\n        urgencyDegree: this.taskSearch,\n        dataTitle: this.queryParam.dataTitle,\n        fileNum: this.queryParam.fileNum,\n        createName: this.queryParam.createName,\n        mainDept: this.queryParam.mainDept,\n        taskType: this.queryParam.taskType,\n        startTimeFake: this.queryParam.startTimeFake,\n        endTimeFake: this.queryParam.endTimeFake\n      }).then(function (res) {\n        _this6.dataSource007 = res.result.records;\n\n        for (var i = 0; i < _this6.dataSource007.length; i++) {\n          _this6.dataSource007[i].key = _this6.dataSource007[i].id;\n        }\n      });\n    },\n    getPgSearchList: function getPgSearchList() {\n      var _this7 = this;\n\n      this.columns = [];\n      this.dataSource = []; // this.chooseSearch();\n      // let url = \"urgency/degree/queryTask\";\n      // getAction(url, {operstatus: 'jump', urgencyDegree: 'null'}).then((res) => {\n      // this.searchColumns = JSON.parse(res.message);\n      // this.searchList = res.result;\n      // this.pagination.current = this.searchList.current;\n      // this.pagination.pageSize = this.searchList.size;\n      // this.pagination.total = this.searchList.total;\n      // this.dataSource = this.searchList.records;\n      // for (let i = 0; i < this.searchColumns.length; i++) {\n      //   if (this.searchColumns[i].s_table_column != 'i_id') {\n      //     if(this.searchColumns[i].s_table_column =='i_is_state'){\n      //       this.columns.push({\n      //         title: this.searchColumns[i].s_column_name,\n      //         dataIndex: this.searchColumns[i].s_table_column,\n      //         align: \"center\",\n      //         customRender: (text) => {\n      //           if(text == true){\n      //             return '已办结'\n      //           }else if(text == false){\n      //             return '未办结'\n      //           }else{\n      //             return text\n      //           }\n      //         }\n      //       });\n      //     }else{\n      //       this.columns.push({\n      //         title: this.searchColumns[i].s_column_name,\n      //         dataIndex: this.searchColumns[i].s_table_column,\n      //         align: \"center\",\n      //       });\n      //     }\n      //   }\n      // }\n\n      this.columns.push({\n        title: '序号',\n        dataIndex: '',\n        key: 'rowIndex',\n        width: 60,\n        align: \"center\",\n        customRender: function customRender(t, r, index) {\n          return parseInt(index) + 1;\n        }\n      }, {\n        title: '文号',\n        align: \"center\",\n        width: 150,\n        sorter: function sorter(i, ii, type) {\n          _this7.queryParam.tableOrder = true;\n\n          _this7.nullOther('orederByWenHao');\n\n          _this7.queryParam.orederByWenHao = type == 'descend' ? -1 : 1;\n          return true;\n        },\n        dataIndex: 'wenHao'\n      }, {\n        title: '标题',\n        sorter: function sorter(i, ii, type) {\n          //descend倒叙\n          //ascend正序\n          _this7.queryParam.tableOrder = true; //置空其他环节\n\n          _this7.nullOther('orederByTile');\n\n          _this7.queryParam.orederByTile = type == 'descend' ? -1 : 1;\n          return true;\n        },\n        width: 400,\n        align: \"left\",\n        dataIndex: 'title'\n      }, // {\n      //   title: '流程名称',\n      //   align: \"center\",\n      //   dataIndex: 'proDefName'\n      // },\n      {\n        title: '已办环节',\n        width: 180,\n        sorter: function sorter(i, ii, type) {\n          _this7.queryParam.tableOrder = true;\n\n          _this7.nullOther('orederByHuanJie');\n\n          _this7.queryParam.orederByHuanJie = type == 'descend' ? -1 : 1;\n          return true;\n        },\n        align: \"center\",\n        dataIndex: 'taskDefinitionKeyName'\n      }, {\n        title: '拟稿人',\n        width: 100,\n        sorter: function sorter(i, ii, type) {\n          _this7.queryParam.tableOrder = true;\n\n          _this7.nullOther('orederByDrafter');\n\n          _this7.queryParam.orederByDrafter = type == 'descend' ? -1 : 1;\n          return true;\n        },\n        align: \"center\",\n        dataIndex: 'drafter'\n      }, {\n        title: '办理时间',\n        width: 160,\n        sorter: function sorter(i, ii, type) {\n          _this7.queryParam.tableOrder = true;\n\n          _this7.nullOther('orederByTime');\n\n          _this7.queryParam.orederByTime = type == 'descend' ? -1 : 1;\n          return true;\n        },\n        align: \"center\",\n        dataIndex: 'startTime'\n      }, {\n        title: '操作',\n        width: 115,\n        dataIndex: 'action',\n        align: \"center\",\n        scopedSlots: {\n          customRender: 'action'\n        }\n      }); // this.dataSource = res.result.records;\n\n      this.searchQuery(); // });\n    },\n    // changeInput(event, obj) {\n    //   this.queryParam[obj] = event.currentTarget.value;\n    // console.log('----------------------------------------------------------');\n    // console.log(\"object: \" + obj + \" value: \" + event);\n    // console.log('----------------------------------------------------------');\n    // console.log(this.queryParam);\n    // },\n    // changeSelect(event, obj) {\n    // this.queryParam[obj] = event.toString();\n    // console.log('----------------------------------------------------------');\n    // console.log(\"object: \" + obj + \" value: \" + event);\n    // console.log('----------------------------------------------------------');\n    // console.log(this.queryParam);\n    // },\n    // onClick(record, index) {\n    //   return {\n    //     on: {\n    //       click: (event) => {\n    //         //查询---业务数据--流程信息\n    //         let param = {tableName: this.tableName, busdataId: record.i_id};\n    //         this.$refs.detailFile.show(param)\n    // this.$router.push({path:'/mytask/taskList/Test-detailFile',query:param})\n    //       }\n    //     }\n    //   }\n    // },\n    confirm2: function confirm2() {\n      if (this.selectedRowKeys2.length <= 0) {\n        this.$message.error(\"请选择环节\");\n        return;\n      }\n\n      var status = 'done';\n      this.taskRecord.taskDefinitionKey = this.selectedRowKeys2[0];\n      this.taskRecord.taskDefinitionKeyName = this.selectedRows2[0].name;\n\n      if (this.selectedRows2[0].status != undefined && this.selectedRows2[0].status == 'todo') {\n        this.taskRecord.id = this.selectedRows2[0].id;\n        this.taskRecord.hiTaskId = undefined;\n        status = 'todo';\n      } else {\n        this.taskRecord.hiTaskId = this.selectedRows2[0].id;\n      }\n\n      window.open(window.location.origin + '/mytask/taskList/Test-detailFile?tableName=' + this.taskRecord.table + '&busdataId=' + this.taskRecord.tableId + '&status=' + status + '&navisshow=false&haveTask=true&task=' + JSON.stringify(this.taskRecord));\n      this.haveMore = false;\n    },\n    cancel2: function cancel2() {\n      this.haveMore = false;\n    },\n    onSelectChangeMy2: function onSelectChangeMy2(rowKeys, rows) {\n      this.selectedRowKeys2 = rowKeys;\n      this.selectedRows2 = rows;\n    },\n    doTask: function doTask(record, index) {\n      var _this8 = this;\n\n      return {\n        on: {\n          click: function click(event) {\n            _this8.taskRecord = record; //查询是否有待办环节\n\n            getAction('/wf/task/currentUserTodos?processInstanceId=' + record.processInstanceId).then(function (res) {\n              if (res.success) {\n                if (res.result.length > 0) {\n                  //提示是否以待办身份进入\n                  var r = window.confirm(\"您有此任务的待办,是否以待办身份进入\"); //TODO 方式待完善\n                  // var r = this.$confirm({\n                  //   title: '提示',\n                  //   content: '您有此任务的待办,是否以待办身份进入?',\n                  //   confirmButtonText: '确定',\n                  //   cancelButtonText: '取消',\n                  //   type: 'warning'\n                  //\n                  // })\n\n                  console.log(r);\n\n                  if (r) {\n                    if (res.result.length == 1) {\n                      _this8.taskRecord.id = res.result[0].id;\n                      _this8.taskRecord.name = res.result[0].name;\n                      _this8.taskRecord.taskDefinitionKey = res.result[0].taskDefinitionKey;\n                      window.open(window.location.origin + '/mytask/taskList/Test-detailFile?tableName=' + _this8.taskRecord.table + '&busdataId=' + _this8.taskRecord.tableId + '&status=todo&navisshow=false&haveTask=true&task=' + JSON.stringify(_this8.taskRecord));\n                    }\n\n                    if (res.result.length > 1) {\n                      _this8.dataSource3 = [];\n\n                      for (var i in res.result) {\n                        var act = res.result[i];\n                        var actMSg = {\n                          key: act.taskDefinitionKey,\n                          name: act.name,\n                          id: act.id,\n                          status: 'todo'\n                        };\n\n                        _this8.dataSource3.push(actMSg);\n\n                        _this8.haveMore = true;\n                        _this8.moreTask = '您当前有多个环节的待办，请选择一个环节';\n                      }\n                    }\n                  } else {\n                    _this8.moreHiTask();\n                  }\n                } else {\n                  _this8.moreHiTask();\n                }\n              } else {\n                _this8.$message.error(res.message);\n              }\n            });\n          }\n        }\n      };\n    },\n    moreHiTask: function moreHiTask() {\n      if (this.taskRecord.hiTaskId.indexOf(',') >= 0) {\n        var keys = this.taskRecord.taskDefinitionKey.split(\",\");\n        var names = this.taskRecord.allNames.split(\",\");\n        var ids = this.taskRecord.hiTaskId.split(\",\");\n        this.dataSource3 = [];\n        var map = {};\n\n        for (var i in keys) {\n          //构造集合 去重 同一环节去id最大的\n          var data = {\n            key: keys[i],\n            name: names[i],\n            id: ids[i]\n          };\n          var act = map[keys[i]];\n\n          if (act == undefined) {\n            map[keys[i]] = data;\n          } else {\n            if (parseInt(ids[i]) > parseInt(act.id)) {\n              map[keys[i]] = data;\n            }\n          }\n        } //如果去重之后只有一个\n\n\n        if (Object.values(map).length > 1) {\n          this.dataSource3 = Object.values(map);\n          this.haveMore = true;\n          this.moreTask = '您当前有多个环节的已办，请选择一个环节';\n        }\n\n        if (Object.values(map).length == 1) {\n          var record2 = Object.values(map)[0];\n          this.taskRecord.taskDefinitionKey = record2.key;\n          this.taskRecord.name = record2.name;\n          this.taskRecord.hiTaskId = record2.id;\n          window.open(window.location.origin + '/mytask/taskList/Test-detailFile?tableName=' + this.taskRecord.table + '&busdataId=' + this.taskRecord.tableId + '&status=done&navisshow=false&haveTask=true&task=' + JSON.stringify(this.taskRecord));\n        }\n      } else {\n        window.open(window.location.origin + '/mytask/taskList/Test-detailFile?tableName=' + this.taskRecord.table + '&busdataId=' + this.taskRecord.tableId + '&status=done&navisshow=false&haveTask=true&task=' + JSON.stringify(this.taskRecord));\n      }\n    },\n    dataDestroy: function dataDestroy() {\n      // this.searchColumns = [];\n      this.searchList = [];\n      this.columns = [];\n      this.columnes = [];\n      this.dataSource = [];\n      this.dataSource007 = [];\n      this.dataSources = [];\n    },\n    // resetPgConditionList() {\n    //   this.queryParam = Object.assign({}, this.resetConditionList);\n    //   for (let i = 0; i < this.$refs.inputs.length; i++) {\n    //     this.$refs.inputs[i].stateValue = '';\n    //   }\n    // },\n    collapseListOrNot: function collapseListOrNot() {\n      var _this9 = this;\n\n      var userid = JSON.parse(localStorage.getItem('userdata')).userInfo.id;\n      getAction('/testt/sysUserSet/queryByUserId', {\n        userId: userid\n      }).then(function (res) {\n        _this9.iisFold = res.result.iisFold;\n\n        if (_this9.iisFold == 1) {\n          _this9.getPgFirstList();\n        } else {\n          _this9.getPgSearchList();\n        }\n      });\n    }\n  },\n  watch: {// '$route.path': {\n    //   handler(newPath, oldPath) {\n    //     //this.init();\n    //     let path = newPath;\n    //     let paths = path.split('/')\n    //     let str = paths[paths.length - 1]\n    //     this.getModelIdByUrl(str);\n    //     // console.log('---------------------------------', newPath);\n    //     // console.log('---------------------------------', oldPath);\n    //   },\n    //   immediate: false,\n    //   deep: true,\n    // }\n\n    /* this.$route.path:{\n    }*/\n\n    /*\n    'selectedRows': function (selectedRows) {\n      this.needTotalList = this.needTotalList.map(item => {\n        return {\n          ...item,\n          total: selectedRows.reduce( (sum, val) => {\n            return sum + val[item.dataIndex]\n          }, 0)\n        }\n      })\n    }\n    */\n  }\n};",{"version":3,"sources":["taskHaveDone.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAA,GAAA,MAAA,KAAA;AACA,SAAA,cAAA,QAAA,yBAAA;AACA,SAAA,YAAA;AACA,SAAA,SAAA,EAAA,UAAA;AACA,OAAA,SAAA,4B,CAEA;AACA;AACA;;AAEA,OAAA,UAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,MAAA,EAAA,CAAA,cAAA,CAFA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA;AACA,IAAA,UAAA,EAAA;AAHA,GAHA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AAAA,0BAAA,GAAA,CAAA,EAAA,CAAA,GAAA,CAAA,YAAA;AAAA,OADA;AAEA,MAAA,WAAA,EAAA,MAFA;AAGA;AACA;AACA,MAAA,OAAA,EAAA,CALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,SAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,UAAA,EAAA,EAHA;AAIA,QAAA,QAAA,EAAA,EAJA;AAKA,QAAA,QAAA,EAAA,IALA;AAMA,QAAA,aAAA,EAAA,IANA;AAOA,QAAA,WAAA,EAAA;AAPA,OAjCA;AA0CA;AACA,MAAA,OAAA,EAAA,EA3CA;AA4CA,MAAA,QAAA,EAAA,EA5CA;AA6CA,MAAA,UAAA,EAAA,EA7CA;AA8CA,MAAA,aAAA,EAAA,EA9CA;AA+CA,MAAA,OAAA,EAAA,EA/CA;AA+CA;AACA,MAAA,SAAA,EAAA,EAhDA;AAiDA,MAAA,SAAA,EAAA,EAjDA;AAkDA,MAAA,UAAA,EAAA,EAlDA;AAmDA;AACA;AACA,MAAA,WAAA,EAAA,EArDA;AAsDA,MAAA,SAAA,EAAA,EAtDA;AAuDA,MAAA,GAAA,EAAA;AACA;AACA;AACA;AAEA,QAAA,gBAAA,EAAA,kCALA;AAMA,QAAA,IAAA,EAAA,yCANA;AAOA,QAAA,MAAA,EAAA,wBAPA;AAQA,QAAA,WAAA,EAAA;AARA,OAvDA;AAiEA;AACA;AACA;AACA,MAAA,UAAA,EAAA,IApEA;AAqEA,MAAA,QAAA,EAAA,KArEA;AAsEA,MAAA,gBAAA,EAAA,EAtEA;AAuEA,MAAA,aAAA,EAAA,EAvEA;AAwEA,MAAA,WAAA,EAAA,EAxEA;AAyEA,MAAA,QAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA,QAFA;AAGA,QAAA,SAAA,EAAA;AAHA,OADA,CAzEA;AAgFA,MAAA,QAAA,EAAA;AAhFA,KAAA;AAkFA,GA3FA;AA4FA,EAAA,OA5FA,qBA4FA;AAAA;;AACA;AAEA;AACA,SAAA,UAAA,CAAA,MAAA,GAAA,KAAA;AACA,IAAA,SAAA,CAAA,wBAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,SAAA,GAAA,GAAA;AACA,KAFA;AAGA,SAAA,iBAAA;AACA,GArGA;AAsGA,EAAA,SAtGA,uBAsGA;AACA,SAAA,WAAA;AACA,GAxGA;AAyGA,EAAA,QAAA,EAAA;AACA,IAAA,cAAA,EAAA,0BAAA;AACA,uBAAA,MAAA,CAAA,OAAA,CAAA,WAAA,CAAA,cAAA,KAAA,GAAA,CAAA,cAAA;AACA;AAHA,GAzGA;AA8GA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,qBAEA,IAFA,EAEA;AACA,UAAA,WAAA,GAAA,CAAA,gBAAA,EAAA,cAAA,EAAA,iBAAA,EAAA,iBAAA,EAAA,cAAA,CAAA;;AACA,WAAA,IAAA,CAAA,IAAA,WAAA,EAAA;AACA,YAAA,CAAA,IAAA,IAAA,EAAA;AACA,eAAA,UAAA,CAAA,WAAA,CAAA,CAAA,CAAA,IAAA,SAAA;AACA;AACA;AACA,KATA;AAUA,IAAA,IAVA,gBAUA,MAVA,EAUA;AAAA;;AACA,UAAA,UAAA,GAAA,MAAA,CAAA,iBAAA;AACA,MAAA,SAAA,CAAA,KAAA,GAAA,CAAA,WAAA,EAAA;AACA,QAAA,UAAA,EAAA;AADA,OAAA,CAAA,CAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,OAAA,EAAA;AAEA,cAAA,CAAA,GAAA,MAAA,CAAA,cAAA;AACA,cAAA,OAAA,GAAA,EAAA;;AACA,eAAA,IAAA,CAAA,IAAA,GAAA,CAAA,MAAA,EAAA;AACA,gBAAA,GAAA,GAAA,GAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AACA,YAAA,OAAA,CAAA,IAAA,CAAA,CAAA,CAAA,GAAA,kBAAA,GAAA,CAAA,WAAA,oBAAA,GAAA,CAAA,QAAA,oBAAA,GAAA,CAAA,QAAA,EAAA;AACA;;AAEA,cAAA,QAAA,GAAA,CAAA,CAAA,KAAA,EAAA,EAAA,EAAA,OAAA,CAAA;;AAEA,cAAA,KAAA,GAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,KAAA,EAAA,OADA;AAEA,YAAA,OAAA,EAAA;AAFA,WAAA,CAAA;AAIA,SAfA,MAeA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OArBA;AAwBA,KApCA;AAqCA;AACA,IAAA,cAtCA,0BAsCA,IAtCA,EAsCA;AACA,UAAA,IAAA,IAAA,IAAA,EAAA;AACA,aAAA,UAAA,CAAA,MAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,UAAA,CAAA,MAAA,GAAA,KAAA;AACA;;AACA,WAAA,UAAA,CAAA,QAAA,GAAA,IAAA;AACA,KA7CA;AA8CA,IAAA,aA9CA,2BA8CA;AACA,WAAA,UAAA,CAAA,UAAA,GAAA,KAAA;AACA,WAAA,WAAA;AACA,WAAA,aAAA,GAAA,EAAA;AACA,WAAA,eAAA,GAAA,EAAA;AAEA,KApDA;AAqDA,IAAA,aArDA,2BAqDA;AACA,WAAA,UAAA,CAAA,UAAA,GAAA,KAAA;;AACA,UAAA,KAAA,OAAA,IAAA,CAAA,EAAA;AAEA,aAAA,cAAA;AAEA,OAJA,MAIA;AAEA,aAAA,WAAA;AAEA;;AACA,WAAA,UAAA,CAAA,QAAA,GAAA,IAAA;AACA,WAAA,UAAA,CAAA,aAAA,GAAA,IAAA;AACA,WAAA,UAAA,CAAA,WAAA,GAAA,IAAA;AACA,WAAA,UAAA,CAAA,MAAA,GAAA,KAAA;AACA,WAAA,aAAA,GAAA,EAAA;AACA,WAAA,eAAA,GAAA,EAAA;AACA,KAtEA;AAuEA,IAAA,OAvEA,mBAuEA,CAvEA,EAuEA,IAvEA,EAuEA;AACA,WAAA,UAAA,CAAA,YAAA,GAAA,IAAA;AACA,KAzEA;AA0EA,IAAA,SA1EA,qBA0EA,CA1EA,EA0EA,IA1EA,EA0EA;AACA,WAAA,UAAA,CAAA,cAAA,GAAA,IAAA;AACA,KA5EA;AA6EA,IAAA,MA7EA,oBA6EA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,SAAA,CAAA,KAAA,GAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,OAAA,EAAA;AACA,UAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,MAAA,CAAA,OAAA;AACA,UAAA,MAAA,CAAA,WAAA,CAAA,KAAA,GAAA,GAAA,CAAA,MAAA,CAAA,KAAA;AACA;;AACA,YAAA,GAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA;;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;AACA,OATA;AAUA,KAzFA;AA0FA,IAAA,MA1FA,oBA0FA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,cAAA;AACA,KA5FA;AA6FA,IAAA,OA7FA,mBA6FA,MA7FA,EA6FA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA,MAAA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,KAAA,GAAA,MAAA;AACA,KAhGA;AAiGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA,IAAA,cApNA,4BAoNA;AAAA;;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,OAAA,GAAA,EAAA,CAHA,CAIA;;AAEA,UAAA,GAAA,GAAA,2BAAA;AACA,MAAA,SAAA,CAAA,GAAA,EAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AAEA,QAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AACA,UAAA,SAAA,EAAA;AADA,SAAA;;AAFA,mCAMA,CANA;AAOA,UAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA,CAAA,MAAA,CAAA,CAAA,EAAA,KAAA;;AACA,cAAA,GAAA,GAAA,0BAAA;AACA,cAAA,OAAA,GAAA,GAAA;AACA,UAAA,SAAA,CAAA,GAAA,EAAA;AAAA,YAAA,UAAA,EAAA,WAAA;AAAA,YAAA,aAAA,EAAA,MAAA,CAAA,OAAA,CAAA,CAAA,CAAA;AAAA,YAAA,EAAA,EAAA;AAAA,WAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,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","sourcesContent":["<style lang=\"scss\" scoped>\r\n\r\n  .ant-input {\r\n    background-color: #f0f5fc;\r\n  }\r\n\r\n  .ant-select-selection--single {\r\n    background-color: #f0f5fc !important;\r\n  }\r\n\r\n  .ant-table-thead > tr > th {\r\n    color: #fff;\r\n    background-color: #006db9;\r\n    border: none !important;\r\n  }\r\n\r\n  /deep/ .ant-table-middle .ant-table-tbody > tr:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .light-row {\r\n    background-color: #fff;\r\n  }\r\n\r\n\r\n  .dark-row {\r\n    /*background:linear-gradient(to bottom,rgb(221,221,255),rgb(167,196,255)) repeat scroll 0% 0%;*/\r\n    background-color: #c2d9f8;\r\n  }\r\n\r\n  .dark-row:hover {\r\n    background-color: #ffadd2;\r\n  }\r\n\r\n  .ant-table-middle .ant-table-tbody .ant-table-row-selected {\r\n    background-color: #000 !important;\r\n  }\r\n\r\n  /*.ant-tabs-nav-scroll{*/\r\n  /*height:39px;*/\r\n  /*}*/\r\n\r\n  /*.ant-card-body .ant-tabs-bar{*/\r\n  /*border:none;*/\r\n  /*}*/\r\n\r\n  /*.ant-card-body .ant-tabs-nav{*/\r\n  /*!*background-color: #ffadd2;*!*/\r\n  /*border:1px solid #909090;*/\r\n  /*border-radius: 25%;*/\r\n  /*height: 27px;*/\r\n  /*top: 5px;*/\r\n  /*}*/\r\n\r\n  /*.ant-card-body .ant-tabs-bar .ant-tabs-tab{*/\r\n  /*font-size: 14px;*/\r\n  /*padding-top: 2px;*/\r\n  /*margin-right: 0px;*/\r\n  /*bottom: 1px;*/\r\n  /*}*/\r\n\r\n  /*.ant-card-body .ant-tabs-bar .ant-tabs-tab:hover{*/\r\n  /*color: #0061cb;*/\r\n  /*}*/\r\n\r\n  /*.ant-card-body .ant-tabs-bar .ant-tabs-tab-active{*/\r\n  /*color: #fff;*/\r\n  /*background-color: #7d70ff;*/\r\n  /*border-radius: 27%;*/\r\n  /*height:27px;*/\r\n  /*}*/\r\n  /*.ant-card-body .ant-tabs-bar .ant-tabs-ink-bar-animated{*/\r\n  /*display: none !important;*/\r\n  /*}*/\r\n\r\n  .table-page-search-submitButtons .ant-btn {\r\n    background: linear-gradient(180deg, rgba(115, 128, 255, 1), rgba(47, 86, 255, 1)) repeat scroll 0% 0%;\r\n  }\r\n\r\n  .table-page-search-submitButtons .ant-btn svg {\r\n    fill: cyan;\r\n  }\r\n\r\n  [v-cloak] {\r\n    display: none;\r\n  }\r\n\r\n</style>\r\n\r\n<template>\r\n  <a-card :bordered=\"false\">\r\n\r\n    <!-- 查询区域 -->\r\n    <div class=\"table-page-search-wrapper\">\r\n      <a-form layout=\"inline\">\r\n        <a-row :gutter=\"24\">\r\n          <a-col :md=\"6\" :sm=\"8\">\r\n            <a-form-item label=\"标题\">\r\n              <a-input placeholder=\"标题\" v-model=\"queryParam.dataTitle\"></a-input>\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :md=\"6\" :sm=\"8\">\r\n            <a-form-item label=\"文件字号\">\r\n              <a-input placeholder=\"文件字号\" v-model=\"queryParam.fileNum\"></a-input>\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :md=\"4\" :sm=\"5\">\r\n            <a-form-item label=\"是否领导关注\">\r\n              <a-select style=\"width: 80px\" v-model=\"queryParam.iImport\">\r\n                <a-select-option value=\"1\">是</a-select-option>\r\n                <a-select-option value=\"0\">否</a-select-option>\r\n              </a-select>\r\n            </a-form-item>\r\n          </a-col>\r\n\r\n\r\n          <template v-if=\"toggleSearchStatus\">\r\n            <a-col :md=\"6\" :sm=\"8\">\r\n              <a-form-item label=\"拟稿人\">\r\n                <a-input placeholder=\"拟稿人\" v-model=\"queryParam.createName\"></a-input>\r\n              </a-form-item>\r\n            </a-col>\r\n\r\n            <a-col :md=\"6\" :sm=\"8\">\r\n\r\n              <a-form-item label=\"任务类型\">\r\n                <a-select style=\"width: 150px\" @change=\"taskTypeChange\" v-model=\"queryParam.taskType\">\r\n                  <a-select-option value=\"全部\">全部</a-select-option>\r\n                  <a-select-option value=\"传阅\">传阅</a-select-option>\r\n                  <a-select-option value=\"主办\">主办</a-select-option>\r\n                  <a-select-option value=\"辅办\">辅办</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"6\" :sm=\"8\">\r\n              <a-form-item label=\"主办部门\">\r\n                <a-input placeholder=\"主办部门\" v-model=\"queryParam.mainDept\"></a-input>\r\n              </a-form-item>\r\n            </a-col>\r\n\r\n            <a-col :md=\"6\" :sm=\"8\">\r\n              <a-form-item label=\"开始时间\">\r\n                <a-date-picker showTime format=\"YYYY-MM-DD HH:mm:ss\" placeholder=\"请选择开始时间\"\r\n                               v-model='queryParam.startTimeFake' @change=\"startTime\"/>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"6\" :sm=\"8\">\r\n              <a-form-item label=\"结束时间\">\r\n                <a-date-picker showTime format=\"YYYY-MM-DD HH:mm:ss\" placeholder=\"请选择结束时间\"\r\n                               v-model='queryParam.endTimeFake' @change=\"endTime\"/>\r\n              </a-form-item>\r\n            </a-col>\r\n\r\n          </template>\r\n\r\n\r\n          <a-col :md=\"6\" :sm=\"8\">\r\n            <span style=\"float: left;overflow: hidden;\" class=\"table-page-search-submitButtons\">\r\n              <a-button type=\"primary\" ref=\"reSearchQuery\" @click=\"collapseListOrNot\" icon=\"search\">查询</a-button>\r\n              <a-button type=\"primary\" @click=\"searchResetMy\" icon=\"reload\" style=\"margin-left: 8px\">重置</a-button>\r\n              <a @click=\"handleToggleSearch\" style=\"margin-left: 8px\">\r\n                {{ toggleSearchStatus ? '收起' : '展开' }}\r\n                <a-icon :type=\"toggleSearchStatus ? 'up' : 'down'\"/>\r\n              </a>\r\n            </span>\r\n          </a-col>\r\n\r\n        </a-row>\r\n      </a-form>\r\n    </div>\r\n\r\n    <!-- 操作按钮区域 -->\r\n    <div class=\"table-operator\">\r\n\r\n\r\n    </div>\r\n\r\n    <!-- table区域-begin -->\r\n    <div v-if=\"iisFold == 0\">\r\n      <a-table\r\n        size=\"middle\"\r\n        :columns=\"columns\"\r\n        :dataSource=\"dataSource\"\r\n        :pagination=\"pagination\"\r\n        :loading=\"loading\"\r\n        :showAlertInfo=\"false\"\r\n        bordered\r\n        rowKey=\"id\"\r\n        :customRow=\"doTask\"\r\n        @change=\"(page,pageSize) => {\r\n               handleTableChange(page)\r\n          }\"\r\n        :rowClassName=\"(record,index) => {\r\n              let className  = 'light-row';\r\n              if (index % 2 === 1) className = 'dark-row';\r\n              return className;\r\n          }\"\r\n      >\r\n\r\n                <span slot=\"action\" slot-scope=\"text, record\">\r\n          <a @click.stop=\"unDo(record)\">未办理信息</a>\r\n\r\n          <br>\r\n                  <!--<a-divider type=\"vertical\"/>-->\r\n          <a @click.stop=\"showPic(record)\">查看流程图</a>\r\n        </span>\r\n\r\n      </a-table>\r\n    </div>\r\n\r\n    <div v-if=\"iisFold == 1\">\r\n      <a-table\r\n        v-once\r\n        :columns=\"columnes\"\r\n        :dataSource=\"dataSources\"\r\n        :pagination=\"false\"\r\n        :showAlertInfo=\"false\"\r\n        :showHeader=\"false\"\r\n        :expandIconAsCell=\"false\"\r\n        bordered\r\n        @expand=\"(expanded, record) => {\r\n            getExpandRecords(expanded, record);\r\n        }\"\r\n        @expandedRowsChange=\"(expandedRows) => {\r\n            getPgSecondList(expandedRows);\r\n          }\"\r\n      >\r\n\r\n        <a-table\r\n          slot=\"expandedRowRender\"\r\n          slot-scope=\"record,index,indent,expanded\"\r\n          size=\"middle\"\r\n          :columns=\"columns\"\r\n          :dataSource=\"dataSource007\"\r\n          :pagination=\"false\"\r\n          :loading=\"loading\"\r\n          :showAlertInfo=\"false\"\r\n          :rowKey=\"record => record.key\"\r\n          :customRow=\"doTask\"\r\n          :rowClassName=\"(record,index) => {\r\n              let className  = 'light-row';\r\n              if (index % 2 === 1) className = 'dark-row';\r\n              return className;\r\n          }\"\r\n        >\r\n\r\n                <span slot=\"action\" slot-scope=\"text, record\">\r\n          <a @click.stop=\"unDo(record)\">未办理信息</a>\r\n\r\n          <br>\r\n                  <!--<a-divider type=\"vertical\"/>-->\r\n          <a @click.stop=\"showPic(record)\">查看流程图</a>\r\n        </span>\r\n\r\n\r\n        </a-table>\r\n\r\n      </a-table>\r\n    </div>\r\n    <!-- table区域-end -->\r\n\r\n    <!-- 表单区域 -->\r\n    <pic2-modal ref=\"pic2Modal\" @ok=\"modalFormOk\"></pic2-modal>\r\n    <new-task-modal ref=\"newTask\"></new-task-modal>\r\n\r\n\r\n    <!--业务页面-->\r\n    <detail-file ref=\"detailFile\"></detail-file>\r\n    <a-modal\r\n      :title=\"moreTask\"\r\n      :width=\"600\"\r\n      :visible=\"haveMore\"\r\n      :confirmLoading=\"false\"\r\n      @ok=\"confirm2\"\r\n      @cancel=\"cancel2\"\r\n      destroyOnClose\r\n      okText=\"确认\"\r\n      cancelText=\"取消\">\r\n\r\n\r\n      <a-table\r\n        ref=\"table\"\r\n        size=\"small\"\r\n        bordered\r\n        rowKey=\"key\"\r\n        :loading=\"loading\"\r\n        :columns=\"columns3\"\r\n        :dataSource=\"dataSource3\"\r\n        :pagination=\"false\"\r\n        :rowSelection=\"{selectedRowKeys: selectedRowKeys2,selectedRows:selectedRows2, onChange: onSelectChangeMy2,type:'radio'}\"\r\n        @change=\"handleTableChange\"\r\n      >\r\n      </a-table>\r\n    </a-modal>\r\n\r\n\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\n  // import Vue from 'vue'\r\n  // import {JeecgListMixin} from '@/mixins/JeecgListMixin'\r\n  // import {ACCESS_TOKEN} from \"../../store/mutation-types\"\r\n  // import {getAction, getRoleList, getServiceList, getUserList, httpAction, postAction} from '@/api/manage'\r\n  // import pic2Modal from '../../views/mytask/modules/pic2Modal'\r\n  // import STable from '@/components/table/'\r\n  // import ATextarea from \"ant-design-vue/es/input/TextArea\"\r\n  // import AInput from \"ant-design-vue/es/input/Input\"\r\n  // import ARadioGroup from \"ant-design-vue/es/radio/Group\"\r\n  // import moment from \"moment\"\r\n\r\n  import Vue from 'vue'\r\n  import {JeecgListMixin} from '@/mixins/JeecgListMixin'\r\n  import {ACCESS_TOKEN} from \"../../store/mutation-types\";\r\n  import {getAction, postAction} from \"../../api/manage\";\r\n  import pic2Modal from './modules/pic2Modal'\r\n\r\n  //业务页面\r\n  // import DetailFile from \"@/views/mytask/taskList/detailFile\"\r\n  // import backModal from '@/views/mytask/modules/backModal'\r\n\r\n  import detailFile from './taskList/detailFile'\r\n\r\n  export default {\r\n    name: \"taskHaveDone\",\r\n    mixins: [JeecgListMixin],\r\n    components: {\r\n      pic2Modal,\r\n      //业务\r\n      detailFile\r\n    },\r\n    data() {\r\n      return {\r\n        headers: {'X-Access-Token': Vue.ls.get(ACCESS_TOKEN)},\r\n        description: '已办任务',\r\n        // visibleCreateModal: false,\r\n        // visible: false,\r\n        iisFold: 0,\r\n        // getPageList: [],\r\n        // conditionList: [],\r\n        // resetConditionList: {},\r\n        // setConditionList: {},\r\n        // selectList: [],\r\n        // timeList: [],\r\n        // modelId: '',\r\n        // tableName: '',\r\n        // searchColumns: [],\r\n        // searchList: [],\r\n        // model: {pageDetailList: [{}]},\r\n        // labelCol: {\r\n        //   xs: {span: 24},\r\n        //   sm: {span: 5},\r\n        // },\r\n        // wrapperCol: {\r\n        //   xs: {span: 24},\r\n        //   sm: {span: 16},\r\n        // },\r\n        // confirmLoading: false,\r\n        // mdl: {\r\n        //   dataIndex: 'description',\r\n        // },\r\n\r\n        // 高级搜索 展开/关闭\r\n        // advanced: true,\r\n        // 查询参数\r\n        queryParam: {\r\n          dataTitle: '',\r\n          fileNum: '',\r\n          createName: '',\r\n          mainDept: '',\r\n          taskType: null,\r\n          startTimeFake: null,\r\n          endTimeFake: null\r\n        },\r\n        // 表头\r\n        columns: [],\r\n        columnes: [],\r\n        dataSource: [],\r\n        dataSource007: [],\r\n        taskKey: [],//缓急返回值\r\n        taskNames: [],\r\n        taskArray: [],\r\n        taskSearch: [],\r\n        // selectedRowKeys: [],\r\n        // selectedRows: [],\r\n        dataSources: [],\r\n        loginInfo: '',\r\n        url: {\r\n          // busDataAndColums: 'oaBus/oaBusdata/queryBusdataById',\r\n          // getModelIdByUrl: '/oaBus/busModel/getModelIdByUrl',\r\n          // getConditionByFunId: '/oaBus/busPageDetail/getConditionByFunId',\r\n\r\n          busDataAndColums: 'oaBus/oaBusdata/queryBusdataById',\r\n          list: \"/wf/task/queryTask?operstatus=task_done\",\r\n          doTask: \"/wf/process/processDel\",\r\n          currentUnDo: '/wf/task/queryTaskUnDoCurrent'\r\n        },\r\n        // loading: false,\r\n        // toggleSearchStatus: false,\r\n        //任务环节选择\r\n        taskRecord: null,\r\n        haveMore: false,\r\n        selectedRowKeys2: [],\r\n        selectedRows2: [],\r\n        dataSource3: [],\r\n        columns3: [\r\n          {\r\n            title: '环节名称',\r\n            align: \"center\",\r\n            dataIndex: 'name'\r\n          }\r\n        ],\r\n        moreTask: '',\r\n      }\r\n    },\r\n    created() {\r\n      // this.init();\r\n\r\n      //默认不带部门类型\r\n      this.queryParam.isDept = false\r\n      getAction(\"/sys/user/getLoginInfo\").then(res => {\r\n        this.loginInfo = res\r\n      })\r\n      this.collapseListOrNot();\r\n    },\r\n    destroyed() {\r\n      this.dataDestroy();\r\n    },\r\n    computed: {\r\n      importExcelUrl: function () {\r\n        return `${window._CONFIG['domianURL']}/${this.url.importExcelUrl}`;\r\n      }\r\n    },\r\n    methods: {\r\n      //清空其他排序条件\r\n      nullOther(type) {\r\n        let orderColums = ['orederByWenHao', 'orederByTile', 'orederByHuanJie', 'orederByDrafter', 'orederByTime']\r\n        for (let i in orderColums) {\r\n          if (i != type) {\r\n            this.queryParam[orderColums[i]] = undefined\r\n          }\r\n        }\r\n      },\r\n      unDo(record) {\r\n        let procInstId = record.processInstanceId\r\n        getAction(this.url.currentUnDo, {\r\n          procInstId: procInstId\r\n        }).then(res => {\r\n          if (res.success) {\r\n\r\n            const h = this.$createElement;\r\n            let content = []\r\n            for (let i in res.result) {\r\n              let msg = res.result[i]\r\n              content.push(h('p', `【${msg.taskDefName}】 ${msg.deptName} ：${msg.userName}`))\r\n            }\r\n\r\n            let content_ = h('div', {}, content)\r\n\r\n            const modal = this.$success({\r\n              title: '未办理信息',\r\n              content: content_,\r\n            });\r\n          } else {\r\n            this.$message.error(res.message)\r\n          }\r\n        })\r\n\r\n\r\n      },\r\n      //类型选择\r\n      taskTypeChange(type) {\r\n        if (type != '全部') {\r\n          this.queryParam.isDept = true\r\n        } else {\r\n          this.queryParam.isDept = false\r\n        }\r\n        this.queryParam.deptType = type\r\n      },\r\n      searchQueryMy() {\r\n        this.queryParam.tableOrder = false\r\n        this.searchQuery()\r\n        this.selectionRows = []\r\n        this.selectedRowKeys = []\r\n\r\n      },\r\n      searchResetMy() {\r\n        this.queryParam.tableOrder = false\r\n        if (this.iisFold == 1) {\r\n\r\n          this.getPgFirstList();\r\n\r\n        } else {\r\n\r\n          this.searchReset();\r\n\r\n        }\r\n        this.queryParam.taskType = null\r\n        this.queryParam.startTimeFake = null\r\n        this.queryParam.endTimeFake = null\r\n        this.queryParam.isDept = false\r\n        this.selectionRows = []\r\n        this.selectedRowKeys = []\r\n      },\r\n      endTime(a, time) {\r\n        this.queryParam.endQueryTime = time\r\n      },\r\n      startTime(a, time) {\r\n        this.queryParam.startQueryTime = time\r\n      },\r\n      reload() {\r\n        this.loading = true;\r\n        getAction(this.url.list).then((res) => {\r\n          if (res.success) {\r\n            this.dataSource = res.result.records;\r\n            this.ipagination.total = res.result.total;\r\n          }\r\n          if (res.code === 510) {\r\n            this.$message.warning(res.message)\r\n          }\r\n          this.loading = false;\r\n        })\r\n      },\r\n      cancel() {\r\n        console.log('------->取消选择')\r\n      },\r\n      showPic(record) {\r\n        this.$refs.pic2Modal.show(record)\r\n        this.$refs.pic2Modal.title = '当前环节'\r\n      },\r\n      // changFunId(index) {\r\n      //   index = index - 1;\r\n      //   this.resetPgConditionList();\r\n      //   getAction(this.url.getConditionByFunId, {functionId: this.selectList[index].iid}).then((res) => {\r\n      //     this.conditionList = res;\r\n      //     this.queryParam = Object.assign({}, this.setConditionList);\r\n      //     for (let i = 0; i < this.conditionList.length; i++) {\r\n      //       this.queryParam = Object.assign({}, this.queryParam, {[this.conditionList[i].s_table_column]: \"\"});\r\n      //     }\r\n      //     this.queryParam.function_id = this.selectList[index].iid;\r\n      //     this.resetConditionList = Object.assign({}, this.queryParam);\r\n      //     this.pagination.current = 1;\r\n      //     this.columns = [];\r\n      //     this.columnes = [];\r\n      //     this.dataSource = [];\r\n      //     this.dataSources = [];\r\n      //     this.collapseListOrNot();\r\n      //   });\r\n      // },\r\n      // init() {\r\n      //   let path = this.$route.path;\r\n      //   let paths = path.split('/')\r\n      //   let str = paths[paths.length - 1]\r\n      //   this.getModelIdByUrl(str);\r\n      // },\r\n      // clearData() {\r\n      //   this.conditionList = [];\r\n      //   this.selectList = [];\r\n      //   this.columns = [];\r\n      //   this.columnes = [];\r\n      //   this.dataSource = [];\r\n      //   this.dataSources = [];\r\n      // },\r\n      // getQueryParams() {\r\n      //   let param = Object.assign({}, this.queryParam, this.isorter);\r\n      //   param.field = this.getQueryField();\r\n      //   param.current = this.ipagination.current;\r\n      //   param.pageSize = this.ipagination.pageSize;\r\n      //   return filterObj(param);\r\n      // },\r\n      // getQueryField() {\r\n      //   let str = \"id,\";\r\n      //   for (let i = 0; i < this.columns.length; i++) {\r\n      //     str += \",\" + this.columns[i].dataIndex;\r\n      //   }\r\n      //   return str;\r\n      // },\r\n      //\r\n      // handleEdit(record) {\r\n      //   this.mdl = Object.assign({}, record);\r\n      //   console.log(this.mdl);\r\n      //   this.visible = true;\r\n      // },\r\n      // handleOk() {\r\n      //\r\n      // },\r\n\r\n      //添加逻辑\r\n      // handleModalVisible(isVisible) {\r\n      //   this.visibleCreateModal = isVisible;\r\n      // },\r\n      //\r\n      // handleCreateModalCancel() {\r\n      //   this.visibleCreateModal = false;\r\n      // },\r\n      //\r\n      // onChange(row) {\r\n      //   this.selectedRowKeys = row.selectedRowKeys;\r\n      //   this.selectedRows = row.selectedRows;\r\n      //   // console.log(this.$refs.table)\r\n      // },\r\n      // toggleAdvanced() {\r\n      //   this.advanced = !this.advanced\r\n      // },\r\n      //\r\n      // resetSearchForm() {\r\n      //   this.queryParam = {\r\n      //     date: moment(new Date())\r\n      //   }\r\n      // },\r\n      // handleTableChange(page) {\r\n      //   this.pagination.current = page.current;\r\n      //   this.pagination.pageSize = page.pageSize;\r\n      //   this.collapseListOrNot();\r\n      // },\r\n      // getModelIdByUrl(str) {\r\n      //   //let url = \"/papertitle/docNumSet/busModelList\";\r\n      //   getAction(this.url.getModelIdByUrl, {str: 'electronicFile'}).then((res) => {\r\n      //     this.modelId = res;\r\n      //     this.getPgConditionList();\r\n\r\n      //this.getPgSearchList();\r\n      //   });\r\n      // },\r\n      // getPgConditionList() {\r\n      //   let url = \"/oaBus/oaBusdata/queryFunSelByModelId\";\r\n      //   postAction(url, {modelId: this.modelId, function_id: this.queryParam.function_id}).then((res) => {\r\n      //     this.clearData();\r\n      //     this.conditionList = res.colList;\r\n      //     this.selectList = res.funList;\r\n      //     this.tableName = res.tableName;\r\n      //     this.timeList = res.d_create_time;\r\n      //     this.queryParam.function_id = this.selectList[0].iid;\r\n      //     this.setConditionList = Object.assign({}, this.queryParam);\r\n      //     for (let i = 0; i < this.conditionList.length; i++) {\r\n      //       this.queryParam = Object.assign({}, this.queryParam, {[this.conditionList[i].s_table_column]: \"\"});\r\n      //     }\r\n      //     this.resetConditionList = Object.assign({}, this.queryParam);\r\n\r\n      // console.log('----------------------------------------------------------');\r\n      // console.log(this.queryParam);\r\n\r\n      // this.collapseListOrNot();\r\n      //   });\r\n      // },\r\n      getPgFirstList() {\r\n        this.columnes = [];\r\n        this.dataSources = [];\r\n        this.taskKey = [];\r\n        // this.chooseSearch();\r\n\r\n        let url = \"/sys/dict/getDictByKeyObj\";\r\n        getAction(url, {dictKey: 'urgencyDegree'}).then((res) => {\r\n\r\n          this.columnes.push({\r\n            dataIndex: 'wenHao',\r\n          });\r\n\r\n          for (let i = 0; i < res.result.length; i++) {\r\n            this.taskKey.push(res.result[i].value);\r\n            let url = \"urgency/degree/queryTask\";\r\n            let Urgency = res;\r\n            getAction(url, {operstatus: 'task_done', urgencyDegree: this.taskKey[i], jY: 1}).then((res) => {\r\n              if (res.result.total > 0) {\r\n                this.dataSources.push({\r\n                  key: i,\r\n                  wenHao: Urgency.result[i].text,\r\n                });\r\n              }\r\n            })\r\n          }\r\n\r\n          // console.log('-----------------------<><><><><><><><><><><><><>--------------------------');\r\n          // console.log(this.taskKey);\r\n          // console.log('------------->>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>---------------');\r\n          // console.log(this.dataSources);\r\n\r\n        });\r\n\r\n        console.log('------------->>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>---------------');\r\n        console.log(this.dataSource007.length);\r\n\r\n        if (this.dataSource007.length > 0) {\r\n          this.getSearchList();\r\n        } else {\r\n          return;\r\n        }\r\n\r\n      },\r\n      getExpandRecords(expanded, record) {\r\n        if (expanded == false) {\r\n          this.dataSource007 = [];\r\n        }\r\n      },\r\n      getCaption(obj, state) {\r\n        let index = obj.lastIndexOf(\"\\-\");\r\n        if (state == 0) {\r\n          obj = obj.substring(0, index);\r\n        } else {\r\n          obj = obj.substring(index + 1, obj.length)\r\n        }\r\n        return obj;\r\n      },\r\n      getPgSecondList(taskNames) {\r\n        this.taskNames = taskNames[taskNames.length - 1];\r\n        taskNames.length = 0;\r\n        this.taskSearch = this.taskKey[this.taskNames];\r\n        this.columns = [];\r\n        this.dataSource007 = [];\r\n        let url = \"urgency/degree/queryTask\";\r\n        getAction(url, {\r\n          operstatus: 'task_done',\r\n          urgencyDegree: this.taskKey[this.taskNames],\r\n          dataTitle: this.queryParam.dataTitle,\r\n          fileNum: this.queryParam.fileNum,\r\n          createName: this.queryParam.createName,\r\n          mainDept: this.queryParam.mainDept,\r\n          taskType: this.queryParam.taskType,\r\n          startTimeFake: this.queryParam.startTimeFake,\r\n          endTimeFake: this.queryParam.endTimeFake\r\n        }).then((res) => {\r\n          // this.searchColumns = JSON.parse(res.records);\r\n\r\n          //   for (let i = 1; i < this.searchColumns.length; i++) {\r\n          //     this.columnes.push({\r\n          //       title: this.searchColumns[i].s_column_name,\r\n          //       dataIndex: this.searchColumns[i].s_table_column,\r\n          //       align: \"center\",\r\n          //     });\r\n          //   }\r\n          this.columns.push({\r\n              title: '序号',\r\n              dataIndex: '',\r\n              key: 'rowIndex',\r\n              width: 60,\r\n              align: \"center\",\r\n              customRender: function (t, r, index) {\r\n                return parseInt(index) + 1;\r\n              }\r\n            },\r\n            {\r\n              title: '文号',\r\n              align: \"center\",\r\n              width: 150,\r\n              sorter: (i, ii, type) => {\r\n\r\n                this.queryParam.tableOrder = true\r\n                this.nullOther('orederByWenHao')\r\n\r\n                this.queryParam.orederByWenHao = type == 'descend' ? -1 : 1;\r\n                return true\r\n              },\r\n              dataIndex: 'wenHao'\r\n            },\r\n            {\r\n              title: '标题',\r\n              sorter: (i, ii, type) => {\r\n                //descend倒叙\r\n                //ascend正序\r\n\r\n                this.queryParam.tableOrder = true\r\n                //置空其他环节\r\n                this.nullOther('orederByTile')\r\n                this.queryParam.orederByTile = type == 'descend' ? -1 : 1;\r\n                return true\r\n              },\r\n              width: 400,\r\n              align: \"left\",\r\n              dataIndex: 'title'\r\n            },\r\n            // {\r\n            //   title: '流程名称',\r\n            //   align: \"center\",\r\n            //   dataIndex: 'proDefName'\r\n            // },\r\n            {\r\n              title: '当前环节',\r\n              width: 180,\r\n              sorter: (i, ii, type) => {\r\n                this.queryParam.tableOrder = true\r\n                this.nullOther('orederByHuanJie')\r\n\r\n                this.queryParam.orederByHuanJie = type == 'descend' ? -1 : 1\r\n                return true\r\n              },\r\n              align: \"center\",\r\n              dataIndex: 'taskDefinitionKeyName'\r\n            },\r\n            {\r\n              title: '拟稿人',\r\n              width: 100,\r\n              sorter: (i, ii, type) => {\r\n                this.queryParam.tableOrder = true\r\n                this.nullOther('orederByDrafter')\r\n\r\n                this.queryParam.orederByDrafter = type == 'descend' ? -1 : 1;\r\n                return true\r\n              },\r\n              align: \"center\",\r\n              dataIndex: 'drafter'\r\n            },\r\n            {\r\n              title: '办理时间',\r\n              width: 160,\r\n              sorter: (i, ii, type) => {\r\n                this.queryParam.tableOrder = true\r\n                this.nullOther('orederByTime')\r\n\r\n                this.queryParam.orederByTime = type == 'descend' ? -1 : 1;\r\n                return true\r\n              },\r\n              align: \"center\",\r\n              dataIndex: 'startTime'\r\n            },\r\n            {\r\n              title: '操作',\r\n              width: 115,\r\n              dataIndex: 'action',\r\n              align: \"center\",\r\n              scopedSlots: {customRender: 'action'},\r\n            });\r\n\r\n          // this.dataSources = res.result.dataList;\r\n\r\n\r\n          this.dataSource007 = res.result.records;\r\n          for (let i = 0; i < this.dataSource007.length; i++) {\r\n            this.dataSource007[i].key = this.dataSource007[i].id;\r\n          }\r\n\r\n          // console.log('-------------++++++++++++++++++++++++++++++---------------');\r\n          // console.log(this.dataSource);\r\n\r\n        });\r\n      },\r\n      getSearchList() {\r\n        this.dataSource007 = [];\r\n        let url = \"urgency/degree/queryTask\";\r\n        getAction(url, {\r\n          operstatus: 'task_done',\r\n          urgencyDegree: this.taskSearch,\r\n          dataTitle: this.queryParam.dataTitle,\r\n          fileNum: this.queryParam.fileNum,\r\n          createName: this.queryParam.createName,\r\n          mainDept: this.queryParam.mainDept,\r\n          taskType: this.queryParam.taskType,\r\n          startTimeFake: this.queryParam.startTimeFake,\r\n          endTimeFake: this.queryParam.endTimeFake\r\n        }).then((res) => {\r\n          this.dataSource007 = res.result.records;\r\n          for (let i = 0; i < this.dataSource007.length; i++) {\r\n            this.dataSource007[i].key = this.dataSource007[i].id;\r\n          }\r\n        })\r\n      },\r\n      getPgSearchList() {\r\n        this.columns = [];\r\n        this.dataSource = [];\r\n        // this.chooseSearch();\r\n        // let url = \"urgency/degree/queryTask\";\r\n        // getAction(url, {operstatus: 'jump', urgencyDegree: 'null'}).then((res) => {\r\n        // this.searchColumns = JSON.parse(res.message);\r\n        // this.searchList = res.result;\r\n        // this.pagination.current = this.searchList.current;\r\n        // this.pagination.pageSize = this.searchList.size;\r\n        // this.pagination.total = this.searchList.total;\r\n\r\n        // this.dataSource = this.searchList.records;\r\n        // for (let i = 0; i < this.searchColumns.length; i++) {\r\n        //   if (this.searchColumns[i].s_table_column != 'i_id') {\r\n        //     if(this.searchColumns[i].s_table_column =='i_is_state'){\r\n        //       this.columns.push({\r\n        //         title: this.searchColumns[i].s_column_name,\r\n        //         dataIndex: this.searchColumns[i].s_table_column,\r\n        //         align: \"center\",\r\n        //         customRender: (text) => {\r\n        //           if(text == true){\r\n        //             return '已办结'\r\n        //           }else if(text == false){\r\n        //             return '未办结'\r\n        //           }else{\r\n        //             return text\r\n        //           }\r\n        //         }\r\n        //       });\r\n        //     }else{\r\n        //       this.columns.push({\r\n        //         title: this.searchColumns[i].s_column_name,\r\n        //         dataIndex: this.searchColumns[i].s_table_column,\r\n        //         align: \"center\",\r\n        //       });\r\n        //     }\r\n\r\n        //   }\r\n        // }\r\n\r\n        this.columns.push({\r\n            title: '序号',\r\n            dataIndex: '',\r\n            key: 'rowIndex',\r\n            width: 60,\r\n            align: \"center\",\r\n            customRender: function (t, r, index) {\r\n              return parseInt(index) + 1;\r\n            }\r\n          },\r\n          {\r\n            title: '文号',\r\n            align: \"center\",\r\n            width: 150,\r\n            sorter: (i, ii, type) => {\r\n\r\n              this.queryParam.tableOrder = true\r\n              this.nullOther('orederByWenHao')\r\n\r\n              this.queryParam.orederByWenHao = type == 'descend' ? -1 : 1;\r\n              return true\r\n            },\r\n            dataIndex: 'wenHao'\r\n          },\r\n          {\r\n            title: '标题',\r\n            sorter: (i, ii, type) => {\r\n              //descend倒叙\r\n              //ascend正序\r\n\r\n              this.queryParam.tableOrder = true\r\n              //置空其他环节\r\n              this.nullOther('orederByTile')\r\n              this.queryParam.orederByTile = type == 'descend' ? -1 : 1;\r\n              return true\r\n            },\r\n            width: 400,\r\n            align: \"left\",\r\n            dataIndex: 'title'\r\n          },\r\n          // {\r\n          //   title: '流程名称',\r\n          //   align: \"center\",\r\n          //   dataIndex: 'proDefName'\r\n          // },\r\n          {\r\n            title: '已办环节',\r\n            width: 180,\r\n            sorter: (i, ii, type) => {\r\n              this.queryParam.tableOrder = true\r\n              this.nullOther('orederByHuanJie')\r\n\r\n              this.queryParam.orederByHuanJie = type == 'descend' ? -1 : 1\r\n              return true\r\n            },\r\n            align: \"center\",\r\n            dataIndex: 'taskDefinitionKeyName'\r\n          },\r\n          {\r\n            title: '拟稿人',\r\n            width: 100,\r\n            sorter: (i, ii, type) => {\r\n              this.queryParam.tableOrder = true\r\n              this.nullOther('orederByDrafter')\r\n\r\n              this.queryParam.orederByDrafter = type == 'descend' ? -1 : 1;\r\n              return true\r\n            },\r\n            align: \"center\",\r\n            dataIndex: 'drafter'\r\n          },\r\n          {\r\n            title: '办理时间',\r\n            width: 160,\r\n            sorter: (i, ii, type) => {\r\n              this.queryParam.tableOrder = true\r\n              this.nullOther('orederByTime')\r\n\r\n              this.queryParam.orederByTime = type == 'descend' ? -1 : 1;\r\n              return true\r\n            },\r\n            align: \"center\",\r\n            dataIndex: 'startTime'\r\n          },\r\n          {\r\n            title: '操作',\r\n            width: 115,\r\n            dataIndex: 'action',\r\n            align: \"center\",\r\n            scopedSlots: {customRender: 'action'},\r\n          });\r\n\r\n        // this.dataSource = res.result.records;\r\n\r\n        this.searchQuery();\r\n\r\n\r\n        // });\r\n\r\n      },\r\n      // changeInput(event, obj) {\r\n      //   this.queryParam[obj] = event.currentTarget.value;\r\n      // console.log('----------------------------------------------------------');\r\n      // console.log(\"object: \" + obj + \" value: \" + event);\r\n      // console.log('----------------------------------------------------------');\r\n      // console.log(this.queryParam);\r\n      // },\r\n      // changeSelect(event, obj) {\r\n      // this.queryParam[obj] = event.toString();\r\n      // console.log('----------------------------------------------------------');\r\n      // console.log(\"object: \" + obj + \" value: \" + event);\r\n      // console.log('----------------------------------------------------------');\r\n      // console.log(this.queryParam);\r\n      // },\r\n      // onClick(record, index) {\r\n      //   return {\r\n      //     on: {\r\n      //       click: (event) => {\r\n      //         //查询---业务数据--流程信息\r\n      //         let param = {tableName: this.tableName, busdataId: record.i_id};\r\n      //         this.$refs.detailFile.show(param)\r\n\r\n      // this.$router.push({path:'/mytask/taskList/Test-detailFile',query:param})\r\n      //       }\r\n      //     }\r\n      //   }\r\n      // },\r\n      confirm2() {\r\n        if (this.selectedRowKeys2.length <= 0) {\r\n          this.$message.error(\"请选择环节\")\r\n          return\r\n        }\r\n        let status = 'done'\r\n        this.taskRecord.taskDefinitionKey = this.selectedRowKeys2[0]\r\n        this.taskRecord.taskDefinitionKeyName = this.selectedRows2[0].name\r\n        if (this.selectedRows2[0].status != undefined && this.selectedRows2[0].status == 'todo') {\r\n\r\n          this.taskRecord.id = this.selectedRows2[0].id\r\n          this.taskRecord.hiTaskId=undefined\r\n          status = 'todo'\r\n        } else {\r\n          this.taskRecord.hiTaskId = this.selectedRows2[0].id\r\n        }\r\n\r\n\r\n        window.open(window.location.origin + '/mytask/taskList/Test-detailFile?tableName='\r\n          + this.taskRecord.table + '&busdataId=' + this.taskRecord.tableId\r\n          + '&status=' + status + '&navisshow=false&haveTask=true&task=' + JSON.stringify(this.taskRecord))\r\n        this.haveMore = false\r\n\r\n\r\n      },\r\n      cancel2() {\r\n        this.haveMore = false\r\n      },\r\n      onSelectChangeMy2(rowKeys, rows) {\r\n        this.selectedRowKeys2 = rowKeys\r\n        this.selectedRows2 = rows\r\n      },\r\n      doTask(record, index) {\r\n        return {\r\n          on: {\r\n            click: (event) => {\r\n              this.taskRecord = record\r\n\r\n              //查询是否有待办环节\r\n              getAction('/wf/task/currentUserTodos?processInstanceId=' + record.processInstanceId).then(res => {\r\n\r\n                if (res.success) {\r\n                  if (res.result.length > 0) {\r\n                    //提示是否以待办身份进入\r\n                    var r = window.confirm(\"您有此任务的待办,是否以待办身份进入\");\r\n\r\n                    //TODO 方式待完善\r\n                    // var r = this.$confirm({\r\n                    //   title: '提示',\r\n                    //   content: '您有此任务的待办,是否以待办身份进入?',\r\n                    //   confirmButtonText: '确定',\r\n                    //   cancelButtonText: '取消',\r\n                    //   type: 'warning'\r\n                    //\r\n                    // })\r\n\r\n                    console.log(r)\r\n                    if (r) {\r\n\r\n                      if (res.result.length == 1) {\r\n                        this.taskRecord.id = res.result[0].id\r\n                        this.taskRecord.name = res.result[0].name\r\n                        this.taskRecord.taskDefinitionKey = res.result[0].taskDefinitionKey\r\n                        window.open(window.location.origin + '/mytask/taskList/Test-detailFile?tableName='\r\n                          + this.taskRecord.table + '&busdataId=' + this.taskRecord.tableId\r\n                          + '&status=todo&navisshow=false&haveTask=true&task=' + JSON.stringify(this.taskRecord))\r\n                      }\r\n\r\n                      if (res.result.length > 1) {\r\n                        this.dataSource3 = []\r\n                        for (let i in res.result) {\r\n                          let act = res.result[i]\r\n                          let actMSg = {\r\n                            key: act.taskDefinitionKey,\r\n                            name: act.name,\r\n                            id: act.id,\r\n                            status: 'todo'\r\n                          }\r\n                          this.dataSource3.push(actMSg)\r\n                          this.haveMore = true\r\n                          this.moreTask = '您当前有多个环节的待办，请选择一个环节'\r\n                        }\r\n                      }\r\n\r\n                    } else {\r\n                      this.moreHiTask();\r\n                    }\r\n\r\n\r\n                  } else {\r\n                    this.moreHiTask();\r\n                  }\r\n                } else {\r\n                  this.$message.error(res.message)\r\n                }\r\n              })\r\n\r\n\r\n            }\r\n          }\r\n        }\r\n\r\n      },\r\n      moreHiTask() {\r\n        if (this.taskRecord.hiTaskId.indexOf(',') >= 0) {\r\n          let keys = this.taskRecord.taskDefinitionKey.split(\",\")\r\n          let names = this.taskRecord.allNames.split(\",\")\r\n          let ids = this.taskRecord.hiTaskId.split(\",\")\r\n          this.dataSource3 = []\r\n          let map = {}\r\n          for (let i in keys) {\r\n            //构造集合 去重 同一环节去id最大的\r\n            let data = {key: keys[i], name: names[i], id: ids[i]}\r\n            let act = map[keys[i]]\r\n            if (act == undefined) {\r\n              map[keys[i]] = data\r\n            } else {\r\n              if (parseInt(ids[i]) > parseInt(act.id)) {\r\n                map[keys[i]] = data\r\n              }\r\n            }\r\n          }\r\n          //如果去重之后只有一个\r\n          if (Object.values(map).length > 1) {\r\n            this.dataSource3 = Object.values(map)\r\n            this.haveMore = true\r\n            this.moreTask = '您当前有多个环节的已办，请选择一个环节'\r\n\r\n          }\r\n          if (Object.values(map).length == 1) {\r\n\r\n            let record2 = Object.values(map)[0]\r\n            this.taskRecord.taskDefinitionKey = record2.key\r\n            this.taskRecord.name = record2.name\r\n            this.taskRecord.hiTaskId = record2.id\r\n            window.open(window.location.origin + '/mytask/taskList/Test-detailFile?tableName=' + this.taskRecord.table\r\n              + '&busdataId=' + this.taskRecord.tableId\r\n              + '&status=done&navisshow=false&haveTask=true&task=' + JSON.stringify(this.taskRecord))\r\n          }\r\n        } else {\r\n          window.open(window.location.origin + '/mytask/taskList/Test-detailFile?tableName='\r\n            + this.taskRecord.table + '&busdataId=' + this.taskRecord.tableId\r\n            + '&status=done&navisshow=false&haveTask=true&task=' + JSON.stringify(this.taskRecord))\r\n        }\r\n      },\r\n      dataDestroy() {\r\n        // this.searchColumns = [];\r\n        this.searchList = [];\r\n        this.columns = [];\r\n        this.columnes = [];\r\n        this.dataSource = [];\r\n        this.dataSource007 = [];\r\n        this.dataSources = [];\r\n      },\r\n      // resetPgConditionList() {\r\n      //   this.queryParam = Object.assign({}, this.resetConditionList);\r\n      //   for (let i = 0; i < this.$refs.inputs.length; i++) {\r\n      //     this.$refs.inputs[i].stateValue = '';\r\n      //   }\r\n      // },\r\n      collapseListOrNot() {\r\n        const userid = JSON.parse(localStorage.getItem('userdata')).userInfo.id;\r\n        getAction('/testt/sysUserSet/queryByUserId', {userId: userid}).then((res) => {\r\n          this.iisFold = res.result.iisFold;\r\n          if (this.iisFold == 1) {\r\n            this.getPgFirstList();\r\n          } else {\r\n            this.getPgSearchList();\r\n          }\r\n        })\r\n      }\r\n    },\r\n    watch: {\r\n\r\n      // '$route.path': {\r\n      //   handler(newPath, oldPath) {\r\n      //     //this.init();\r\n      //     let path = newPath;\r\n      //     let paths = path.split('/')\r\n      //     let str = paths[paths.length - 1]\r\n      //     this.getModelIdByUrl(str);\r\n      //     // console.log('---------------------------------', newPath);\r\n      //     // console.log('---------------------------------', oldPath);\r\n      //   },\r\n      //   immediate: false,\r\n      //   deep: true,\r\n      // }\r\n\r\n      /* this.$route.path:{\r\n\r\n     }*/\r\n      /*\r\n      'selectedRows': function (selectedRows) {\r\n        this.needTotalList = this.needTotalList.map(item => {\r\n          return {\r\n            ...item,\r\n            total: selectedRows.reduce( (sum, val) => {\r\n              return sum + val[item.dataIndex]\r\n            }, 0)\r\n          }\r\n        })\r\n      }\r\n      */\r\n    }\r\n  }\r\n</script>"],"sourceRoot":"src/views/mytask"}]}