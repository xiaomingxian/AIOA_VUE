{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js!C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\oaBus\\TestTableLists.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\oaBus\\TestTableLists.vue","mtime":1577687869518},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport _defineProperty from \"C:\\\\xxm\\\\work\\\\jd\\\\fore\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport STable from '@/components/table/';\nimport ATextarea from \"ant-design-vue/es/input/TextArea\";\nimport AInput from \"ant-design-vue/es/input/Input\";\nimport moment from \"moment\";\nimport axios from 'axios';\nimport { httpAction, getAction, postAction, getRoleList, getUserList, getServiceList } from '@/api/manage';\nimport pick from 'lodash.pick'; //业务页面\n\nimport ARadioGroup from \"ant-design-vue/es/radio/Group\";\nexport default {\n  name: \"TestTableLists\",\n  components: {\n    ARadioGroup: ARadioGroup,\n    AInput: AInput,\n    ATextarea: ATextarea,\n    STable: STable //业务\n\n  },\n  data: function data() {\n    return {\n      description: '这是公共查询列表页面',\n      visibleCreateModal: false,\n      visible: false,\n      getPageList: [],\n      conditionList: [],\n      resetConditionList: {},\n      setConditionList: {},\n      selectList: [],\n      timeList: [],\n      modelId: '',\n      tableName: '',\n      iBMId: '1',\n      searchColumns: [],\n      searchList: [],\n      model: {\n        pageDetailList: [{}]\n      },\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 5\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 16\n        }\n      },\n      confirmLoading: false,\n      mdl: {\n        dataIndex: 'description'\n      },\n      // 高级搜索 展开/关闭\n      advanced: true,\n      // 查询参数\n      queryParam: {\n        function_id: '22',\n        i_is_state: '',\n        selType: 1,\n        s_create_name: '',\n        d_create_time: ''\n      },\n      // 表头\n      columns: [],\n      columnes: [],\n      dataSource: [],\n      taskKey: [],\n      taskNames: [],\n      // rowSelection:{\n      //   onSelect:(record,selected,selectedRows)=>{\n      //     console.log('-----------------------<><><><><><><><><><><><><>--------------------------');\n      //     console.log(record,selected,selectedRows);\n      //   }\n      // },\n      dataSources: [],\n      pagination: {\n        current: 1,\n        pageSize: 10,\n        pageSizeOptions: ['5', '10', '15', '20', '25', '30'],\n        showTotal: function showTotal(total, range) {\n          return range[0] + \"/\" + range[1] + \"共\" + total + \"条\";\n        },\n        showQuickJumper: true,\n        showSizeChanger: true,\n        total: 0\n      },\n      url: {\n        busDataAndColums: 'oaBus/oaBusdata/queryBusdataById',\n        getModelIdByUrl: '/oaBus/busModel/getModelIdByUrl',\n        getConditionByFunId: '/oaBus/busPageDetail/getConditionByFunId'\n      },\n      loading: false,\n      // 加载数据方法 必须为 Promise 对象\n      // loadData: parameter => {\n      //   return getServiceList(Object.assign(parameter, this.queryParam))\n      //     .then(res => {\n      //       return res.result;\n      //       console.log('----------------------------------------------------------');\n      //       console.log(res.result);\n      //     })\n      // },\n      selectedRowKeys: [],\n      selectedRows: [],\n      toggleSearchStatus: false\n    };\n  },\n  created: function created() {\n    this.init();\n  },\n  destroyed: function destroyed() {\n    this.dataDestroy();\n  },\n  methods: {\n    // loadData (arg){\n    //   if(arg===1){\n    //     this.ipagination.current = 1;\n    //   }\n    //   let params = this.getQueryParams();\n    //   getServiceList(params).then((res)=>{\n    //     if(res.success){\n    //       this.dataSource = res.result.records;\n    //       this.ipagination.total = res.result.total;\n    //     }\n    //   })\n    // },\n    changFunId: function changFunId(index) {\n      var _this = this;\n\n      this.resetPgConditionList();\n      getAction(this.url.getConditionByFunId, {\n        functionId: index\n      }).then(function (res) {\n        _this.conditionList = res;\n        _this.queryParam = Object.assign({}, _this.setConditionList);\n\n        for (var i = 0; i < _this.conditionList.length; i++) {\n          _this.queryParam = Object.assign({}, _this.queryParam, _defineProperty({}, _this.conditionList[i].s_table_column, \"\"));\n        }\n\n        _this.queryParam.function_id = _this.selectList[index].iid;\n        _this.resetConditionList = Object.assign({}, _this.queryParam);\n        _this.pagination.current = 1;\n\n        _this.getPgFirstList();\n      });\n    },\n    init: function init() {\n      var path = this.$route.path;\n      var paths = path.split('/');\n      var str = paths[paths.length - 1];\n      this.getModelIdByUrl(str);\n    },\n    clearData: function clearData() {\n      this.conditionList = [];\n      this.selectList = [];\n      this.columns = [];\n    },\n    // getQueryParams() {\n    //   let param = Object.assign({}, this.queryParam, this.isorter);\n    //   param.field = this.getQueryField();\n    //   param.current = this.ipagination.current;\n    //   param.pageSize = this.ipagination.pageSize;\n    //   return filterObj(param);\n    // },\n    // getQueryField() {\n    //   let str = \"id,\";\n    //   for (let i = 0; i < this.columns.length; i++) {\n    //     str += \",\" + this.columns[i].dataIndex;\n    //   }\n    //   return str;\n    // },\n    handleEdit: function handleEdit(record) {\n      this.mdl = Object.assign({}, record);\n      console.log(this.mdl);\n      this.visible = true;\n    },\n    handleOk: function handleOk() {},\n    //添加逻辑\n    handleModalVisible: function handleModalVisible(isVisible) {\n      this.visibleCreateModal = isVisible;\n    },\n    handleCreateModalCancel: function handleCreateModalCancel() {\n      this.visibleCreateModal = false;\n    },\n    onChange: function onChange(row) {\n      this.selectedRowKeys = row.selectedRowKeys;\n      this.selectedRows = row.selectedRows;\n      console.log(this.$refs.table);\n    },\n    toggleAdvanced: function toggleAdvanced() {\n      this.advanced = !this.advanced;\n    },\n    resetSearchForm: function resetSearchForm() {\n      this.queryParam = {\n        date: moment(new Date())\n      };\n    },\n    handleTableChange: function handleTableChange(page) {\n      this.pagination.current = page.current;\n      this.pagination.pageSize = page.pageSize;\n      this.getPgSearchList();\n    },\n    getModelIdByUrl: function getModelIdByUrl(str) {\n      var _this2 = this;\n\n      //let url = \"/papertitle/docNumSet/busModelList\";\n      getAction(this.url.getModelIdByUrl, {\n        str: str\n      }).then(function (res) {\n        _this2.modelId = res;\n\n        _this2.getPgConditionList(); //this.getPgSearchList();\n\n      });\n    },\n    getPgConditionList: function getPgConditionList() {\n      var _this3 = this;\n\n      var url = \"/oaBus/oaBusdata/queryFunSelByModelId\";\n      postAction(url, {\n        modelId: '16',\n        function_id: \"\"\n      }).then(function (res) {\n        _this3.clearData();\n\n        _this3.conditionList = res.colList;\n        _this3.selectList = res.funList;\n        _this3.tableName = res.tableName;\n        _this3.timeList = res.d_create_time;\n        _this3.queryParam.function_id = _this3.selectList[0].iid;\n        _this3.setConditionList = Object.assign({}, _this3.queryParam);\n\n        for (var i = 0; i < _this3.conditionList.length; i++) {\n          _this3.queryParam = Object.assign({}, _this3.queryParam, _defineProperty({}, _this3.conditionList[i].s_table_column, \"\"));\n        } // console.log('----------------------------------------------------------');\n        // console.log(this.queryParam);\n\n\n        _this3.resetConditionList = Object.assign({}, _this3.queryParam);\n\n        _this3.getPgFirstList();\n      });\n    },\n    getPgFirstList: function getPgFirstList() {\n      var _this4 = this;\n\n      this.columns = [];\n      this.dataSource = [];\n      this.chooseSearch();\n      var url = \"/modify/fields/queryTaskList\";\n      postAction(url, {\n        modelId: '1',\n        function_id: \"22\"\n      }).then(function (res) {\n        _this4.columns.push({\n          dataIndex: res.result[0].taskKey\n        });\n\n        for (var i = 0; i < res.result.length; i++) {\n          _this4.taskKey.push(res.result[i].taskKey);\n\n          _this4.dataSource.push(_defineProperty({\n            key: i\n          }, _this4.taskKey[0], res.result[i].taskName));\n        } // console.log('-----------------------<><><><><><><><><><><><><>--------------------------');\n        // console.log(this.taskKey);\n        // console.log('------------->>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>---------------');\n        // console.log(this.dataSource);\n\n      });\n    },\n    getCaption: function getCaption(obj, state) {\n      var index = obj.lastIndexOf(\"\\-\");\n\n      if (state == 0) {\n        obj = obj.substring(0, index);\n      } else {\n        obj = obj.substring(index + 1, obj.length);\n      }\n\n      return obj;\n    },\n    getPgSecondList: function getPgSecondList(taskNames) {\n      var _this5 = this;\n\n      this.taskNames = taskNames[taskNames.length - 1];\n      taskNames.length = 0;\n      this.columnes = [];\n      var url = \"/modify/fields/queryByModelIdNoPage\";\n      postAction(url, {\n        modelId: '1',\n        condition: this.queryParam,\n        taskName: this.taskKey[this.taskNames]\n      }).then(function (res) {\n        _this5.searchColumns = JSON.parse(res.message);\n\n        for (var i = 1; i < _this5.searchColumns.length; i++) {\n          _this5.columnes.push({\n            title: _this5.searchColumns[i].s_column_name,\n            dataIndex: _this5.searchColumns[i].s_table_column,\n            align: \"center\"\n          });\n        }\n\n        _this5.dataSources = res.result.dataList;\n        console.log('-------------++++++++++++++++++++++++++++++---------------');\n        console.log(_this5.dataSources);\n      });\n    },\n    getPgSearchList: function getPgSearchList(iBMId) {\n      var _this6 = this;\n\n      this.columns = [];\n      this.columnes = [];\n      this.iBMId = iBMId;\n      this.chooseSearch();\n      var url = \"oaBus/oaBusdata/queryByModelId\"; // this.queryParam.function_id = this.queryParam.function_id.toString();\n      // this.queryParam.i_is_state = this.queryParam.i_is_state.toString();\n      // this.queryParam.s_create_name = this.queryParam.s_create_name.toString();\n      // this.queryParam.d_create_time = this.queryParam.d_create_time.toString();\n\n      postAction(url, {\n        modelId: '1',\n        pageNo: 1,\n        pageSize: 10,\n        condition: this.queryParam\n      }).then(function (res) {\n        _this6.searchColumns = JSON.parse(res.message);\n        _this6.searchList = res.result;\n        _this6.pagination.current = _this6.searchList.current;\n        _this6.pagination.pageSize = _this6.searchList.size;\n        _this6.pagination.total = _this6.searchList.total;\n        _this6.dataSource = _this6.searchList.records; // for (let i = 0; i < this.dataSource.length; i++) {\n        //   this.dataSource[i]=Object.assign(this.dataSource[i],{\n        //     children: [{\n        //       scopedSlots:{customRender: 'expandedRowRender1'},\n        //     }]\n        //   })\n        // }\n\n        for (var i = 1; i < _this6.searchColumns.length; i++) {\n          _this6.columnes.push({\n            title: _this6.searchColumns[i].s_column_name,\n            dataIndex: _this6.searchColumns[i].s_table_column,\n            align: \"center\"\n          });\n        }\n\n        for (var _i = 5; _i < _this6.searchColumns.length; _i++) {\n          _this6.columns.push({\n            title: _this6.searchColumns[_i].s_column_name,\n            dataIndex: _this6.searchColumns[_i].s_table_column\n          });\n\n          for (var j = 0; j < _this6.dataSource.length; j++) {\n            if (_this6.dataSource[j][_this6.searchColumns[_i].s_table_column] == true) {\n              _this6.dataSource[j][_this6.searchColumns[_i].s_table_column] = '已办结';\n            } else if (_this6.dataSource[j][_this6.searchColumns[_i].s_table_column] == false) {\n              _this6.dataSource[j][_this6.searchColumns[_i].s_table_column] = '未办结';\n            }\n          }\n        } // this.columns[0] = Object.assign(this.columns[0],{\n        //   scopedSlots:{customRender: 'expandedRowRender1'},\n        // })\n        // this.columns.push({\n        //   scopedSlots:{customRender:'expandedRowRender1'},\n        //   slots:{title:\"业务功能id\"}\n        //\n        // })\n\n      });\n    },\n    changeInput: function changeInput(event, obj) {\n      this.queryParam[obj] = event.currentTarget.value; // console.log('----------------------------------------------------------');\n      // console.log(\"object: \" + obj + \" value: \" + event);\n      // console.log('----------------------------------------------------------');\n      // console.log(this.queryParam);\n    },\n    changeSelect: function changeSelect(event, obj) {// this.queryParam[obj] = event.toString();\n      // console.log('----------------------------------------------------------');\n      // console.log(\"object: \" + obj + \" value: \" + event);\n      // console.log('----------------------------------------------------------');\n      // console.log(this.queryParam);\n    },\n    onClick: function onClick(record, index) {\n      return {\n        on: {\n          click: function click() {// console.log('----------------------------------------------------------');\n            // console.log(record);\n            // console.log('----------------------------------------------------------');\n            // console.log(\"record: \"+record+\" index: \"+index);\n            // this.$refs.cutFile.show(record)\n          }\n        }\n      };\n    },\n    chooseSearch: function chooseSearch() {\n      if (this.queryParam.selType == 0) {\n        this.queryParam.s_create_name = '';\n      } // console.log('222----------------------------------------------------------222');\n      // console.log('radio checked',e.target.value)\n\n    },\n    dataDestroy: function dataDestroy() {\n      this.searchColumns = [];\n      this.searchList = [];\n      this.pagination = [];\n      this.columns = [];\n      this.dataSource = [];\n    },\n    resetPgConditionList: function resetPgConditionList() {\n      this.queryParam = Object.assign({}, this.resetConditionList);\n\n      for (var i = 0; i < this.$refs.inputs.length; i++) {\n        this.$refs.inputs[i].stateValue = '';\n      }\n    }\n  },\n  watch: {\n    '$route.path': {\n      handler: function handler(newPath, oldPath) {\n        //this.init();\n        var path = newPath;\n        var paths = path.split('/');\n        var str = paths[paths.length - 1];\n        this.getModelIdByUrl(str); // console.log('---------------------------------', newPath);\n        // console.log('---------------------------------', oldPath);\n      },\n      immediate: false,\n      deep: true\n      /* this.$route.path:{\n      }*/\n\n      /*\n      'selectedRows': function (selectedRows) {\n        this.needTotalList = this.needTotalList.map(item => {\n          return {\n            ...item,\n            total: selectedRows.reduce( (sum, val) => {\n              return sum + val[item.dataIndex]\n            }, 0)\n          }\n        })\n      }\n      */\n\n    }\n  }\n};",{"version":3,"sources":["TestTableLists.vue"],"names":[],"mappings":"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","sourcesContent":["<style>\r\n\r\n.input{\r\n  background-color: #f0f5fc;\r\n}\r\n\r\n.ant-select-selection--single{\r\n  background-color: #f0f5fc !important;\r\n}\r\n\r\n.ant-table-thead > tr > th{\r\n  color: #fff;\r\n  background-color: #006db9;\r\n  border: none !important;\r\n}\r\n\r\n.light-row{\r\n  background-color: #fff;\r\n}\r\n\r\n.dark-row{\r\n  background-color: #c2d9f8;\r\n}\r\n\r\n.dark-row:hover{\r\n  background-color: #ffadd2;\r\n}\r\n\r\n/*.ant-tabs-nav-scroll{*/\r\n  /*height:39px;*/\r\n/*}*/\r\n\r\n/*.ant-card-body .ant-tabs-bar{*/\r\n  /*border:none;*/\r\n/*}*/\r\n\r\n/*.ant-card-body .ant-tabs-nav{*/\r\n  /*!*background-color: #ffadd2;*!*/\r\n  /*border:1px solid #909090;*/\r\n  /*border-radius: 25%;*/\r\n  /*height: 27px;*/\r\n  /*top: 5px;*/\r\n/*}*/\r\n\r\n/*.ant-card-body .ant-tabs-bar .ant-tabs-tab{*/\r\n  /*font-size: 14px;*/\r\n  /*padding-top: 2px;*/\r\n  /*margin-right: 0px;*/\r\n  /*bottom: 1px;*/\r\n/*}*/\r\n\r\n/*.ant-card-body .ant-tabs-bar .ant-tabs-tab:hover{*/\r\n  /*color: #0061cb;*/\r\n/*}*/\r\n\r\n/*.ant-card-body .ant-tabs-bar .ant-tabs-tab-active{*/\r\n  /*color: #fff;*/\r\n  /*background-color: #7d70ff;*/\r\n  /*border-radius: 27%;*/\r\n  /*height:27px;*/\r\n/*}*/\r\n\r\n/*.ant-card-body .ant-tabs-bar .ant-tabs-ink-bar-animated{*/\r\n  /*display: none !important;*/\r\n/*}*/\r\n\r\n.table-page-search-submitButtons .ant-btn{\r\n  background:linear-gradient(180deg,rgba(115,128,255,1),rgba(47,86,255,1)) repeat scroll 0% 0%;\r\n}\r\n\r\n.table-page-search-submitButtons .ant-btn svg{\r\n  fill:cyan;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"table-page-search-wrapper\">\r\n    <a-card :bordered=\"ture\">\r\n      <a-tabs defaultActiveKey=\"0\" @change=\"changFunId\">\r\n        <a-tab-pane :tab=\"item.sname\" v-for=\"(item,index) in selectList\" :key=\"index\">\r\n          <a-form layout=\"inline\">\r\n            <a-row :gutter=\"48\" style=\"margin:0 -150px 0 24px;\">\r\n              <a-col :md=\"!advanced && 24 || 24\" :sm=\"24\">\r\n            <span class=\"table-page-search-submitButtons\"\r\n                  :style=\"advanced && { float: 'right', overflow: 'hidden' } || {} \">\r\n              <a @click=\"toggleAdvanced\" style=\"position: absolute;bottom: 34%;right: 14%;\">\r\n                {{ advanced ? '隐藏' : '显示' }}\r\n                <a-icon :type=\"advanced ? 'up' : 'down'\"/>\r\n              </a>\r\n            </span>\r\n              </a-col>\r\n              <template v-if=\"advanced\">\r\n                <a-col :md=\"7\" :sm=\"24\" style=\"margin-top:7px;\">\r\n                  <a-form-item label=\"状态\">\r\n                    <a-select v-model=\"queryParam.i_is_state\">\r\n                      <a-select-option value=\"1\">已办结</a-select-option>\r\n                      <a-select-option value=\"0\">未办结</a-select-option>\r\n                    </a-select>\r\n                  </a-form-item>\r\n                </a-col>\r\n                <a-col :md=\"7\" :sm=\"24\" style=\"margin-top: 7px;\">\r\n                  <a-form-item label=\"拟稿人\">\r\n                    <a-radio-group v-model=\"queryParam.selType\">\r\n                      <a-radio :value=\"0\">由我创建</a-radio>\r\n                      <a-radio :value=\"1\" style=\"width: 33%;\">\r\n                        全部数据\r\n                        <a-input v-if=\"queryParam.selType === 1\" v-model=\"queryParam.s_create_name\"\r\n                                 style=\"margin-left: 7px\"/>\r\n                      </a-radio>\r\n                    </a-radio-group>\r\n                  </a-form-item>\r\n                </a-col>\r\n                <a-col :md=\"7\" :sm=\"24\" style=\"margin-top:7px;\">\r\n                  <a-form-item label=\"年份\">\r\n                    <a-select v-model=\"queryParam.d_create_time\">\r\n                      <a-select-option v-for=\"(item,index) in timeList\" :key=\"index\" :value=\"item\">{{item}}\r\n                      </a-select-option>\r\n                    </a-select>\r\n                  </a-form-item>\r\n                </a-col>\r\n\r\n\r\n                <a-col v-for=\"(atom,index) in conditionList\" :key=\"index\" :value=\"atom.s_table_column\" :md=\"7\" :sm=\"24\" style=\"margin-top:7px;\">\r\n                  <a-form-item :label=\"atom.s_column_name\">\r\n                    <!--<a-select v-if=\"atom.s_table_column=='s_file_num'\" @change=\"changeSelect($event,atom.s_table_column)\" placeholder=\"请选择\">-->\r\n                    <!--<a-select-option v-for=\"(item,index) in selectList\" :key=\"item.i_id\" :value=\"item.i_id\">{{item.s_name}}</a-select-option>-->\r\n                    <!--</a-select>-->\r\n\r\n                    <a-input class=\"input\" ref=\"inputs\" @input=\"changeInput($event,atom.s_table_column)\" placeholder=\"请输入\"/>\r\n                  </a-form-item>\r\n                </a-col>\r\n\r\n\r\n                <a-col :md=\"!advanced && 7 || 24\" :sm=\"24\" style=\"text-align: center;padding-right:172px;\">\r\n            <span class=\"table-page-search-submitButtons\" :style=\"advanced && { overflow: 'hidden' } || {} \">\r\n              <a-button type=\"primary\" icon=\"search\" @click=\"getPgFirstList\">查询</a-button>\r\n              <a-button type=\"primary\" icon=\"reload\" @click=\"resetPgConditionList\" style=\"margin-left:27px;\">重置</a-button>\r\n            </span>\r\n                </a-col>\r\n\r\n              </template>\r\n            </a-row>\r\n\r\n          </a-form>\r\n\r\n\r\n        <a-table\r\n          :columns=\"columns\"\r\n          :dataSource=\"dataSource\"\r\n          :pagination=\"false\"\r\n          :loading=\"loading\"\r\n          :showAlertInfo=\"false\"\r\n          :customRow=\"onClick\"\r\n          :showHeader=\"false\"\r\n          :expandIconAsCell=\"false\"\r\n          bordered\r\n          :rowKey=\"record => record.key\"\r\n          @expandedRowsChange=\"(expandedRows) => {\r\n               getPgSecondList(expandedRows);\r\n          }\"\r\n        >\r\n\r\n          <a-table\r\n            slot=\"expandedRowRender\"\r\n            slot-scope=\"record,index,indent,expanded\"\r\n            :columns=\"columnes\"\r\n            :dataSource=\"dataSources\"\r\n            size=\"middle\"\r\n            :pagination=\"false\"\r\n            :loading=\"loading\"\r\n            :showAlertInfo=\"false\"\r\n            :rowKey=\"record => record.key\"\r\n            :rowClassName=\"(record,index) => {\r\n              let className  = 'light-row';\r\n              if (index % 2 === 1) className = 'dark-row';\r\n              return className;\r\n          }\"\r\n          >\r\n\r\n          </a-table>\r\n\r\n\r\n        </a-table>\r\n\r\n\r\n        </a-tab-pane>\r\n      </a-tabs>\r\n    </a-card>\r\n    <detail-file ref=\"detailFile\"></detail-file>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import STable from '@/components/table/'\r\n  import ATextarea from \"ant-design-vue/es/input/TextArea\"\r\n  import AInput from \"ant-design-vue/es/input/Input\"\r\n  import moment from \"moment\"\r\n  import axios from 'axios';\r\n  import {httpAction, getAction, postAction, getRoleList, getUserList, getServiceList} from '@/api/manage'\r\n  import pick from 'lodash.pick'\r\n  //业务页面\r\n  import ARadioGroup from \"ant-design-vue/es/radio/Group\";\r\n\r\n  export default {\r\n    name: \"TestTableLists\",\r\n    components: {\r\n      ARadioGroup,\r\n      AInput,\r\n      ATextarea,\r\n      STable,\r\n      //业务\r\n    },\r\n    data() {\r\n      return {\r\n        description: '这是公共查询列表页面',\r\n        visibleCreateModal: false,\r\n        visible: false,\r\n        getPageList: [],\r\n        conditionList: [],\r\n        resetConditionList: {},\r\n        setConditionList:{},\r\n        selectList: [],\r\n        timeList:[],\r\n        modelId: '',\r\n        tableName: '',\r\n        iBMId: '1',\r\n        searchColumns: [],\r\n        searchList: [],\r\n        model: {pageDetailList: [{}]},\r\n        labelCol: {\r\n          xs: {span: 24},\r\n          sm: {span: 5},\r\n        },\r\n        wrapperCol: {\r\n          xs: {span: 24},\r\n          sm: {span: 16},\r\n        },\r\n        confirmLoading: false,\r\n        mdl: {\r\n          dataIndex: 'description',\r\n        },\r\n\r\n        // 高级搜索 展开/关闭\r\n        advanced: true,\r\n        // 查询参数\r\n        queryParam: {\r\n          function_id: '22',\r\n          i_is_state: '',\r\n          selType: 1,\r\n          s_create_name: '',\r\n          d_create_time: '',\r\n        },\r\n        // 表头\r\n        columns: [],\r\n        columnes: [],\r\n        dataSource: [],\r\n        taskKey:[],\r\n        taskNames:[],\r\n        // rowSelection:{\r\n        //   onSelect:(record,selected,selectedRows)=>{\r\n        //     console.log('-----------------------<><><><><><><><><><><><><>--------------------------');\r\n        //     console.log(record,selected,selectedRows);\r\n        //   }\r\n        // },\r\n        dataSources: [],\r\n        pagination: {\r\n          current: 1,\r\n          pageSize: 10,\r\n          pageSizeOptions: ['5', '10', '15', '20', '25', '30'],\r\n          showTotal: (total, range) => {\r\n            return range[0] + \"/\" + range[1] + \"共\" + total + \"条\"\r\n          },\r\n          showQuickJumper: true,\r\n          showSizeChanger: true,\r\n          total: 0,\r\n        },\r\n        url: {\r\n          busDataAndColums: 'oaBus/oaBusdata/queryBusdataById',\r\n          getModelIdByUrl: '/oaBus/busModel/getModelIdByUrl',\r\n          getConditionByFunId: '/oaBus/busPageDetail/getConditionByFunId',\r\n        },\r\n        loading: false,\r\n        // 加载数据方法 必须为 Promise 对象\r\n        // loadData: parameter => {\r\n        //   return getServiceList(Object.assign(parameter, this.queryParam))\r\n        //     .then(res => {\r\n        //       return res.result;\r\n        //       console.log('----------------------------------------------------------');\r\n        //       console.log(res.result);\r\n        //     })\r\n        // },\r\n        selectedRowKeys: [],\r\n        selectedRows: [],\r\n        toggleSearchStatus: false,\r\n      }\r\n    },\r\n    created() {\r\n      this.init();\r\n    },\r\n    destroyed(){\r\n      this.dataDestroy();\r\n    },\r\n    methods: {\r\n      // loadData (arg){\r\n      //   if(arg===1){\r\n      //     this.ipagination.current = 1;\r\n      //   }\r\n      //   let params = this.getQueryParams();\r\n      //   getServiceList(params).then((res)=>{\r\n      //     if(res.success){\r\n      //       this.dataSource = res.result.records;\r\n      //       this.ipagination.total = res.result.total;\r\n      //     }\r\n      //   })\r\n      // },\r\n      changFunId(index) {\r\n        this.resetPgConditionList();\r\n        getAction(this.url.getConditionByFunId, {functionId: index}).then((res) => {\r\n          this.conditionList = res;\r\n          this.queryParam = Object.assign({}, this.setConditionList);\r\n          for (let i = 0; i < this.conditionList.length; i++) {\r\n            this.queryParam = Object.assign({},this.queryParam,{[this.conditionList[i].s_table_column]: \"\"});\r\n          }\r\n          this.queryParam.function_id = this.selectList[index].iid;\r\n          this.resetConditionList = Object.assign({},this.queryParam);\r\n          this.pagination.current = 1;\r\n          this.getPgFirstList();\r\n        });\r\n      },\r\n      init() {\r\n        let path = this.$route.path;\r\n        let paths = path.split('/')\r\n        let str = paths[paths.length - 1]\r\n        this.getModelIdByUrl(str);\r\n      },\r\n      clearData(){\r\n        this.conditionList = [];\r\n        this.selectList = [];\r\n        this.columns = [];\r\n      },\r\n      // getQueryParams() {\r\n      //   let param = Object.assign({}, this.queryParam, this.isorter);\r\n      //   param.field = this.getQueryField();\r\n      //   param.current = this.ipagination.current;\r\n      //   param.pageSize = this.ipagination.pageSize;\r\n      //   return filterObj(param);\r\n      // },\r\n      // getQueryField() {\r\n      //   let str = \"id,\";\r\n      //   for (let i = 0; i < this.columns.length; i++) {\r\n      //     str += \",\" + this.columns[i].dataIndex;\r\n      //   }\r\n      //   return str;\r\n      // },\r\n\r\n      handleEdit(record) {\r\n        this.mdl = Object.assign({}, record);\r\n        console.log(this.mdl);\r\n        this.visible = true;\r\n      },\r\n      handleOk() {\r\n\r\n      },\r\n\r\n      //添加逻辑\r\n      handleModalVisible(isVisible) {\r\n        this.visibleCreateModal = isVisible;\r\n      },\r\n\r\n      handleCreateModalCancel() {\r\n        this.visibleCreateModal = false;\r\n      },\r\n\r\n      onChange(row) {\r\n        this.selectedRowKeys = row.selectedRowKeys;\r\n        this.selectedRows = row.selectedRows;\r\n\r\n        console.log(this.$refs.table)\r\n      },\r\n      toggleAdvanced() {\r\n        this.advanced = !this.advanced\r\n      },\r\n\r\n      resetSearchForm() {\r\n        this.queryParam = {\r\n          date: moment(new Date())\r\n        }\r\n      },\r\n      handleTableChange(page) {\r\n        this.pagination.current = page.current;\r\n        this.pagination.pageSize = page.pageSize;\r\n        this.getPgSearchList();\r\n      },\r\n      getModelIdByUrl(str) {\r\n        //let url = \"/papertitle/docNumSet/busModelList\";\r\n        getAction(this.url.getModelIdByUrl, {str: str}).then((res) => {\r\n          this.modelId = res;\r\n          this.getPgConditionList();\r\n\r\n          //this.getPgSearchList();\r\n        });\r\n      },\r\n      getPgConditionList() {\r\n        let url = \"/oaBus/oaBusdata/queryFunSelByModelId\";\r\n        postAction(url, {modelId: '16', function_id: \"\"}).then((res) => {\r\n          this.clearData();\r\n          this.conditionList = res.colList;\r\n          this.selectList = res.funList;\r\n          this.tableName = res.tableName;\r\n          this.timeList = res.d_create_time;\r\n          this.queryParam.function_id = this.selectList[0].iid;\r\n          this.setConditionList = Object.assign({},this.queryParam);\r\n          for (let i = 0; i < this.conditionList.length; i++) {\r\n            this.queryParam = Object.assign({}, this.queryParam, {[this.conditionList[i].s_table_column]: \"\"});\r\n          }\r\n          // console.log('----------------------------------------------------------');\r\n          // console.log(this.queryParam);\r\n          this.resetConditionList = Object.assign({},this.queryParam);\r\n          this.getPgFirstList();\r\n        });\r\n      },\r\n      getPgFirstList() {\r\n        this.columns = [];\r\n        this.dataSource = [];\r\n        this.chooseSearch();\r\n        let url = \"/modify/fields/queryTaskList\";\r\n        postAction(url, {modelId: '1', function_id: \"22\"}).then((res) => {\r\n\r\n          this.columns.push({\r\n            dataIndex: res.result[0].taskKey,\r\n          });\r\n\r\n          for(let i = 0;i < res.result.length;i++){\r\n            this.taskKey.push(res.result[i].taskKey);\r\n            this.dataSource.push({\r\n              key:i,\r\n              [this.taskKey[0]]:res.result[i].taskName,\r\n            });\r\n          }\r\n          // console.log('-----------------------<><><><><><><><><><><><><>--------------------------');\r\n          // console.log(this.taskKey);\r\n          // console.log('------------->>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>---------------');\r\n          // console.log(this.dataSource);\r\n\r\n\r\n        });\r\n      },\r\n      getCaption(obj,state){\r\n        let index = obj.lastIndexOf(\"\\-\");\r\n        if(state == 0){\r\n          obj = obj.substring(0,index);\r\n        }else{\r\n          obj = obj.substring(index+1,obj.length)\r\n        }\r\n        return obj;\r\n      },\r\n      getPgSecondList(taskNames) {\r\n\r\n\r\n        this.taskNames = taskNames[taskNames.length-1];\r\n        taskNames.length = 0;\r\n        this.columnes = [];\r\n        let url = \"/modify/fields/queryByModelIdNoPage\";\r\n        postAction(url, {modelId: '1',condition: this.queryParam,taskName:this.taskKey[this.taskNames]}).then((res) => {\r\n\r\n          this.searchColumns = JSON.parse(res.message);\r\n\r\n          for (let i = 1; i < this.searchColumns.length; i++) {\r\n            this.columnes.push({\r\n              title: this.searchColumns[i].s_column_name,\r\n              dataIndex: this.searchColumns[i].s_table_column,\r\n              align: \"center\",\r\n            });\r\n          }\r\n\r\n          this.dataSources = res.result.dataList;\r\n\r\n\r\n\r\n\r\n          console.log('-------------++++++++++++++++++++++++++++++---------------');\r\n          console.log(this.dataSources);\r\n\r\n        });\r\n      },\r\n      getPgSearchList(iBMId) {\r\n        this.columns = [];\r\n        this.columnes = [];\r\n        this.iBMId = iBMId;\r\n        this.chooseSearch();\r\n        let url = \"oaBus/oaBusdata/queryByModelId\";\r\n        // this.queryParam.function_id = this.queryParam.function_id.toString();\r\n        // this.queryParam.i_is_state = this.queryParam.i_is_state.toString();\r\n        // this.queryParam.s_create_name = this.queryParam.s_create_name.toString();\r\n        // this.queryParam.d_create_time = this.queryParam.d_create_time.toString();\r\n\r\n        postAction(url, {modelId: '1', pageNo: 1 ,pageSize:10,condition: this.queryParam}).then((res) => {\r\n          this.searchColumns = JSON.parse(res.message);\r\n          this.searchList = res.result;\r\n          this.pagination.current = this.searchList.current;\r\n          this.pagination.pageSize = this.searchList.size;\r\n          this.pagination.total = this.searchList.total;\r\n\r\n\r\n          this.dataSource = this.searchList.records;\r\n\r\n\r\n\r\n\r\n          // for (let i = 0; i < this.dataSource.length; i++) {\r\n          //   this.dataSource[i]=Object.assign(this.dataSource[i],{\r\n          //     children: [{\r\n          //       scopedSlots:{customRender: 'expandedRowRender1'},\r\n          //     }]\r\n          //   })\r\n          // }\r\n\r\n          for (let i = 1; i < this.searchColumns.length; i++) {\r\n            this.columnes.push({\r\n              title: this.searchColumns[i].s_column_name,\r\n              dataIndex: this.searchColumns[i].s_table_column,\r\n              align: \"center\",\r\n            });\r\n          }\r\n\r\n          for (let i = 5; i < this.searchColumns.length; i++) {\r\n            this.columns.push({\r\n              title: this.searchColumns[i].s_column_name,\r\n              dataIndex: this.searchColumns[i].s_table_column,\r\n            });\r\n\r\n\r\n            for (let j = 0; j < this.dataSource.length; j++) {\r\n              if (this.dataSource[j][this.searchColumns[i].s_table_column] == true) {\r\n                this.dataSource[j][this.searchColumns[i].s_table_column] = '已办结';\r\n              } else if (this.dataSource[j][this.searchColumns[i].s_table_column] == false) {\r\n                this.dataSource[j][this.searchColumns[i].s_table_column] = '未办结';\r\n              }\r\n            }\r\n          }\r\n\r\n          // this.columns[0] = Object.assign(this.columns[0],{\r\n          //   scopedSlots:{customRender: 'expandedRowRender1'},\r\n          // })\r\n\r\n\r\n          // this.columns.push({\r\n          //   scopedSlots:{customRender:'expandedRowRender1'},\r\n          //   slots:{title:\"业务功能id\"}\r\n          //\r\n          // })\r\n\r\n        });\r\n      },\r\n      changeInput(event, obj) {\r\n\r\n        this.queryParam[obj] = event.currentTarget.value;\r\n\r\n        // console.log('----------------------------------------------------------');\r\n        // console.log(\"object: \" + obj + \" value: \" + event);\r\n        // console.log('----------------------------------------------------------');\r\n        // console.log(this.queryParam);\r\n      },\r\n      changeSelect(event, obj) {\r\n\r\n        // this.queryParam[obj] = event.toString();\r\n\r\n        // console.log('----------------------------------------------------------');\r\n        // console.log(\"object: \" + obj + \" value: \" + event);\r\n        // console.log('----------------------------------------------------------');\r\n        // console.log(this.queryParam);\r\n      },\r\n      onClick(record, index) {\r\n        return {\r\n          on: {\r\n            click: () => {\r\n              // console.log('----------------------------------------------------------');\r\n              // console.log(record);\r\n              // console.log('----------------------------------------------------------');\r\n              // console.log(\"record: \"+record+\" index: \"+index);\r\n              // this.$refs.cutFile.show(record)\r\n\r\n\r\n            }\r\n\r\n          }\r\n        }\r\n      },\r\n      chooseSearch(){\r\n        if(this.queryParam.selType == 0){\r\n          this.queryParam.s_create_name = '';\r\n        }\r\n        // console.log('222----------------------------------------------------------222');\r\n        // console.log('radio checked',e.target.value)\r\n      },\r\n      dataDestroy(){\r\n        this.searchColumns = [];\r\n        this.searchList = [];\r\n        this.pagination = [];\r\n        this.columns = [];\r\n        this.dataSource = [];\r\n      },\r\n      resetPgConditionList() {\r\n        this.queryParam = Object.assign({},this.resetConditionList);\r\n        for (let i = 0; i < this.$refs.inputs.length; i++) {\r\n          this.$refs.inputs[i].stateValue = '';\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n\r\n      '$route.path': {\r\n        handler(newPath, oldPath) {\r\n          //this.init();\r\n          let path = newPath;\r\n          let paths = path.split('/')\r\n          let str = paths[paths.length - 1]\r\n          this.getModelIdByUrl(str);\r\n          // console.log('---------------------------------', newPath);\r\n          // console.log('---------------------------------', oldPath);\r\n        },\r\n        immediate: false,\r\n        deep: true,\r\n      }\r\n\r\n      /* this.$route.path:{\r\n\r\n     }*/\r\n      /*\r\n      'selectedRows': function (selectedRows) {\r\n        this.needTotalList = this.needTotalList.map(item => {\r\n          return {\r\n            ...item,\r\n            total: selectedRows.reduce( (sum, val) => {\r\n              return sum + val[item.dataIndex]\r\n            }, 0)\r\n          }\r\n        })\r\n      }\r\n      */\r\n    }\r\n  }\r\n</script>"],"sourceRoot":"src/views/oaBus"}]}