{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js!C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\workflow\\modules\\copyProcModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\workflow\\modules\\copyProcModal.vue","mtime":1579340189827},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAction, httpAction, postAction } from '@/api/manage';\nimport DictItemModal from \"../../system/modules/DictItemModal\";\nimport AFormItem from \"ant-design-vue/es/form/FormItem\";\nexport default {\n  name: \"copyProcActinstModal\",\n  components: {\n    AFormItem: AFormItem,\n    DictItemModal: DictItemModal\n  },\n  data: function data() {\n    return {\n      title: \"复制流程\",\n      isClick: false,\n      visible: false,\n      confirmLoading: false,\n      name: undefined,\n      key: undefined,\n      proMSg: {},\n      url: {\n        copy: '/workflowSet/copy'\n      }\n    };\n  },\n  created: function created() {},\n  methods: {\n    show: function show() {\n      this.name = undefined;\n      this.key = undefined;\n      this.visible = true;\n      this.isClick = false;\n    },\n    close: function close() {\n      this.$emit('close');\n      this.visible = false;\n    },\n    handleOk: function handleOk() {\n      var _this = this;\n\n      if (this.isClick) {\n        this.$message.error(\"请勿重复点击\");\n      }\n\n      if (this.name == undefined) {\n        this.$message.error('请输入流程名称');\n        return;\n      }\n\n      if (this.key == undefined) {\n        this.$message.error('请输入流程key');\n        return;\n      } //key校验\n\n\n      var keyReg = /^([a-zA-Z])([-_a-zA-Z0-9]{4,19})$/;\n\n      if (!keyReg.test(this.key)) {\n        if (this.key.length > 20) {\n          this.$message.error('您输入的key长度过长');\n          return;\n        }\n\n        if (this.key.length < 5) {\n          this.$message.error('您输入的key长度过短');\n          return;\n        }\n\n        this.$message.error('您输入的key不合法请检查');\n        return;\n      }\n\n      var nameReg = /^([\\u4e00-\\u9fa5]|[a-zA-Z])([-\\u4e00-\\u9fa5_-_a-zA-Z0-9]{4,19})$/;\n\n      if (!nameReg.test(this.name)) {\n        if (this.name.length > 20) {\n          this.$message.error('您输入的名称长度过长');\n          return;\n        }\n\n        if (this.name.length < 5) {\n          this.$message.error('您输入的名称长度过短');\n          return;\n        }\n\n        this.$message.error('您输入的名称不合法请检查');\n        return;\n      }\n\n      postAction(this.url.copy + '?copyKey=' + this.key + '&copyName=' + this.name + '&sourceDefId=' + this.proMSg.id).then(function (res) {\n        if (res.success) {\n          _this.isClick = true;\n\n          _this.$message.success(res.message); //刷新父页面\n\n\n          _this.$emit('reload');\n\n          _this.handleCancel();\n        } else {\n          _this.$message.error(res.message);\n        }\n      });\n    },\n    handleCancel: function handleCancel() {\n      this.close();\n    }\n  }\n};",{"version":3,"sources":["copyProcModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <a-modal\r\n    :title=\"title\"\r\n    :width=\"800\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    @ok=\"handleOk\"\r\n    destroyOnClose\r\n    @cancel=\"handleCancel\"\r\n    cancelText=\"关闭\">\r\n\r\n    <a-spin :spinning=\"confirmLoading\">\r\n\r\n      <a-form>\r\n        <a-form-item>\r\n          <a-input\r\n            size=\"large\"\r\n            type=\"text\"\r\n            placeholder=\"请输入流程名称(只能以中文或英文开头,只能包含中文/英文/数字/下划线;长度大于等于5小于等于20)\"\r\n            v-model=\"name\"\r\n          ></a-input>\r\n        </a-form-item>\r\n        <a-form-item>\r\n          <a-input\r\n            size=\"large\"\r\n            type=\"text\"\r\n            placeholder=\"请输入流程key(只能以字母开头,只能包含字母,数字,下划线;长度大于等于5小于等于20)\"\r\n            v-model=\"key\"\r\n          ></a-input>\r\n        </a-form-item>\r\n\r\n      </a-form>\r\n\r\n\r\n    </a-spin>\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\n  import {getAction, httpAction, postAction} from '@/api/manage'\r\n  import DictItemModal from \"../../system/modules/DictItemModal\";\r\n  import AFormItem from \"ant-design-vue/es/form/FormItem\";\r\n\r\n  export default {\r\n    name: \"copyProcActinstModal\",\r\n    components: {AFormItem, DictItemModal},\r\n    data() {\r\n      return {\r\n        title: \"复制流程\",\r\n        isClick:false,\r\n        visible: false,\r\n        confirmLoading: false,\r\n        name: undefined,\r\n        key: undefined,\r\n        proMSg: {},\r\n        url: {\r\n          copy: '/workflowSet/copy'\r\n        },\r\n      }\r\n    },\r\n    created() {\r\n    },\r\n    methods: {\r\n      show() {\r\n        this.name = undefined\r\n        this.key = undefined\r\n        this.visible = true\r\n        this.isClick=false\r\n      },\r\n      close() {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n      },\r\n      handleOk() {\r\n        if (this.isClick){\r\n          this.$message.error(\"请勿重复点击\")\r\n        }\r\n        if (this.name == undefined) {\r\n          this.$message.error('请输入流程名称')\r\n          return\r\n        }\r\n        if (this.key == undefined) {\r\n          this.$message.error('请输入流程key')\r\n          return\r\n        }\r\n\r\n\r\n        //key校验\r\n        let keyReg = /^([a-zA-Z])([-_a-zA-Z0-9]{4,19})$/\r\n        if (!keyReg.test(this.key)) {\r\n          if ((this.key).length > 20) {\r\n            this.$message.error('您输入的key长度过长')\r\n            return\r\n          }\r\n          if ((this.key).length < 5) {\r\n            this.$message.error('您输入的key长度过短')\r\n            return\r\n          }\r\n          this.$message.error('您输入的key不合法请检查')\r\n          return\r\n        }\r\n\r\n        let nameReg = /^([\\u4e00-\\u9fa5]|[a-zA-Z])([-\\u4e00-\\u9fa5_-_a-zA-Z0-9]{4,19})$/\r\n        if (!nameReg.test(this.name)) {\r\n\r\n          if ((this.name).length > 20) {\r\n            this.$message.error('您输入的名称长度过长')\r\n            return\r\n          }\r\n          if ((this.name).length < 5) {\r\n            this.$message.error('您输入的名称长度过短')\r\n            return\r\n          }\r\n          this.$message.error('您输入的名称不合法请检查')\r\n\r\n          return\r\n        }\r\n\r\n        postAction(this.url.copy + '?copyKey=' + this.key + '&copyName=' + this.name + '&sourceDefId=' + this.proMSg.id).then(res => {\r\n          if (res.success) {\r\n            this.isClick=true\r\n            this.$message.success(res.message)\r\n            //刷新父页面\r\n            this.$emit('reload')\r\n            this.handleCancel()\r\n\r\n          } else {\r\n            this.$message.error(res.message)\r\n          }\r\n        })\r\n\r\n      },\r\n      handleCancel() {\r\n        this.close();\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>"],"sourceRoot":"src/views/workflow/modules"}]}