{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js!C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\taskList\\synthesizeFile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\taskList\\synthesizeFile.vue","mtime":1579416998803},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport _defineProperty from \"C:\\\\xxm\\\\work\\\\jd\\\\fore\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nvar _methods;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAction, postAction } from \"../../../api/manage\";\nimport { JeecgListMixin } from \"../../../mixins/JeecgListMixin2\";\nimport ATextarea from \"ant-design-vue/es/input/TextArea\";\nimport { busdataTemplate } from \"@/views/buttons/btn-js/busdataTemplate\";\nimport moment from 'moment';\nexport default {\n  name: \"synthesizeFile\",\n  mixins: [JeecgListMixin, busdataTemplate],\n  components: {\n    ATextarea: ATextarea\n  },\n  props: {\n    backDataRef: {\n      type: Object,\n      required: false\n    },\n    detailList: {\n      type: Object,\n      required: false\n    },\n    optionMap: {\n      type: Object,\n      required: false\n    }\n  },\n  data: function data() {\n    return {\n      s_varchar: [],\n      dateFormat: 'YYYY-MM-DD HH:mm:ss',\n      placeholder: '请输入开始时间',\n      visible: false,\n      title: '请假申请',\n      confirmLoading: false,\n      userData: '',\n      //代办信息\n      task: '',\n      //已办信息\n      taskDone: '',\n      detailList: null,\n      //  文档数据   字段含义\n      oaFileList: [],\n      //  文档数据   字段含义\n      //表中的数据相关值\n      backData: _defineProperty({\n        //流程key\n        key: '',\n        //文号\n        // act_show: '',\n        //page ref\n        page_ref: '',\n        //业务配置表id-用于查询按钮/意见权限\n        iprocSetId: '',\n        //对应的业务数据表\n        table: 'oa_busdata70',\n        i_is_important: '',\n        //---------------------------------- 以下为表存储字段\n        //*******\n        i_id: '',\n        //申请人\n        s_create_name: '',\n        //所属部门\n        s_create_dept: '',\n        //联系电话\n        i_phone: 0,\n        //请假地点\n        s_varchar1: '',\n        //参加工作时间\n        d_datetime2: '',\n        //岗位\n        s_varchar2: '',\n        //请假类别\n        s_varchar3: '',\n        //申请时间\n        d_create_time: '',\n        //请假天数\n        i_bigint1: '',\n        //销假日期\n        d_datetime3: '',\n        //请假起始日期\n        d_datetime4: '',\n        //请假结束日期\n        d_datetime5: '',\n        //请假事由\n        s_title: '',\n        //备注\n        s_remarks: '',\n        s_cur_proc_name: '',\n        //当前任务名称\n        s_cur_task_name: ''\n      }, \"i_is_important\", ''),\n      url: {\n        optionAndBtn: '/oaBus/newTask/optionAndBtn',\n        currentUserMsg: '/sys/user/getUserSectionInfoByToken',\n        updateReadStatus: '/oaBus/taskInAct/changeStatus',\n        selectTaskType: '/oaBus/busModel/list',\n        selectTask: '/oaBus/busModel/list',\n        queryOaFileList: '/oaBus/oaFile/queryOaFileList',\n        updateBusdata: '/oaBus/dynamic/update'\n      }\n    };\n  },\n  created: function created() {\n    this.show();\n  },\n  methods: (_methods = {\n    moment: moment,\n    //选择请假类别\n    selectType: function selectType(e, d) {\n      this.backData.s_varchar3 = e;\n    },\n    //----------------时间变化检测---------------\n    selectTime: function selectTime(e) {\n      console.log(e);\n    },\n    //----------------确定时间---------------\n    confirmTime: function confirmTime(e) {\n      // console.log(e);\n      var startTime = e[0]._d;\n      var endTime = e[1]._d;\n      this.backData.d_datetime4 = this.dataTime(startTime);\n      this.backData.d_datetime5 = this.dataTime(endTime);\n    },\n    getDateTime2: function getDateTime2(e, datetime2) {\n      this.backData.d_datetime2 = datetime2;\n      console.log(this.backData.d_datetime2);\n    },\n    //监测开始时间变化\n    getDateTime4: function getDateTime4(e, datetime4) {\n      // alert(datetime4)\n      console.log(\"111111111111111\");\n      this.backData.d_datetime4 = datetime4;\n      /*if (this.backData.d_datetime5 != undefined){\n        var time4 = Date.parse(datetime4);\n        var time5  = Date.parse(this.backData.d_datetime5);\n        console.log(time4 + \"  :  \" + time5);\n        if (time4 > time5){\n          this.backData.d_datetime4 = '';\n          this.$message.error(\"请假终止时间必须大于请假起始时间\");\n          return ;\n        }else{\n          this.backData.d_datetime4 = datetime4;\n        }\n      }else {\n        this.backData.d_datetime4 = datetime4;\n      }*/\n\n      /*if (this.backData.d_datetime5 != undefined){\n        console.log(\"22222222222222\")\n        var time5 = Date.parse(this.backData.d_datetime5)\n        var time4  = Date.parse(this.backData.d_datetime4);\n        if (time4 > time5){\n          this.$message.error(\"请假终止时间必须大于请假起始时间\");\n        }\n      }*/\n    },\n    //监测结束时间变化\n    getDateTime5: function getDateTime5(e, datetime5) {\n      // alert(datetime4)\n      console.log(\"-=-=-=-=-=-=--=-=-\");\n      this.backData.d_datetime5 = datetime5;\n      /* if (this.backData.d_datetime4 != undefined){\n         var time5 = Date.parse(datetime5);\n         var time4  = Date.parse(this.backData.d_datetime4);\n         console.log(time4 + \"  :  \" + time5);\n         if (time4 > time5){\n           this.backData.d_datetime5 = '';\n           this.$message.error(\"请假终止时间必须大于请假起始时间\");\n           return ;\n         }else{\n           this.backData.d_datetime5 = datetime5;\n         }\n       }else {\n         this.backData.d_datetime5 = datetime5;\n       }*/\n    },\n    dataTime: function dataTime(time) {\n      var oneTime = new Date(time);\n      var Y = oneTime.getFullYear();\n      var M = oneTime.getMonth() + 1;\n      var D = oneTime.getDate();\n      return Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + oneTime.toTimeString().substr(0, 8);\n    }\n  }, _defineProperty(_methods, \"moment\", moment), _defineProperty(_methods, \"qiCao1\", function qiCao1(index, fileName) {\n    var name = fileName.split('\\\\');\n    var name1 = name[name.length - 1];\n    alert(name1);\n    this.$refs.taskRef.showFujianFile2(index, name1);\n  }), _defineProperty(_methods, \"dateFormat\", function dateFormat(date) {\n    var date1 = new Date(date);\n    var Y = date1.getFullYear();\n    var M = date1.getMonth() + 1;\n    var D = date1.getDate();\n    var newTime = Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + date1.toTimeString().substr(0, 8);\n    return newTime;\n  }), _defineProperty(_methods, \"change\", function change(e) {\n    this.backData.i_safetylevel = e;\n  }), _defineProperty(_methods, \"changeHuanJi\", function changeHuanJi(e) {\n    this.backData.i_urgency = e;\n  }), _defineProperty(_methods, \"showTaskInAct\", function showTaskInAct(taskDetail, task) {\n    this.task = task;\n    this.show(taskDetail); //修改数据信息为已读\n\n    this.changeReadStatus();\n  }), _defineProperty(_methods, \"show\", function show(taskDetail) {\n    for (var _i = 0; _i < this.optionMap.checkList.length; _i++) {\n      this.s_varchar.push(this.optionMap.checkList[_i].stableColumn);\n    } //业务数据赋值\n\n\n    var table = this.backData.table; // this.backData = taskDetail.data\n\n    for (var i in this.backData) {\n      this.backData[i] = this.backDataRef[i];\n    }\n\n    if (this.backData.s_varchar3 != \"\" && this.backData.s_varchar3 != undefined) {\n      this.select_type = this.backData.s_varchar3;\n    }\n\n    this.backData.table = table;\n    this.getOaFiles(this.backData.table, this.backData.i_id);\n  }), _defineProperty(_methods, \"ok\", function ok() {\n    this.handleCancel();\n  }), _defineProperty(_methods, \"handleCancel\", function handleCancel() {\n    this.$emit('close');\n    this.visible = false;\n    this.disableSubmit = false; //刷新父页面\n\n    this.$emit('reload_todo');\n  }), _defineProperty(_methods, \"onChange\", function onChange(date, dateString) {// console.log(date, dateString);\n  }), _defineProperty(_methods, \"onChange2\", function onChange2(date, dateString) {// console.log(date, dateString);\n  }), _defineProperty(_methods, \"close\", function close() {\n    this.visible = false;\n  }), _methods)\n};",{"version":3,"sources":["synthesizeFile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <center>\r\n    <table width=\"100%\" border=\"1\" style=\"border:#913838;\">\r\n      <tr>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--申请人-->\r\n          <center><h3>{{detailList.s_create_name}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <a-input style=\"padding-left: 10px\" ref=\"s_create_name\" v-on:blur=\"blurText(backData.s_create_name,$refs.s_create_name)\" onkeyPress=\"if(event.keyCode == 32){event.keyCode = 0;event.returnValue = false}\" v-model=\"backData.s_create_name\" disabled></a-input>\r\n          <!--<a-input style=\"padding-left: 10px\" v-model=\"backData.s_create_name\" disabled></a-input>-->\r\n        </td>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--所属部门-->\r\n          <center><h3>{{detailList.s_create_dept}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <!--<a-textarea cols=\"92\" rows=\"2\" v-model=\"backData.s_dept_name\"></a-textarea>-->\r\n          <a-input style=\"padding-left: 10px\" ref=\"s_create_dept\" v-on:blur=\"blurText(backData.s_create_dept,$refs.s_create_dept)\" onkeyPress=\"if(event.keyCode == 32){event.keyCode = 0;event.returnValue = false}\" v-model=\"backData.s_create_dept\" disabled></a-input>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--联系电话-->\r\n          <center><h3>{{detailList.i_phone}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <!--<a-textarea cols=\"92\" rows=\"2\" v-model=\"backData.i_phone\"></a-textarea>-->\r\n          <a-input type=\"number\" style=\"padding-left: 10px\" ref=\"i_phone\" v-on:blur=\"blurText(backData.i_phone,$refs.i_phone)\" onkeyPress=\"if(event.keyCode == 32){event.keyCode = 0;event.returnValue = false}\" v-model=\"backData.i_phone\"></a-input>\r\n        </td>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--请假地点-->\r\n          <center><h3>{{detailList.s_varchar1}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <a-input style=\"padding-left: 10px\" ref=\"s_varchar1\" v-on:blur=\"blurText(backData.s_varchar1,$refs.s_varchar1)\" onkeyPress=\"if(event.keyCode == 32){event.keyCode = 0;event.returnValue = false}\" v-model=\"backData.s_varchar1\"></a-input>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--参加工作时间-->\r\n          <center><h3>{{detailList.d_datetime2}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <a-date-picker v-if=\"backData.d_datetime2\" ref=\"d_datetime2\" v-on:blur=\"blurText([backData.d_datetime2],$refs.d_datetime2)\"  :defaultValue=\"moment(backData.d_datetime2,'YYYY-MM-DD HH:mm:ss')\" showTime=\"true\" format=\"YYYY-MM-DD HH:mm:ss\"  style=\"width: 100%\"></a-date-picker>\r\n          <a-date-picker v-else @change=\"getDateTime2\" ref=\"d_datetime2\" v-on:blur=\"blurText([backData.d_datetime2],$refs.d_datetime2)\" showTime=\"true\" format=\"YYYY-MM-DD HH:mm:ss\"  style=\"width: 100%\"></a-date-picker>\r\n        </td>\r\n\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--岗位-->\r\n          <center><h3>{{detailList.s_varchar2}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <a-input style=\"padding-left: 10px\" ref=\"s_varchar2\" v-on:blur=\"blurText(backData.s_varchar2,$refs.s_varchar2)\" onkeyPress=\"if(event.keyCode == 32){event.keyCode = 0;event.returnValue = false}\" v-model=\"backData.s_varchar2\"></a-input>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--请假类别-->\r\n          <center><h3>{{detailList.s_varchar3}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <a-select placeholder=\"请选择请假类别\" ref=\"s_varchar3\" v-on:blur=\"blurText(backData.s_varchar3,$refs.s_varchar3)\" v-model=\"backData.s_varchar3\" @change=\"selectType\">\r\n            <a-select-option v-for=\"(item,index) in optionMap.s_varchar3_option\" :key=\"index\" :value=\"item.value\">{{item.text}}\r\n            </a-select-option>\r\n          </a-select>\r\n\r\n          <!--<a-input style=\"padding-left: 10px\" v-model=\"backData.s_varchar3\"></a-input>-->\r\n        </td>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--申请时间-->\r\n          <center><h3>{{detailList.d_create_time}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <!--<a-input style=\"padding-left: 10px\" v-model=\"backData.d_create_time\"></a-input>-->\r\n          <!--<a-date-picker @change=\"getDateTime4\" showTime=\"true\" format=\"YYYY-MM-DD HH:mm:ss\"  style=\"width: 100%\"  ></a-date-picker>-->\r\n          <a-date-picker :defaultValue=\"moment(backData.d_create_time,'YYYY-MM-DD HH:mm:ss')\"  showTime=\"true\" format=\"YYYY-MM-DD HH:mm:ss\"  style=\"width: 100%\" disabled></a-date-picker>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n      <td class=\"title\" width=\"15%\">\r\n        <!--请假天数-->\r\n        <center><h3>{{detailList.i_bigint1}}</h3></center>\r\n      </td>\r\n      <td colspan=\"3\">\r\n        <a-input type=\"number\" style=\"padding-left: 10px\" ref=\"i_bigint1\" v-on:blur=\"blurText(backData.i_bigint1,$refs.i_bigint1)\" onkeyPress=\"if(event.keyCode == 32){event.keyCode = 0;event.returnValue = false}\" v-model=\"backData.i_bigint1\"></a-input>\r\n        <!--<a-input style=\"padding-left: 10px\" v-model=\"backData.i_bigint1\"></a-input>-->\r\n      </td>\r\n      <td class=\"title\" width=\"15%\">\r\n        <!--销假日期-->\r\n        <center><h3>{{detailList.d_datetime3}}</h3></center>\r\n      </td>\r\n      <td colspan=\"3\">\r\n        <a-input style=\"padding-left: 10px\" onkeyPress=\"if(event.keyCode == 32){event.keyCode = 0;event.returnValue = false}\" v-model=\"backData.d_datetime3\" disabled></a-input>\r\n      </td>\r\n    </tr>\r\n      <tr >\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--请假起始日期-->\r\n          <center><h3>{{detailList.d_datetime4}}</h3></center>\r\n        </td>\r\n        <td colspan=\"6\">\r\n          <a-date-picker v-if=\"backData.d_datetime4\" ref=\"d_datetime4\" v-on:blur=\"blurText([backData.d_datetime4],$refs.d_datetime4)\"  :defaultValue=\"moment(backData.d_datetime4,'YYYY-MM-DD HH:mm:ss')\"  showTime=\"true\" format=\"YYYY-MM-DD HH:mm:ss\"  style=\"width: 100%\"></a-date-picker>\r\n          <a-date-picker  v-else @change=\"getDateTime4\" ref=\"d_datetime4\" v-on:blur=\"blurText([backData.d_datetime4],$refs.d_datetime4)\" showTime=\"true\" format=\"YYYY-MM-DD HH:mm:ss\"  style=\"width: 100%\"></a-date-picker>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--请假结束日期-->\r\n          <center><h3>{{detailList.d_datetime5}}</h3></center>\r\n        </td>\r\n        <td colspan=\"6\">\r\n          <a-date-picker v-if=\"backData.d_datetime5\" ref=\"d_datetime5\" v-on:blur=\"blurText([backData.d_datetime5],$refs.d_datetime5)\" :defaultValue=\"moment(backData.d_datetime5,'YYYY-MM-DD HH:mm:ss')\"  showTime=\"true\" format=\"YYYY-MM-DD HH:mm:ss\"  style=\"width: 100%\"></a-date-picker>\r\n          <a-date-picker v-else @change=\"getDateTime5\" ref=\"d_datetime5\" v-on:blur=\"blurText([backData.d_datetime5],$refs.d_datetime5)\" showTime=\"true\" format=\"YYYY-MM-DD HH:mm:ss\"  style=\"width: 100%\"></a-date-picker>\r\n        </td>\r\n      </tr>\r\n\r\n      <tr>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--请假事由-->\r\n          <center><h3>{{detailList.s_title}}</h3></center>\r\n        </td>\r\n        <td colspan=\"6\">\r\n          <a-textarea cols=\"92\" rows=\"4\" ref=\"s_title\" v-on:blur=\"blurText(backData.s_title,$refs.s_title)\" onkeyPress=\"if(event.keyCode == 32){event.keyCode = 0;event.returnValue = false}\" v-model=\"backData.s_title\"></a-textarea>\r\n          <!--<a-input v-model=\"backData.s_varchar4\"></a-input>-->\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"title\" width=\"10%\">\r\n          <center><h3>附件</h3></center>\r\n        </td>\r\n        <td colspan=\"6\">\r\n          <div v-for=\"(item,index) in oaFileList\" style=\"padding-left: 15px\">\r\n            <!--<div @click=\"openFile(9,item.sfileName)\"><span class=\"hoverred\">{{index}}、{{item.sfileName}}</span>-->\r\n            <div @click=\"qiCao1(9,item.sfilePath)\"><span class=\"hoverred\">{{index}}、{{item.sfileName}}</span>\r\n            </div>\r\n          </div>\r\n          <!--<a-input :value=\"backData.s_remarks\"></a-input>-->\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--备注-->\r\n          <center><h3>{{detailList.s_remarks}}</h3></center>\r\n        </td>\r\n        <td colspan=\"6\">\r\n          <a-textarea cols=\"92\" rows=\"4\" onkeyPress=\"if(event.keyCode == 32){event.keyCode = 0;event.returnValue = false}\" v-model=\"backData.s_remarks\"></a-textarea>\r\n          <!--<a-input cols=\"92\" rows=\"2\" v-model=\"backData.s_remarks\"></a-input>-->\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </center>\r\n\r\n</template>\r\n\r\n<script>\r\n  import {getAction, postAction} from \"../../../api/manage\";\r\n  import {JeecgListMixin} from \"../../../mixins/JeecgListMixin2\";\r\n  import ATextarea from \"ant-design-vue/es/input/TextArea\";\r\n  import {busdataTemplate} from \"@/views/buttons/btn-js/busdataTemplate\";\r\n  import moment from 'moment';\r\n  export default {\r\n    name: \"synthesizeFile\",\r\n    mixins: [JeecgListMixin,busdataTemplate],\r\n    components: {\r\n      ATextarea,\r\n    },\r\n    props: {\r\n      backDataRef: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      detailList: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      optionMap: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        s_varchar:[],\r\n        dateFormat:'YYYY-MM-DD HH:mm:ss',\r\n        placeholder:'请输入开始时间',\r\n        visible: false,\r\n        title: '请假申请',\r\n        confirmLoading: false,\r\n        userData: '',\r\n        //代办信息\r\n        task: '',\r\n        //已办信息\r\n        taskDone: '',\r\n        detailList: null,    //  文档数据   字段含义\r\n        oaFileList: [],    //  文档数据   字段含义\r\n        //表中的数据相关值\r\n        backData: {\r\n          //流程key\r\n          key: '',\r\n          //文号\r\n          // act_show: '',\r\n          //page ref\r\n          page_ref: '',\r\n          //业务配置表id-用于查询按钮/意见权限\r\n          iprocSetId: '',\r\n          //对应的业务数据表\r\n          table: 'oa_busdata70',\r\n          i_is_important: '',\r\n          //---------------------------------- 以下为表存储字段\r\n\r\n          //*******\r\n          i_id: '',\r\n          //申请人\r\n          s_create_name: '',\r\n          //所属部门\r\n          s_create_dept: '',\r\n          //联系电话\r\n          i_phone: 0,\r\n          //请假地点\r\n          s_varchar1: '',\r\n          //参加工作时间\r\n          d_datetime2: '',\r\n          //岗位\r\n          s_varchar2: '',\r\n          //请假类别\r\n          s_varchar3: '',\r\n          //申请时间\r\n          d_create_time: '',\r\n          //请假天数\r\n          i_bigint1: '',\r\n          //销假日期\r\n          d_datetime3: '',\r\n          //请假起始日期\r\n          d_datetime4: '',\r\n          //请假结束日期\r\n          d_datetime5: '',\r\n          //请假事由\r\n          s_title: '',\r\n          //备注\r\n          s_remarks: '',\r\n          s_cur_proc_name: '',\r\n          //当前任务名称\r\n          s_cur_task_name: '',\r\n          //是否重要\r\n          i_is_important: ''\r\n\r\n        },\r\n\r\n        url: {\r\n          optionAndBtn: '/oaBus/newTask/optionAndBtn',\r\n          currentUserMsg: '/sys/user/getUserSectionInfoByToken',\r\n          updateReadStatus: '/oaBus/taskInAct/changeStatus',\r\n          selectTaskType: '/oaBus/busModel/list',\r\n          selectTask: '/oaBus/busModel/list',\r\n          queryOaFileList: '/oaBus/oaFile/queryOaFileList',\r\n          updateBusdata: '/oaBus/dynamic/update'\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.show();\r\n    },\r\n\r\n    methods: {\r\n      moment,\r\n      //选择请假类别\r\n      selectType(e,d) {\r\n        this.backData.s_varchar3=e;\r\n      },\r\n      //----------------时间变化检测---------------\r\n      selectTime(e) {\r\n        console.log(e);\r\n      },\r\n      //----------------确定时间---------------\r\n      confirmTime(e) {\r\n        // console.log(e);\r\n        let startTime = e[0]._d;\r\n        let endTime = e[1]._d;\r\n        this.backData.d_datetime4 = this.dataTime(startTime);\r\n        this.backData.d_datetime5 = this.dataTime(endTime);\r\n      },\r\n      getDateTime2(e,datetime2){\r\n        this.backData.d_datetime2 = datetime2;\r\n        console.log(this.backData.d_datetime2);\r\n      },\r\n      //监测开始时间变化\r\n      getDateTime4(e,datetime4){\r\n        // alert(datetime4)\r\n        console.log(\"111111111111111\")\r\n        this.backData.d_datetime4 = datetime4;\r\n        /*if (this.backData.d_datetime5 != undefined){\r\n          var time4 = Date.parse(datetime4);\r\n          var time5  = Date.parse(this.backData.d_datetime5);\r\n          console.log(time4 + \"  :  \" + time5);\r\n          if (time4 > time5){\r\n            this.backData.d_datetime4 = '';\r\n            this.$message.error(\"请假终止时间必须大于请假起始时间\");\r\n            return ;\r\n          }else{\r\n            this.backData.d_datetime4 = datetime4;\r\n          }\r\n        }else {\r\n          this.backData.d_datetime4 = datetime4;\r\n        }*/\r\n\r\n        /*if (this.backData.d_datetime5 != undefined){\r\n          console.log(\"22222222222222\")\r\n          var time5 = Date.parse(this.backData.d_datetime5)\r\n          var time4  = Date.parse(this.backData.d_datetime4);\r\n          if (time4 > time5){\r\n            this.$message.error(\"请假终止时间必须大于请假起始时间\");\r\n          }\r\n        }*/\r\n      },\r\n      //监测结束时间变化\r\n      getDateTime5(e,datetime5){\r\n        // alert(datetime4)\r\n        console.log(\"-=-=-=-=-=-=--=-=-\")\r\n        this.backData.d_datetime5 = datetime5;\r\n       /* if (this.backData.d_datetime4 != undefined){\r\n          var time5 = Date.parse(datetime5);\r\n          var time4  = Date.parse(this.backData.d_datetime4);\r\n          console.log(time4 + \"  :  \" + time5);\r\n          if (time4 > time5){\r\n            this.backData.d_datetime5 = '';\r\n            this.$message.error(\"请假终止时间必须大于请假起始时间\");\r\n            return ;\r\n          }else{\r\n            this.backData.d_datetime5 = datetime5;\r\n          }\r\n        }else {\r\n          this.backData.d_datetime5 = datetime5;\r\n        }*/\r\n      },\r\n      dataTime(time) {\r\n        let oneTime = new Date(time);\r\n        let Y = oneTime.getFullYear();\r\n        let M = oneTime.getMonth() + 1;\r\n        let D = oneTime.getDate();\r\n        return Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + oneTime.toTimeString().substr(0, 8);\r\n      },\r\n      moment,  //时间\r\n      //打开附件\r\n      qiCao1(index, fileName) {\r\n        let name = fileName.split('\\\\')\r\n        var name1 = name[name.length - 1]\r\n        alert(name1)\r\n        this.$refs.taskRef.showFujianFile2(index, name1);\r\n      },\r\n      dateFormat(date) {\r\n        let date1 = new Date(date);\r\n        let Y = date1.getFullYear();\r\n        let M = date1.getMonth() + 1;\r\n        let D = date1.getDate();\r\n        let newTime = Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + date1.toTimeString().substr(0, 8);\r\n        return newTime;\r\n      },\r\n      change(e) {\r\n        this.backData.i_safetylevel = e\r\n      }, changeHuanJi(e) {\r\n        this.backData.i_urgency = e\r\n      },\r\n      //详情页面数据\r\n      showTaskInAct(taskDetail, task) {\r\n        this.task = task\r\n        this.show(taskDetail)\r\n        //修改数据信息为已读\r\n        this.changeReadStatus()\r\n      },\r\n      show(taskDetail) {\r\n\r\n        for(let i = 0;i<this.optionMap.checkList.length;i++){\r\n          this.s_varchar.push(this.optionMap.checkList[i].stableColumn);\r\n        }\r\n\r\n        //业务数据赋值\r\n        var table = this.backData.table\r\n        // this.backData = taskDetail.data\r\n        for (var i in this.backData) {\r\n          this.backData[i] = this.backDataRef[i]\r\n        }\r\n        if (this.backData.s_varchar3 != \"\" && this.backData.s_varchar3 != undefined) {\r\n          this.select_type = this.backData.s_varchar3;\r\n        }\r\n        this.backData.table = table\r\n        this.getOaFiles(this.backData.table, this.backData.i_id)\r\n      },\r\n\r\n      ok() {\r\n        this.handleCancel()\r\n      },\r\n\r\n      handleCancel() {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n        this.disableSubmit = false;\r\n        //刷新父页面\r\n        this.$emit('reload_todo')\r\n      }, onChange(date, dateString) {\r\n        // console.log(date, dateString);\r\n      }, onChange2(date, dateString) {\r\n        // console.log(date, dateString);\r\n      },\r\n      close() {\r\n        this.visible = false;\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  input.ant-input{\r\n    height: 48px;\r\n  }\r\n\r\n  textarea.ant-input{\r\n    height: 48px;\r\n  }\r\n\r\n  /deep/ .ant-select-selection--single{\r\n    height: 48px;\r\n    padding: 8px 0;\r\n  }\r\n\r\n  /deep/ .ant-calendar-picker-input{\r\n    height: 48px;\r\n  }\r\n</style>\r\n\r\n<style>\r\n  .hoverred:hover {\r\n    color: red;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .title{\r\n    background-color: #e9ecf2 !important;\r\n    padding: 0.7% !important;\r\n    text-align: center !important;\r\n  }\r\n\r\n  .text {\r\n    padding: 10px;\r\n  }\r\n\r\n\r\n  .title  h3 {\r\n    font-weight: bolder !important;\r\n  }\r\n\r\n  .ant-btn-default{\r\n    font-weight: bolder !important;\r\n    background: rgb(178, 218, 255) !important;\r\n  }\r\n</style>"],"sourceRoot":"src/views/mytask/taskList"}]}