{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js!C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\oaBus\\pageModels\\selDepartName.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\oaBus\\pageModels\\selDepartName.vue","mtime":1578232183872},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAction, postAction } from \"../../../api/manage\";\nexport default {\n  name: \"selDepartName\",\n  data: function data() {\n    return {\n      mockData1: [],\n      mockData2: [],\n      mockData3: [],\n      targetKeys1: [],\n      targetKeys2: [],\n      targetKeys3: [],\n      title: '选择部门',\n      visible: false,\n      url: {\n        getDictByKey: \"/sys/dict/getDictByKeyObj\",\n        getDictByKey2: \"/sys/dict/getDictByKeyObj\"\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.getMock();\n  },\n  methods: {\n    getMock: function getMock() {\n      var targetKeys = [];\n      var mockData = [];\n\n      for (var i = 0; i < 20; i++) {\n        var data = {\n          key: i.toString(),\n          title: \"content\".concat(i + 1),\n          description: \"description of content\".concat(i + 1),\n          chosen: Math.random() * 2 > 1\n        };\n\n        if (data.chosen) {\n          targetKeys.push(data.key);\n        }\n\n        mockData.push(data);\n      }\n\n      this.mockData = mockData;\n      this.targetKeys = targetKeys;\n    },\n    renderItem: function renderItem(item) {\n      var h = this.$createElement;\n      var customLabel = h(\"span\", {\n        \"class\": \"custom-item\"\n      }, [item.text]);\n      return {\n        label: customLabel,\n        // for displayed item\n        value: item.title // for title and filter matching\n\n      };\n    },\n    handleChange: function handleChange(targetKeys, direction, moveKeys) {\n      console.log(targetKeys, direction, moveKeys);\n      this.targetKeys = targetKeys;\n    },\n    show: function show(param) {\n      this.initData();\n\n      if (param.str1 != undefined) {\n        this.targetKeys1 = param.str1.split(',');\n      }\n\n      if (param.str2 != undefined) {\n        this.targetKeys2 = param.str2.split(',');\n      }\n\n      if (param.str3 != undefined) {\n        this.targetKeys3 = param.str3.split(',');\n      }\n\n      this.visible = true;\n    },\n    //初始化数据，查出部门名称对应的数据字典数据\n    initData: function initData() {\n      var _this = this;\n\n      var url = this.url.getDictByKey;\n      var url2 = this.url.getDictByKey2;\n      getAction(url, {\n        dictKey: \"mainDoDepart\"\n      }).then(function (rec) {\n        _this.mockData1 = rec.result;\n        console.log(_this.mockData1);\n        _this.mockData2 = rec.result;\n      });\n      getAction(url2, {\n        dictKey: \"insideDepart\"\n      }).then(function (rec) {\n        _this.mockData3 = rec.result;\n      });\n    },\n    handleOk: function handleOk() {\n      var str1 = '';\n\n      for (var i = 0; i < this.targetKeys1.length; i++) {\n        if (i != this.targetKeys1.length - 1) {\n          str1 += this.targetKeys1[i] + ',';\n        } else {\n          str1 += this.targetKeys1[i];\n        }\n      }\n\n      var str2 = '';\n\n      for (var _i = 0; _i < this.targetKeys2.length; _i++) {\n        if (_i != this.targetKeys2.length - 1) {\n          str2 += this.targetKeys2[_i] + ',';\n        } else {\n          str2 += this.targetKeys2[_i];\n        }\n      }\n\n      var str3 = '';\n\n      for (var _i2 = 0; _i2 < this.targetKeys3.length; _i2++) {\n        if (_i2 != this.targetKeys3.length - 1) {\n          str3 += this.targetKeys3[_i2] + ',';\n        } else {\n          str3 += this.targetKeys3[_i2];\n        }\n      }\n\n      var param = {\n        str1: str1,\n        str2: str2,\n        str3: str3\n      }; //console.log(param)\n\n      this.$emit('ok', param);\n      this.close();\n    },\n    close: function close() {\n      this.targetKeys1 = [];\n      this.targetKeys2 = [];\n      this.targetKeys3 = [];\n      this.mockData1 = [];\n      this.mockData2 = [];\n      this.mockData3 = [];\n      this.visible = false;\n    },\n    handleCancel: function handleCancel() {\n      this.close();\n    },\n    handleChange1: function handleChange1(index) {\n      console.log(index);\n      this.targetKeys1 = index;\n    },\n    handleChange2: function handleChange2(index) {\n      console.log(index);\n      this.targetKeys2 = index;\n    },\n    handleChange3: function handleChange3(index) {\n      console.log(index);\n      this.targetKeys3 = index;\n    }\n  }\n};",{"version":3,"sources":["selDepartName.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <a-modal\r\n    :title=\"title\"\r\n    :width=\"710\"\r\n    :height=\"450\"\r\n    :visible=\"visible\"\r\n    @ok=\"handleOk\"\r\n    @cancel=\"handleCancel\"\r\n    cancelText=\"关闭\">\r\n\r\n    <!--\r\n        <div style=\"display: flex;align-items: center;justify-content: center;height: 500px;overflow: auto\">\r\n    -->\r\n\r\n      <div style=\"height:450px; margin: 0 auto ;overflow: auto;\">\r\n\r\n\r\n        <div>\r\n          <h3>主送单位</h3>\r\n          <a-transfer\r\n            :dataSource=\"mockData1\"\r\n            :rowKey=\"record => record.value\"\r\n            :listStyle=\"{width: '300px',height: '300px',}\"\r\n            :targetKeys=\"targetKeys1\"\r\n            @change=\"handleChange1\"\r\n            :render=\"renderItem\">\r\n          </a-transfer>\r\n        </div>\r\n        <div>\r\n          <h3>抄送单位</h3>\r\n          <a-transfer\r\n            :dataSource=\"mockData2\"\r\n            :rowKey=\"record => record.value\"\r\n            :listStyle=\"{width: '300px',height: '300px',}\"\r\n            :targetKeys=\"targetKeys2\"\r\n            @change=\"handleChange2\"\r\n            :render=\"renderItem\">\r\n          </a-transfer>\r\n        </div>\r\n        <div>\r\n          <h3>内部发送</h3>\r\n          <a-transfer\r\n            :dataSource=\"mockData3\"\r\n            :rowKey=\"record => record.value\"\r\n            :listStyle=\"{width: '300px',height: '300px',}\"\r\n            :targetKeys=\"targetKeys3\"\r\n            @change=\"handleChange3\"\r\n            :render=\"renderItem\">\r\n          </a-transfer>\r\n        </div>\r\n\r\n      </div>\r\n\r\n  </a-modal>\r\n</template>\r\n<script>\r\n\r\n  import {getAction, postAction} from \"../../../api/manage\";\r\n\r\n  export default {\r\n    name: \"selDepartName\",\r\n    data() {\r\n      return {\r\n        mockData1: [],\r\n        mockData2: [],\r\n        mockData3: [],\r\n        targetKeys1: [],\r\n        targetKeys2: [],\r\n        targetKeys3: [],\r\n        title: '选择部门',\r\n        visible: false,\r\n        url: {\r\n          getDictByKey: \"/sys/dict/getDictByKeyObj\",\r\n          getDictByKey2: \"/sys/dict/getDictByKeyObj\",\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getMock()\r\n    },\r\n    methods: {\r\n      getMock() {\r\n        const targetKeys = [];\r\n        const mockData = [];\r\n        for (let i = 0; i < 20; i++) {\r\n          const data = {\r\n            key: i.toString(),\r\n            title: `content${i + 1}`,\r\n            description: `description of content${i + 1}`,\r\n            chosen: Math.random() * 2 > 1,\r\n          };\r\n          if (data.chosen) {\r\n            targetKeys.push(data.key);\r\n          }\r\n          mockData.push(data);\r\n        }\r\n        this.mockData = mockData\r\n        this.targetKeys = targetKeys\r\n      },\r\n      renderItem(item) {\r\n        const customLabel = (\r\n          <span class= \"custom-item\" >{item.text}< /span>\r\n      );\r\n\r\n        return {\r\n          label: customLabel, // for displayed item\r\n          value: item.title, // for title and filter matching\r\n        };\r\n      },\r\n      handleChange(targetKeys, direction, moveKeys) {\r\n        console.log(targetKeys, direction, moveKeys);\r\n        this.targetKeys = targetKeys\r\n      },\r\n      show(param) {\r\n        this.initData();\r\n        if(param.str1 != undefined){\r\n          this.targetKeys1 =  param.str1.split(',');\r\n        }\r\n        if(param.str2 != undefined){\r\n          this.targetKeys2 =  param.str2.split(',');\r\n        }\r\n        if(param.str3 != undefined){\r\n          this.targetKeys3 =  param.str3.split(',');\r\n        }\r\n        this.visible = true;\r\n      },\r\n      //初始化数据，查出部门名称对应的数据字典数据\r\n      initData() {\r\n        let url = this.url.getDictByKey;\r\n        let url2 = this.url.getDictByKey2;\r\n\r\n        getAction(url,{dictKey:\"mainDoDepart\"}).then((rec) => {\r\n          this.mockData1 = rec.result;\r\n          console.log(this.mockData1) ;\r\n          this.mockData2 = rec.result;\r\n        })\r\n        getAction(url2,{dictKey:\"insideDepart\"}).then((rec) => {\r\n          this.mockData3 = rec.result;\r\n        })\r\n      },\r\n      handleOk() {\r\n        let str1 = '';\r\n        for(let i = 0 ; i < this.targetKeys1.length; i ++){\r\n          if(i != this.targetKeys1.length -1 ){\r\n            str1 += this.targetKeys1[i] + ',' ;\r\n          }else{\r\n            str1 += this.targetKeys1[i] ;\r\n          }\r\n        }\r\n        let str2 = '';\r\n        for(let i = 0 ; i < this.targetKeys2.length; i ++){\r\n          if(i != this.targetKeys2.length -1 ){\r\n            str2 += this.targetKeys2[i] + ',' ;\r\n          }else{\r\n            str2 += this.targetKeys2[i] ;\r\n          }\r\n        }\r\n        let str3 = '';\r\n        for(let i = 0 ; i < this.targetKeys3.length; i ++){\r\n          if(i != this.targetKeys3.length -1 ){\r\n            str3 += this.targetKeys3[i] + ',' ;\r\n          }else{\r\n            str3 += this.targetKeys3[i] ;\r\n          }\r\n        }\r\n        let param= {str1:str1,str2:str2,str3:str3} ;\r\n        //console.log(param)\r\n        this.$emit('ok',param)\r\n        this.close();\r\n      },\r\n      close() {\r\n        this.targetKeys1 = [];\r\n        this.targetKeys2 = [];\r\n        this.targetKeys3 = [];\r\n        this.mockData1 = [];\r\n        this.mockData2 = [];\r\n        this.mockData3 = [];\r\n        this.visible = false;\r\n      },\r\n\r\n      handleCancel() {\r\n        this.close();\r\n      },\r\n\r\n      handleChange1(index) {\r\n        console.log(index)\r\n        this.targetKeys1 = index;\r\n      },\r\n      handleChange2(index) {\r\n        console.log(index)\r\n        this.targetKeys2 = index;\r\n      },\r\n      handleChange3(index) {\r\n        console.log(index)\r\n        this.targetKeys3 = index;\r\n      },\r\n\r\n    },\r\n  }\r\n</script>\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":"src/views/oaBus/pageModels"}]}