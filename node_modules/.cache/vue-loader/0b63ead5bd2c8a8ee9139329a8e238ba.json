{"remainingRequest":"D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\src\\components\\jeecg\\modal\\JCronModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\src\\components\\jeecg\\modal\\JCronModal.vue","mtime":1568535205292},{"path":"D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1568345883562},{"path":"D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1568345858740},{"path":"D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1568345883562},{"path":"D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1568345696677}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name:'VueCron',\n  props:['data'],\n  data(){\n    return {\n      visible: false,\n      confirmLoading:false,\n      size:'large',\n      weekDays:['天','一','二','三','四','五','六'].map(val=>'星期'+val),\n      result: {\n        second:{},\n        minute:{},\n        hour:{},\n        day:{},\n        week:{},\n        month:{},\n        year:{}\n      },\n      defaultValue: {\n        second:{\n          cronEvery:'',\n          incrementStart:3,\n          incrementIncrement:5,\n          rangeStart:1,\n          rangeEnd:0,\n          specificSpecific:[],\n        },\n        minute:{\n          cronEvery:'',\n          incrementStart:3,\n          incrementIncrement:5,\n          rangeStart:1,\n          rangeEnd:'0',\n          specificSpecific:[],\n        },\n        hour:{\n          cronEvery:'',\n          incrementStart:3,\n          incrementIncrement:5,\n          rangeStart:'0',\n          rangeEnd:'0',\n          specificSpecific:[],\n        },\n        day:{\n          cronEvery:'',\n          incrementStart:1,\n          incrementIncrement:'1',\n          rangeStart:'',\n          rangeEnd:'',\n          specificSpecific:[],\n          cronLastSpecificDomDay:1,\n          cronDaysBeforeEomMinus:1,\n          cronDaysNearestWeekday:1,\n        },\n        week:{\n          cronEvery:'',\n          incrementStart:1,\n          incrementIncrement:1,\n          specificSpecific:[],\n          cronNthDayDay:1,\n          cronNthDayNth:1,\n        },\n        month:{\n          cronEvery:'',\n          incrementStart:3,\n          incrementIncrement:5,\n          rangeStart:1,\n          rangeEnd:1,\n          specificSpecific:[],\n        },\n        year:{\n          cronEvery:'',\n          incrementStart:2017,\n          incrementIncrement:1,\n          rangeStart:2019,\n          rangeEnd: 2019,\n          specificSpecific:[],\n        },\n        label:''\n      }\n    }\n  },\n  computed: {\n    modalWidth(){\n      return 608;\n    },\n    secondsText() {\n      let seconds = '';\n      let cronEvery=this.result.second.cronEvery||'';\n      switch (cronEvery.toString()){\n        case '1':\n          seconds = '*';\n          break;\n        case '2':\n          seconds = this.result.second.incrementStart+'/'+this.result.second.incrementIncrement;\n          break;\n        case '3':\n          this.result.second.specificSpecific.map(val=> {seconds += val+','});\n          seconds = seconds.slice(0, -1);\n          break;\n        case '4':\n          seconds = this.result.second.rangeStart+'-'+this.result.second.rangeEnd;\n          break;\n      }\n      return seconds;\n    },\n    minutesText() {\n      let minutes = '';\n      let cronEvery=this.result.minute.cronEvery||'';\n      switch (cronEvery.toString()){\n        case '1':\n          minutes = '*';\n          break;\n        case '2':\n          minutes = this.result.minute.incrementStart+'/'+this.result.minute.incrementIncrement;\n          break;\n        case '3':\n          this.result.minute.specificSpecific.map(val=> {\n            minutes += val+','\n          });\n          minutes = minutes.slice(0, -1);\n          break;\n        case '4':\n          minutes = this.result.minute.rangeStart+'-'+this.result.minute.rangeEnd;\n          break;\n      }\n      return minutes;\n    },\n    hoursText() {\n      let hours = '';\n      let cronEvery=this.result.hour.cronEvery||'';\n      switch (cronEvery.toString()){\n        case '1':\n          hours = '*';\n          break;\n        case '2':\n          hours = this.result.hour.incrementStart+'/'+this.result.hour.incrementIncrement;\n          break;\n        case '3':\n          this.result.hour.specificSpecific.map(val=> {\n            hours += val+','\n          });\n          hours = hours.slice(0, -1);\n          break;\n        case '4':\n          hours = this.result.hour.rangeStart+'-'+this.result.hour.rangeEnd;\n          break;\n      }\n      return hours;\n    },\n    daysText() {\n      let days='';\n      let cronEvery=this.result.day.cronEvery||'';\n      switch (cronEvery.toString()){\n        case '1':\n          break;\n        case '2':\n        case '4':\n        case '11':\n          days = '?';\n          break;\n        case '3':\n          days = this.result.day.incrementStart+'/'+this.result.day.incrementIncrement;\n          break;\n        case '5':\n          this.result.day.specificSpecific.map(val=> {\n            days += val+','\n          });\n          days = days.slice(0, -1);\n          break;\n        case '6':\n          days = \"L\";\n          break;\n        case '7':\n          days = \"LW\";\n          break;\n        case '8':\n          days = this.result.day.cronLastSpecificDomDay + 'L';\n          break;\n        case '9':\n          days = 'L-' + this.result.day.cronDaysBeforeEomMinus;\n          break;\n        case '10':\n          days = this.result.day.cronDaysNearestWeekday+\"W\";\n          break\n      }\n      return days;\n    },\n    weeksText() {\n      let weeks = '';\n      let cronEvery=this.result.day.cronEvery||'';\n      switch (cronEvery.toString()){\n        case '1':\n        case '3':\n        case '5':\n          weeks = '?';\n          break;\n        case '2':\n          weeks = this.result.week.incrementStart+'/'+this.result.week.incrementIncrement;\n          break;\n        case '4':\n          this.result.week.specificSpecific.map(val=> {\n            weeks += val+','\n          });\n          weeks = weeks.slice(0, -1);\n          break;\n        case '6':\n        case '7':\n        case '8':\n        case '9':\n        case '10':\n          weeks = \"?\";\n          break;\n        case '11':\n          weeks = this.result.week.cronNthDayDay+\"#\"+this.result.week.cronNthDayNth;\n          break;\n      }\n      return weeks;\n    },\n    monthsText() {\n      let months = '';\n      let cronEvery=this.result.month.cronEvery||'';\n      switch (cronEvery.toString()){\n        case '1':\n          months = '*';\n          break;\n        case '2':\n          months = this.result.month.incrementStart+'/'+this.result.month.incrementIncrement;\n          break;\n        case '3':\n          this.result.month.specificSpecific.map(val=> {\n            months += val+','\n          });\n          months = months.slice(0, -1);\n          break;\n        case '4':\n          months = this.result.month.rangeStart+'-'+this.result.month.rangeEnd;\n          break;\n      }\n      return months;\n    },\n    yearsText() {\n      let years = '';\n      let cronEvery=this.result.year.cronEvery||'';\n      switch (cronEvery.toString()){\n        case '1':\n          years = '*';\n          break;\n        case '2':\n          years = this.result.year.incrementStart+'/'+this.result.year.incrementIncrement;\n          break;\n        case '3':\n          this.result.year.specificSpecific.map(val=> {\n            years += val+','\n          });\n          years = years.slice(0, -1);\n          break;\n        case '4':\n          years = this.result.year.rangeStart+'-'+this.result.year.rangeEnd;\n          break;\n      }\n      return years;\n    },\n    cron(){\n      return `${this.secondsText||'*'} ${this.minutesText||'*'} ${this.hoursText||'*'} ${this.daysText||'*'} ${this.monthsText||'*'} ${this.weeksText||'?'} ${this.yearsText||'*'}`\n    },\n  },\n  watch:{\n    visible:{\n      handler() {\n        // if(this.data){\n        //   //this. result = Object.keys(this.data.value).length>0?this.deepCopy(this.data.value):this.deepCopy(this.defaultValue);\n        //   //this.result = Object.keys(this.data.value).length>0?clone(this.data.value):clone(this.defaultValue);\n        //   //this.result = Object.keys(this.data.value).length>0?clone(JSON.parse(this.data.value)):clone(this.defaultValue);\n        //   this.result = Object.keys(this.data.value).length>0?JSON.parse(this.data.value):JSON.parse(JSON.stringify(this.defaultValue));\n        // }else{\n        //   //this.result = this.deepCopy(this.defaultValue);\n        //   //this.result = clone(this.defaultValue);\n        //   this.result = JSON.parse(JSON.stringify(this.defaultValue));\n        // }\n        let label = this.data;\n        if(label){\n          this.secondsReverseExp(label)\n          this.minutesReverseExp(label);\n          this.hoursReverseExp(label);\n          this.daysReverseExp(label);\n          this.daysReverseExp(label);\n          this.monthsReverseExp(label);\n          this.yearReverseExp(label);\n          JSON.parse(JSON.stringify(label));\n        }else {\n          this.result = JSON.parse(JSON.stringify(this.defaultValue));\n        }\n      }\n    }\n  },\n  methods: {\n    show(){\n      this.visible = true;\n      // console.log('secondsReverseExp',this.secondsReverseExp(this.data));\n      // console.log('minutesReverseExp',this.minutesReverseExp(this.data));\n      // console.log('hoursReverseExp',this.hoursReverseExp(this.data));\n      // console.log('daysReverseExp',this.daysReverseExp(this.data));\n      // console.log('monthsReverseExp',this.monthsReverseExp(this.data));\n      // console.log('yearReverseExp',this.yearReverseExp(this.data));\n\n    },\n    handleSubmit(){\n      this.$emit('ok',this.cron);\n      this.close();\n      this.visible = false;\n    },\n    close(){\n      this.visible = false;\n    },\n    secondsReverseExp(seconds) {\n      let val =  seconds.split(\" \")[0];\n      //alert(val);\n      let second = {\n        cronEvery:'',\n        incrementStart:3,\n        incrementIncrement:5,\n        rangeStart:1,\n        rangeEnd:0,\n        specificSpecific:[]\n      };\n      switch (true) {\n        case val.includes('*'):\n          second.cronEvery = '1';\n          break;\n        case val.includes('/'):\n          second.cronEvery = '2';\n          second.incrementStart = val.split('/')[0];\n          second.incrementIncrement = val.split('/')[1];\n          break;\n        case val.includes(','):\n          second.cronEvery = '3';\n          second.specificSpecific = val.split(',').map(Number).sort();\n          break;\n        case val.includes('-'):\n          second.cronEvery = '4';\n          second.rangeStart = val.split('-')[0];\n          second.rangeEnd = val.split('-')[1];\n          break;\n        default:\n          second.cronEvery = '1';\n      }\n      this.result.second = second;\n    },\n    minutesReverseExp(minutes) {\n      let val =  minutes.split(\" \")[1];\n      let minute = {\n        cronEvery:'',\n        incrementStart:3,\n        incrementIncrement:5,\n        rangeStart:1,\n        rangeEnd:0,\n        specificSpecific:[],\n      }\n      switch (true) {\n        case val.includes('*'):\n          minute.cronEvery = '1';\n          break;\n        case val.includes('/'):\n          minute.cronEvery = '2';\n          minute.incrementStart = val.split('/')[0];\n          minute.incrementIncrement = val.split('/')[1];\n          break;\n        case val.includes(','):\n          minute.cronEvery = '3';\n          minute.specificSpecific = val.split(',').map(Number).sort();\n          break;\n        case val.includes('-'):\n          minute.cronEvery = '4';\n          minute.rangeStart = val.split('-')[0];\n          minute.rangeEnd = val.split('-')[1];\n          break;\n        default:\n          minute.cronEvery = '1';\n      }\n      this.result.minute = minute;\n    },\n    hoursReverseExp(hours) {\n      let val =  hours.split(\" \")[2];\n      let hour ={\n          cronEvery:'',\n          incrementStart:3,\n          incrementIncrement:5,\n          rangeStart:1,\n          rangeEnd:'0',\n          specificSpecific:[],\n        };\n      switch (true) {\n        case val.includes('*'):\n          hour.cronEvery = '1';\n          break;\n        case val.includes('/'):\n          hour.cronEvery = '2';\n          hour.incrementStart = val.split('/')[0];\n          hour.incrementIncrement = val.split('/')[1];\n          break;\n        case val.includes(','):\n          hour.cronEvery = '3';\n          hour.specificSpecific = val.split(',').map(Number).sort();\n          break;\n        case val.includes('-'):\n          hour.cronEvery = '4';\n          hour.rangeStart = val.split('-')[0];\n          hour.rangeEnd = val.split('-')[1];\n          break;\n        default:\n          hour.cronEvery = '1';\n        }\n      this.result.hour = hour;\n    },\n    daysReverseExp(cron) {\n      let days =  cron.split(\" \")[3];\n      let weeks =  cron.split(\" \")[5];\n      let day ={\n        cronEvery:'',\n        incrementStart:1,\n        incrementIncrement:1,\n        rangeStart:1,\n        rangeEnd:1,\n        specificSpecific:[],\n        cronLastSpecificDomDay:1,\n        cronDaysBeforeEomMinus:1,\n        cronDaysNearestWeekday:1,\n      };\n      let week = {\n          cronEvery:'',\n          incrementStart:1,\n          incrementIncrement:1,\n          specificSpecific:[],\n          cronNthDayDay:1,\n          cronNthDayNth:'1',\n      };\n      if (!days.includes('?')) {\n        switch (true) {\n          case days.includes('*'):\n            day.cronEvery = '1';\n            break;\n          case days.includes('?'):\n            // 2、4、11\n            break;\n          case days.includes('/'):\n            day.cronEvery = '3';\n            day.incrementStart = days.split('/')[0];\n            day.incrementIncrement = days.split('/')[1];\n            break;\n          case days.includes(','):\n            day.cronEvery = '5';\n            day.specificSpecific = days.split(',').map(Number).sort();\n            // day.specificSpecific.forEach(function (value, index) {\n            //   day.specificSpecific[index] = value -1;\n            // });\n            break;\n          case days.includes('LW'):\n            day.cronEvery = '7';\n            break;\n          case days.includes('L-'):\n            day.cronEvery = '9';\n            day.cronDaysBeforeEomMinus = days.split('L-')[1];\n            break;\n          case days.includes('L'):\n\n            //alert(days);\n            if(days.len == 1){\n              day.cronEvery = '6';\n              day.cronLastSpecificDomDay = '1';\n            }\n            else\n            {\n              day.cronEvery = '8';\n              day.cronLastSpecificDomDay = Number(days.split('L')[0]);\n            }\n            break;\n          case days.includes('W'):\n            day.cronEvery = '10';\n            day.cronDaysNearestWeekday = days.split('W')[0];\n            break;\n          default:\n            day.cronEvery = '1';\n        }\n      }else {\n        switch (true){\n          case weeks.includes('/'):\n            day.cronEvery = '2';\n            week.incrementStart = weeks.split(\"/\")[0];\n            week.incrementIncrement = weeks.split(\"/\")[1];\n            break;\n          case weeks.includes(','):\n            day.cronEvery = '4';\n            week.specificSpecific = weeks.split(',').map(Number).sort();\n            break;\n          case '#':\n            day.cronEvery = '11';\n            week.cronNthDayDay = weeks.split(\"#\")[0];\n            week.cronNthDayNth = weeks.split(\"#\")[1];\n            break;\n          default:\n            day.cronEvery = '1';\n            week.cronEvery = '1';\n        }\n      }\n      this.result.day = day;\n      this.result.week = week;\n    },\n    monthsReverseExp(cron) {\n      let months = cron.split(\" \")[4];\n      let month = {\n        cronEvery:'',\n          incrementStart:3,\n          incrementIncrement:5,\n          rangeStart:1,\n          rangeEnd:1,\n          specificSpecific:[],\n      };\n      switch (true){\n        case months.includes('*'):\n          month.cronEvery = '1';\n          break;\n        case months.includes('/'):\n          month.cronEvery = '2';\n          month.incrementStart = months.split('/')[0];\n          month.incrementIncrement = months.split('/')[1];\n          break;\n        case months.includes(','):\n          month.cronEvery = '3';\n          month.specificSpecific = months.split(',').map(Number).sort();\n          break;\n        case months.includes('-'):\n          month.cronEvery = '4';\n          month.rangeStart = months.split('-')[0];\n          month.rangeEnd = months.split('-')[1];\n          break;\n        default:\n          month.cronEvery = '1';\n      }\n      this.result.month = month;\n    },\n    yearReverseExp(cron) {\n      let years = cron.split(\" \")[6];\n      let year = {\n        cronEvery:'',\n        incrementStart:3,\n        incrementIncrement:5,\n        rangeStart:2019,\n        rangeEnd:2019,\n        specificSpecific:[],\n      };\n      switch (true){\n        case years.includes('*'):\n          year.cronEvery = '1';\n          break;\n        case years.includes('/'):\n          year.cronEvery = '2';\n          year.incrementStart = years.split('/')[0];\n          year.incrementIncrement = years.split('/')[1];\n          break;\n        case years.includes(','):\n          year.cronEvery = '3';\n          year.specificSpecific = years.split(',').map(Number).sort();\n          break;\n        case years.includes('-'):\n          year.cronEvery = '4';\n          year.rangeStart = years.split('-')[0];\n          year.rangeEnd = years.split('-')[1];\n          break;\n        default:\n          year.cronEvery = '1';\n      }\n      this.result.year = year;\n    }\n  }\n}\n",{"version":3,"sources":["JCronModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"JCronModal.vue","sourceRoot":"src/components/jeecg/modal","sourcesContent":["<template>\r\n  <a-modal\r\n          title=\"corn表达式\"\r\n          :width=\"modalWidth\"\r\n          :visible=\"visible\"\r\n          :confirmLoading=\"confirmLoading\"\r\n          @ok=\"handleSubmit\"\r\n          @cancel=\"close\"\r\n          cancelText=\"关闭\">\r\n    <div class=\"card-container\">\r\n      <a-tabs type=\"card\">\r\n        <a-tab-pane key=\"1\" type=\"card\">\r\n          <span slot=\"tab\"><a-icon type=\"schedule\" /> 秒</span>\r\n          <a-radio-group v-model=\"result.second.cronEvery\">\r\n            <a-row>\r\n              <a-radio value=\"1\">每一秒钟</a-radio>\r\n            </a-row>\r\n            <a-row>\r\n              <a-radio value=\"2\">每隔\r\n                <a-input-number size=\"small\" v-model=\"result.second.incrementIncrement\" :min=\"1\" :max=\"60\"></a-input-number>\r\n                秒执行 从\r\n                <a-input-number size=\"small\" v-model=\"result.second.incrementStart\" :min=\"0\" :max=\"59\"></a-input-number>\r\n                秒开始\r\n              </a-radio>\r\n            </a-row>\r\n            <a-row>\r\n              <a-radio value=\"3\">具体秒数(可多选)</a-radio>\r\n              <a-select style=\"width:354px;\" size=\"small\" mode=\"multiple\" v-model=\"result.second.specificSpecific\">\r\n                <a-select-option v-for=\"(val,index) in 60\" :key=\"index\" :value=\"index\">{{ index }}</a-select-option>\r\n              </a-select>\r\n            </a-row>\r\n            <a-row>\r\n              <a-radio value=\"4\">周期从\r\n                <a-input-number size=\"small\" v-model=\"result.second.rangeStart\" :min=\"1\" :max=\"60\"></a-input-number>\r\n                到\r\n                <a-input-number size=\"small\" v-model=\"result.second.rangeEnd\" :min=\"0\" :max=\"59\"></a-input-number>\r\n                秒\r\n              </a-radio>\r\n            </a-row>\r\n          </a-radio-group>\r\n        </a-tab-pane>\r\n        <a-tab-pane key=\"2\">\r\n          <span slot=\"tab\"><a-icon type=\"schedule\" />分</span>\r\n          <div class=\"tabBody\">\r\n            <a-radio-group v-model=\"result.minute.cronEvery\">\r\n              <a-row>\r\n                <a-radio value=\"1\">每一分钟</a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"2\">每隔\r\n                  <a-input-number size=\"small\" v-model=\"result.minute.incrementIncrement\" :min=\"1\" :max=\"60\"></a-input-number>\r\n                  分执行 从\r\n                  <a-input-number size=\"small\" v-model=\"result.minute.incrementStart\" :min=\"0\" :max=\"59\"></a-input-number>\r\n                  分开始\r\n                </a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"3\">具体分钟数(可多选)</a-radio>\r\n                <a-select style=\"width:340px;\" size=\"small\" mode=\"multiple\" v-model=\"result.minute.specificSpecific\">\r\n                  <a-select-option v-for=\"(val,index) in Array(60)\" :key=\"index\" :value=\"index\"> {{ index }}</a-select-option>\r\n                </a-select>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"4\">周期从\r\n                  <a-input-number size=\"small\" v-model=\"result.minute.rangeStart\" :min=\"1\" :max=\"60\"></a-input-number>\r\n                  到\r\n                  <a-input-number size=\"small\" v-model=\"result.minute.rangeEnd\" :min=\"0\" :max=\"59\"></a-input-number>\r\n                  分\r\n                </a-radio>\r\n              </a-row>\r\n            </a-radio-group>\r\n          </div>\r\n        </a-tab-pane>\r\n        <a-tab-pane key=\"3\">\r\n          <span slot=\"tab\"><a-icon type=\"schedule\" /> 时</span>\r\n          <div class=\"tabBody\">\r\n            <a-radio-group v-model=\"result.hour.cronEvery\">\r\n              <a-row>\r\n                <a-radio value=\"1\">每一小时</a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"2\">每隔\r\n                  <a-input-number size=\"small\" v-model=\"result.hour.incrementIncrement\" :min=\"0\" :max=\"23\"></a-input-number>\r\n                  小时执行 从\r\n                  <a-input-number size=\"small\" v-model=\"result.hour.incrementStart\" :min=\"0\" :max=\"23\"></a-input-number>\r\n                  小时开始\r\n                </a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio class=\"long\" value=\"3\">具体小时数(可多选)</a-radio>\r\n                <a-select style=\"width:340px;\" size=\"small\" mode=\"multiple\" v-model=\"result.hour.specificSpecific\">\r\n                  <a-select-option v-for=\"(val,index) in Array(24)\" :key=\"index\" >{{ index }}</a-select-option>\r\n                </a-select>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"4\">周期从\r\n                  <a-input-number size=\"small\" v-model=\"result.hour.rangeStart\" :min=\"0\" :max=\"23\"></a-input-number>\r\n                  到\r\n                  <a-input-number size=\"small\" v-model=\"result.hour.rangeEnd\" :min=\"0\" :max=\"23\"></a-input-number>\r\n                  小时\r\n                </a-radio>\r\n              </a-row>\r\n            </a-radio-group>\r\n          </div>\r\n        </a-tab-pane>\r\n        <a-tab-pane key=\"4\">\r\n          <span slot=\"tab\"><a-icon type=\"schedule\" />  天</span>\r\n          <div class=\"tabBody\">\r\n            <a-radio-group v-model=\"result.day.cronEvery\">\r\n              <a-row>\r\n                <a-radio value=\"1\">每一天</a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"2\">每隔\r\n                  <a-input-number size=\"small\" v-model=\"result.week.incrementIncrement\" :min=\"1\" :max=\"7\"></a-input-number>\r\n                  周执行 从\r\n                  <a-select size=\"small\" v-model=\"result.week.incrementStart\">\r\n                    <a-select-option v-for=\"(val,index) in Array(7)\" :key=\"index\" :value=\"index+1\">{{ weekDays[index] }}</a-select-option>\r\n                  </a-select>\r\n                  开始\r\n                </a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"3\">每隔\r\n                  <a-input-number size=\"small\" v-model=\"result.day.incrementIncrement\" :min=\"1\" :max=\"31\"></a-input-number>\r\n                  天执行 从\r\n                  <a-input-number size=\"small\" v-model=\"result.day.incrementStart\" :min=\"1\" :max=\"31\"></a-input-number>\r\n                  天开始\r\n                </a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio class=\"long\" value=\"4\">具体星期几(可多选)</a-radio>\r\n                <a-select style=\"width:340px;\" size=\"small\" mode=\"multiple\" v-model=\"result.week.specificSpecific\">\r\n                  <a-select-option v-for=\"(val,index) in Array(7)\" :key=\"index\" :value=\"index+1\">{{ weekDays[index] }}</a-select-option>\r\n                </a-select>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio class=\"long\" value=\"5\">具体天数(可多选)</a-radio>\r\n                <a-select style=\"width:354px;\" size=\"small\" mode=\"multiple\" v-model=\"result.day.specificSpecific\">\r\n                  <a-select-option v-for=\"(val,index) in Array(31)\" :key=\"index\" :value=\"index+1\">{{ index+1 }}</a-select-option>\r\n                </a-select>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"6\">在这个月的最后一天</a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"7\">在这个月的最后一个工作日</a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"8\">在这个月的最后一个\r\n                  <a-select size=\"small\" v-model=\"result.day.cronLastSpecificDomDay\">\r\n                    <a-select-option v-for=\"(val,index) in Array(7)\" :key=\"index\" :value=\"index+1\">{{ weekDays[index] }}</a-select-option>\r\n                  </a-select>\r\n                </a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"9\">\r\n                  在本月底前\r\n                  <a-input-number size=\"small\" v-model=\"result.day.cronDaysBeforeEomMinus\" :min=\"1\" :max=\"31\"></a-input-number>\r\n                  天\r\n                </a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"10\">最近的工作日（周一至周五）至本月\r\n                  <a-input-number size=\"small\" v-model=\"result.day.cronDaysNearestWeekday\" :min=\"1\" :max=\"31\"></a-input-number>\r\n                  日\r\n                </a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"11\">在这个月的第\r\n                  <a-input-number size=\"small\" v-model=\"result.week.cronNthDayNth\" :min=\"1\" :max=\"5\"></a-input-number>\r\n                  个\r\n                  <a-select size=\"small\" v-model=\"result.week.cronNthDayDay\">\r\n                    <a-select-option v-for=\"(val,index) in Array(7)\" :key=\"index\" :value=\"index+1\">{{ weekDays[index] }}</a-select-option>\r\n                  </a-select>\r\n\r\n                </a-radio>\r\n              </a-row>\r\n            </a-radio-group>\r\n          </div>\r\n        </a-tab-pane>\r\n        <a-tab-pane key=\"5\">\r\n          <span slot=\"tab\"><a-icon type=\"schedule\" /> 月</span>\r\n          <div class=\"tabBody\">\r\n            <a-radio-group v-model=\"result.month.cronEvery\">\r\n              <a-row>\r\n                <a-radio value=\"1\">每一月</a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"2\">每隔\r\n                  <a-input-number size=\"small\" v-model=\"result.month.incrementIncrement\" :min=\"0\" :max=\"12\"></a-input-number>\r\n                  月执行 从\r\n                  <a-input-number size=\"small\" v-model=\"result.month.incrementStart\" :min=\"0\" :max=\"12\"></a-input-number>\r\n                  月开始\r\n                </a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio class=\"long\" value=\"3\">具体月数(可多选)</a-radio>\r\n                <a-select style=\"width:354px;\" size=\"small\" filterable mode=\"multiple\" v-model=\"result.month.specificSpecific\">\r\n                  <a-select-option v-for=\"(val,index) in Array(12)\" :key=\"index\" :value=\"index+1\">{{ index+1 }}</a-select-option>\r\n                </a-select>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"4\">从\r\n                  <a-input-number size=\"small\" v-model=\"result.month.rangeStart\" :min=\"1\" :max=\"12\"></a-input-number>\r\n                  到\r\n                  <a-input-number size=\"small\" v-model=\"result.month.rangeEnd\" :min=\"1\" :max=\"12\"></a-input-number>\r\n                  月之间的每个月\r\n                </a-radio>\r\n              </a-row>\r\n            </a-radio-group>\r\n          </div>\r\n        </a-tab-pane>\r\n        <a-tab-pane key=\"6\">\r\n          <span slot=\"tab\"><a-icon type=\"schedule\" /> 年</span>\r\n          <div class=\"tabBody\">\r\n            <a-radio-group v-model=\"result.year.cronEvery\">\r\n              <a-row>\r\n                <a-radio value=\"1\">每一年</a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"2\">每隔\r\n                  <a-input-number size=\"small\" v-model=\"result.year.incrementIncrement\" :min=\"1\" :max=\"99\"></a-input-number>\r\n                  年执行 从\r\n                  <a-input-number size=\"small\" v-model=\"result.year.incrementStart\" :min=\"2019\" :max=\"2119\"></a-input-number>\r\n                  年开始\r\n                </a-radio>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio class=\"long\" value=\"3\">具体年份(可多选)</a-radio>\r\n                <a-select style=\"width:354px;\" size=\"small\" filterable mode=\"multiple\" v-model=\"result.year.specificSpecific\">\r\n                  <a-select-option v-for=\"(val,index) in Array(100)\" :key=\"index\" :value=\"2019+index\">{{ 2019+index }}</a-select-option>\r\n                </a-select>\r\n              </a-row>\r\n              <a-row>\r\n                <a-radio value=\"4\">从\r\n                  <a-input-number size=\"small\" v-model=\"result.year.rangeStart\" :min=\"2019\" :max=\"2119\"></a-input-number>\r\n                  到\r\n                  <a-input-number size=\"small\" v-model=\"result.year.rangeEnd\" :min=\"2019\" :max=\"2119\"></a-input-number>\r\n                  年之间的每一年\r\n                </a-radio>\r\n              </a-row>\r\n            </a-radio-group>\r\n          </div>\r\n        </a-tab-pane>\r\n      </a-tabs>\r\n      <div class=\"bottom\">\r\n        <span class=\"value\">{{this.cron }}</span>\r\n      </div>\r\n    </div>\r\n  </a-modal>\r\n</template>\r\n<script>\r\n  export default {\r\n    name:'VueCron',\r\n    props:['data'],\r\n    data(){\r\n      return {\r\n        visible: false,\r\n        confirmLoading:false,\r\n        size:'large',\r\n        weekDays:['天','一','二','三','四','五','六'].map(val=>'星期'+val),\r\n        result: {\r\n          second:{},\r\n          minute:{},\r\n          hour:{},\r\n          day:{},\r\n          week:{},\r\n          month:{},\r\n          year:{}\r\n        },\r\n        defaultValue: {\r\n          second:{\r\n            cronEvery:'',\r\n            incrementStart:3,\r\n            incrementIncrement:5,\r\n            rangeStart:1,\r\n            rangeEnd:0,\r\n            specificSpecific:[],\r\n          },\r\n          minute:{\r\n            cronEvery:'',\r\n            incrementStart:3,\r\n            incrementIncrement:5,\r\n            rangeStart:1,\r\n            rangeEnd:'0',\r\n            specificSpecific:[],\r\n          },\r\n          hour:{\r\n            cronEvery:'',\r\n            incrementStart:3,\r\n            incrementIncrement:5,\r\n            rangeStart:'0',\r\n            rangeEnd:'0',\r\n            specificSpecific:[],\r\n          },\r\n          day:{\r\n            cronEvery:'',\r\n            incrementStart:1,\r\n            incrementIncrement:'1',\r\n            rangeStart:'',\r\n            rangeEnd:'',\r\n            specificSpecific:[],\r\n            cronLastSpecificDomDay:1,\r\n            cronDaysBeforeEomMinus:1,\r\n            cronDaysNearestWeekday:1,\r\n          },\r\n          week:{\r\n            cronEvery:'',\r\n            incrementStart:1,\r\n            incrementIncrement:1,\r\n            specificSpecific:[],\r\n            cronNthDayDay:1,\r\n            cronNthDayNth:1,\r\n          },\r\n          month:{\r\n            cronEvery:'',\r\n            incrementStart:3,\r\n            incrementIncrement:5,\r\n            rangeStart:1,\r\n            rangeEnd:1,\r\n            specificSpecific:[],\r\n          },\r\n          year:{\r\n            cronEvery:'',\r\n            incrementStart:2017,\r\n            incrementIncrement:1,\r\n            rangeStart:2019,\r\n            rangeEnd: 2019,\r\n            specificSpecific:[],\r\n          },\r\n          label:''\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      modalWidth(){\r\n        return 608;\r\n      },\r\n      secondsText() {\r\n        let seconds = '';\r\n        let cronEvery=this.result.second.cronEvery||'';\r\n        switch (cronEvery.toString()){\r\n          case '1':\r\n            seconds = '*';\r\n            break;\r\n          case '2':\r\n            seconds = this.result.second.incrementStart+'/'+this.result.second.incrementIncrement;\r\n            break;\r\n          case '3':\r\n            this.result.second.specificSpecific.map(val=> {seconds += val+','});\r\n            seconds = seconds.slice(0, -1);\r\n            break;\r\n          case '4':\r\n            seconds = this.result.second.rangeStart+'-'+this.result.second.rangeEnd;\r\n            break;\r\n        }\r\n        return seconds;\r\n      },\r\n      minutesText() {\r\n        let minutes = '';\r\n        let cronEvery=this.result.minute.cronEvery||'';\r\n        switch (cronEvery.toString()){\r\n          case '1':\r\n            minutes = '*';\r\n            break;\r\n          case '2':\r\n            minutes = this.result.minute.incrementStart+'/'+this.result.minute.incrementIncrement;\r\n            break;\r\n          case '3':\r\n            this.result.minute.specificSpecific.map(val=> {\r\n              minutes += val+','\r\n            });\r\n            minutes = minutes.slice(0, -1);\r\n            break;\r\n          case '4':\r\n            minutes = this.result.minute.rangeStart+'-'+this.result.minute.rangeEnd;\r\n            break;\r\n        }\r\n        return minutes;\r\n      },\r\n      hoursText() {\r\n        let hours = '';\r\n        let cronEvery=this.result.hour.cronEvery||'';\r\n        switch (cronEvery.toString()){\r\n          case '1':\r\n            hours = '*';\r\n            break;\r\n          case '2':\r\n            hours = this.result.hour.incrementStart+'/'+this.result.hour.incrementIncrement;\r\n            break;\r\n          case '3':\r\n            this.result.hour.specificSpecific.map(val=> {\r\n              hours += val+','\r\n            });\r\n            hours = hours.slice(0, -1);\r\n            break;\r\n          case '4':\r\n            hours = this.result.hour.rangeStart+'-'+this.result.hour.rangeEnd;\r\n            break;\r\n        }\r\n        return hours;\r\n      },\r\n      daysText() {\r\n        let days='';\r\n        let cronEvery=this.result.day.cronEvery||'';\r\n        switch (cronEvery.toString()){\r\n          case '1':\r\n            break;\r\n          case '2':\r\n          case '4':\r\n          case '11':\r\n            days = '?';\r\n            break;\r\n          case '3':\r\n            days = this.result.day.incrementStart+'/'+this.result.day.incrementIncrement;\r\n            break;\r\n          case '5':\r\n            this.result.day.specificSpecific.map(val=> {\r\n              days += val+','\r\n            });\r\n            days = days.slice(0, -1);\r\n            break;\r\n          case '6':\r\n            days = \"L\";\r\n            break;\r\n          case '7':\r\n            days = \"LW\";\r\n            break;\r\n          case '8':\r\n            days = this.result.day.cronLastSpecificDomDay + 'L';\r\n            break;\r\n          case '9':\r\n            days = 'L-' + this.result.day.cronDaysBeforeEomMinus;\r\n            break;\r\n          case '10':\r\n            days = this.result.day.cronDaysNearestWeekday+\"W\";\r\n            break\r\n        }\r\n        return days;\r\n      },\r\n      weeksText() {\r\n        let weeks = '';\r\n        let cronEvery=this.result.day.cronEvery||'';\r\n        switch (cronEvery.toString()){\r\n          case '1':\r\n          case '3':\r\n          case '5':\r\n            weeks = '?';\r\n            break;\r\n          case '2':\r\n            weeks = this.result.week.incrementStart+'/'+this.result.week.incrementIncrement;\r\n            break;\r\n          case '4':\r\n            this.result.week.specificSpecific.map(val=> {\r\n              weeks += val+','\r\n            });\r\n            weeks = weeks.slice(0, -1);\r\n            break;\r\n          case '6':\r\n          case '7':\r\n          case '8':\r\n          case '9':\r\n          case '10':\r\n            weeks = \"?\";\r\n            break;\r\n          case '11':\r\n            weeks = this.result.week.cronNthDayDay+\"#\"+this.result.week.cronNthDayNth;\r\n            break;\r\n        }\r\n        return weeks;\r\n      },\r\n      monthsText() {\r\n        let months = '';\r\n        let cronEvery=this.result.month.cronEvery||'';\r\n        switch (cronEvery.toString()){\r\n          case '1':\r\n            months = '*';\r\n            break;\r\n          case '2':\r\n            months = this.result.month.incrementStart+'/'+this.result.month.incrementIncrement;\r\n            break;\r\n          case '3':\r\n            this.result.month.specificSpecific.map(val=> {\r\n              months += val+','\r\n            });\r\n            months = months.slice(0, -1);\r\n            break;\r\n          case '4':\r\n            months = this.result.month.rangeStart+'-'+this.result.month.rangeEnd;\r\n            break;\r\n        }\r\n        return months;\r\n      },\r\n      yearsText() {\r\n        let years = '';\r\n        let cronEvery=this.result.year.cronEvery||'';\r\n        switch (cronEvery.toString()){\r\n          case '1':\r\n            years = '*';\r\n            break;\r\n          case '2':\r\n            years = this.result.year.incrementStart+'/'+this.result.year.incrementIncrement;\r\n            break;\r\n          case '3':\r\n            this.result.year.specificSpecific.map(val=> {\r\n              years += val+','\r\n            });\r\n            years = years.slice(0, -1);\r\n            break;\r\n          case '4':\r\n            years = this.result.year.rangeStart+'-'+this.result.year.rangeEnd;\r\n            break;\r\n        }\r\n        return years;\r\n      },\r\n      cron(){\r\n        return `${this.secondsText||'*'} ${this.minutesText||'*'} ${this.hoursText||'*'} ${this.daysText||'*'} ${this.monthsText||'*'} ${this.weeksText||'?'} ${this.yearsText||'*'}`\r\n      },\r\n    },\r\n    watch:{\r\n      visible:{\r\n        handler() {\r\n          // if(this.data){\r\n          //   //this. result = Object.keys(this.data.value).length>0?this.deepCopy(this.data.value):this.deepCopy(this.defaultValue);\r\n          //   //this.result = Object.keys(this.data.value).length>0?clone(this.data.value):clone(this.defaultValue);\r\n          //   //this.result = Object.keys(this.data.value).length>0?clone(JSON.parse(this.data.value)):clone(this.defaultValue);\r\n          //   this.result = Object.keys(this.data.value).length>0?JSON.parse(this.data.value):JSON.parse(JSON.stringify(this.defaultValue));\r\n          // }else{\r\n          //   //this.result = this.deepCopy(this.defaultValue);\r\n          //   //this.result = clone(this.defaultValue);\r\n          //   this.result = JSON.parse(JSON.stringify(this.defaultValue));\r\n          // }\r\n          let label = this.data;\r\n          if(label){\r\n            this.secondsReverseExp(label)\r\n            this.minutesReverseExp(label);\r\n            this.hoursReverseExp(label);\r\n            this.daysReverseExp(label);\r\n            this.daysReverseExp(label);\r\n            this.monthsReverseExp(label);\r\n            this.yearReverseExp(label);\r\n            JSON.parse(JSON.stringify(label));\r\n          }else {\r\n            this.result = JSON.parse(JSON.stringify(this.defaultValue));\r\n          }\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      show(){\r\n        this.visible = true;\r\n        // console.log('secondsReverseExp',this.secondsReverseExp(this.data));\r\n        // console.log('minutesReverseExp',this.minutesReverseExp(this.data));\r\n        // console.log('hoursReverseExp',this.hoursReverseExp(this.data));\r\n        // console.log('daysReverseExp',this.daysReverseExp(this.data));\r\n        // console.log('monthsReverseExp',this.monthsReverseExp(this.data));\r\n        // console.log('yearReverseExp',this.yearReverseExp(this.data));\r\n\r\n      },\r\n      handleSubmit(){\r\n        this.$emit('ok',this.cron);\r\n        this.close();\r\n        this.visible = false;\r\n      },\r\n      close(){\r\n        this.visible = false;\r\n      },\r\n      secondsReverseExp(seconds) {\r\n        let val =  seconds.split(\" \")[0];\r\n        //alert(val);\r\n        let second = {\r\n          cronEvery:'',\r\n          incrementStart:3,\r\n          incrementIncrement:5,\r\n          rangeStart:1,\r\n          rangeEnd:0,\r\n          specificSpecific:[]\r\n        };\r\n        switch (true) {\r\n          case val.includes('*'):\r\n            second.cronEvery = '1';\r\n            break;\r\n          case val.includes('/'):\r\n            second.cronEvery = '2';\r\n            second.incrementStart = val.split('/')[0];\r\n            second.incrementIncrement = val.split('/')[1];\r\n            break;\r\n          case val.includes(','):\r\n            second.cronEvery = '3';\r\n            second.specificSpecific = val.split(',').map(Number).sort();\r\n            break;\r\n          case val.includes('-'):\r\n            second.cronEvery = '4';\r\n            second.rangeStart = val.split('-')[0];\r\n            second.rangeEnd = val.split('-')[1];\r\n            break;\r\n          default:\r\n            second.cronEvery = '1';\r\n        }\r\n        this.result.second = second;\r\n      },\r\n      minutesReverseExp(minutes) {\r\n        let val =  minutes.split(\" \")[1];\r\n        let minute = {\r\n          cronEvery:'',\r\n          incrementStart:3,\r\n          incrementIncrement:5,\r\n          rangeStart:1,\r\n          rangeEnd:0,\r\n          specificSpecific:[],\r\n        }\r\n        switch (true) {\r\n          case val.includes('*'):\r\n            minute.cronEvery = '1';\r\n            break;\r\n          case val.includes('/'):\r\n            minute.cronEvery = '2';\r\n            minute.incrementStart = val.split('/')[0];\r\n            minute.incrementIncrement = val.split('/')[1];\r\n            break;\r\n          case val.includes(','):\r\n            minute.cronEvery = '3';\r\n            minute.specificSpecific = val.split(',').map(Number).sort();\r\n            break;\r\n          case val.includes('-'):\r\n            minute.cronEvery = '4';\r\n            minute.rangeStart = val.split('-')[0];\r\n            minute.rangeEnd = val.split('-')[1];\r\n            break;\r\n          default:\r\n            minute.cronEvery = '1';\r\n        }\r\n        this.result.minute = minute;\r\n      },\r\n      hoursReverseExp(hours) {\r\n        let val =  hours.split(\" \")[2];\r\n        let hour ={\r\n            cronEvery:'',\r\n            incrementStart:3,\r\n            incrementIncrement:5,\r\n            rangeStart:1,\r\n            rangeEnd:'0',\r\n            specificSpecific:[],\r\n          };\r\n        switch (true) {\r\n          case val.includes('*'):\r\n            hour.cronEvery = '1';\r\n            break;\r\n          case val.includes('/'):\r\n            hour.cronEvery = '2';\r\n            hour.incrementStart = val.split('/')[0];\r\n            hour.incrementIncrement = val.split('/')[1];\r\n            break;\r\n          case val.includes(','):\r\n            hour.cronEvery = '3';\r\n            hour.specificSpecific = val.split(',').map(Number).sort();\r\n            break;\r\n          case val.includes('-'):\r\n            hour.cronEvery = '4';\r\n            hour.rangeStart = val.split('-')[0];\r\n            hour.rangeEnd = val.split('-')[1];\r\n            break;\r\n          default:\r\n            hour.cronEvery = '1';\r\n          }\r\n        this.result.hour = hour;\r\n      },\r\n      daysReverseExp(cron) {\r\n        let days =  cron.split(\" \")[3];\r\n        let weeks =  cron.split(\" \")[5];\r\n        let day ={\r\n          cronEvery:'',\r\n          incrementStart:1,\r\n          incrementIncrement:1,\r\n          rangeStart:1,\r\n          rangeEnd:1,\r\n          specificSpecific:[],\r\n          cronLastSpecificDomDay:1,\r\n          cronDaysBeforeEomMinus:1,\r\n          cronDaysNearestWeekday:1,\r\n        };\r\n        let week = {\r\n            cronEvery:'',\r\n            incrementStart:1,\r\n            incrementIncrement:1,\r\n            specificSpecific:[],\r\n            cronNthDayDay:1,\r\n            cronNthDayNth:'1',\r\n        };\r\n        if (!days.includes('?')) {\r\n          switch (true) {\r\n            case days.includes('*'):\r\n              day.cronEvery = '1';\r\n              break;\r\n            case days.includes('?'):\r\n              // 2、4、11\r\n              break;\r\n            case days.includes('/'):\r\n              day.cronEvery = '3';\r\n              day.incrementStart = days.split('/')[0];\r\n              day.incrementIncrement = days.split('/')[1];\r\n              break;\r\n            case days.includes(','):\r\n              day.cronEvery = '5';\r\n              day.specificSpecific = days.split(',').map(Number).sort();\r\n              // day.specificSpecific.forEach(function (value, index) {\r\n              //   day.specificSpecific[index] = value -1;\r\n              // });\r\n              break;\r\n            case days.includes('LW'):\r\n              day.cronEvery = '7';\r\n              break;\r\n            case days.includes('L-'):\r\n              day.cronEvery = '9';\r\n              day.cronDaysBeforeEomMinus = days.split('L-')[1];\r\n              break;\r\n            case days.includes('L'):\r\n\r\n              //alert(days);\r\n              if(days.len == 1){\r\n                day.cronEvery = '6';\r\n                day.cronLastSpecificDomDay = '1';\r\n              }\r\n              else\r\n              {\r\n                day.cronEvery = '8';\r\n                day.cronLastSpecificDomDay = Number(days.split('L')[0]);\r\n              }\r\n              break;\r\n            case days.includes('W'):\r\n              day.cronEvery = '10';\r\n              day.cronDaysNearestWeekday = days.split('W')[0];\r\n              break;\r\n            default:\r\n              day.cronEvery = '1';\r\n          }\r\n        }else {\r\n          switch (true){\r\n            case weeks.includes('/'):\r\n              day.cronEvery = '2';\r\n              week.incrementStart = weeks.split(\"/\")[0];\r\n              week.incrementIncrement = weeks.split(\"/\")[1];\r\n              break;\r\n            case weeks.includes(','):\r\n              day.cronEvery = '4';\r\n              week.specificSpecific = weeks.split(',').map(Number).sort();\r\n              break;\r\n            case '#':\r\n              day.cronEvery = '11';\r\n              week.cronNthDayDay = weeks.split(\"#\")[0];\r\n              week.cronNthDayNth = weeks.split(\"#\")[1];\r\n              break;\r\n            default:\r\n              day.cronEvery = '1';\r\n              week.cronEvery = '1';\r\n          }\r\n        }\r\n        this.result.day = day;\r\n        this.result.week = week;\r\n      },\r\n      monthsReverseExp(cron) {\r\n        let months = cron.split(\" \")[4];\r\n        let month = {\r\n          cronEvery:'',\r\n            incrementStart:3,\r\n            incrementIncrement:5,\r\n            rangeStart:1,\r\n            rangeEnd:1,\r\n            specificSpecific:[],\r\n        };\r\n        switch (true){\r\n          case months.includes('*'):\r\n            month.cronEvery = '1';\r\n            break;\r\n          case months.includes('/'):\r\n            month.cronEvery = '2';\r\n            month.incrementStart = months.split('/')[0];\r\n            month.incrementIncrement = months.split('/')[1];\r\n            break;\r\n          case months.includes(','):\r\n            month.cronEvery = '3';\r\n            month.specificSpecific = months.split(',').map(Number).sort();\r\n            break;\r\n          case months.includes('-'):\r\n            month.cronEvery = '4';\r\n            month.rangeStart = months.split('-')[0];\r\n            month.rangeEnd = months.split('-')[1];\r\n            break;\r\n          default:\r\n            month.cronEvery = '1';\r\n        }\r\n        this.result.month = month;\r\n      },\r\n      yearReverseExp(cron) {\r\n        let years = cron.split(\" \")[6];\r\n        let year = {\r\n          cronEvery:'',\r\n          incrementStart:3,\r\n          incrementIncrement:5,\r\n          rangeStart:2019,\r\n          rangeEnd:2019,\r\n          specificSpecific:[],\r\n        };\r\n        switch (true){\r\n          case years.includes('*'):\r\n            year.cronEvery = '1';\r\n            break;\r\n          case years.includes('/'):\r\n            year.cronEvery = '2';\r\n            year.incrementStart = years.split('/')[0];\r\n            year.incrementIncrement = years.split('/')[1];\r\n            break;\r\n          case years.includes(','):\r\n            year.cronEvery = '3';\r\n            year.specificSpecific = years.split(',').map(Number).sort();\r\n            break;\r\n          case years.includes('-'):\r\n            year.cronEvery = '4';\r\n            year.rangeStart = years.split('-')[0];\r\n            year.rangeEnd = years.split('-')[1];\r\n            break;\r\n          default:\r\n            year.cronEvery = '1';\r\n        }\r\n        this.result.year = year;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .card-container {\r\n    background: #fff;\r\n    overflow: hidden;\r\n    padding: 12px;\r\n    position: relative;\r\n    width: 100%;\r\n    .ant-tabs{\r\n      border:1px solid #e6ebf5;\r\n      padding: 0;\r\n      .ant-tabs-bar {\r\n        margin: 0;\r\n        outline: none;\r\n        border-bottom: none;\r\n        .ant-tabs-nav-container{\r\n          margin: 0;\r\n          .ant-tabs-tab {\r\n            padding: 0 24px!important;\r\n            background-color: #f5f7fa!important;\r\n            margin-right: 0px!important;\r\n            border-radius: 0;\r\n            line-height: 38px;\r\n            border: 1px solid transparent!important;\r\n            border-bottom: 1px solid #e6ebf5!important;\r\n          }\r\n          .ant-tabs-tab-active.ant-tabs-tab{\r\n            color: #409eff;\r\n            background-color: #fff!important;\r\n            border-right:1px solid #e6ebf5!important;\r\n            border-left:1px solid #e6ebf5!important;\r\n            border-bottom:1px solid #fff!important;\r\n            font-weight: normal;\r\n            transition:none!important;\r\n          }\r\n        }\r\n      }\r\n      .ant-tabs-tabpane{\r\n        padding: 15px;\r\n        .ant-row{\r\n          margin: 10px 0;\r\n        }\r\n        .ant-select,.ant-input-number{\r\n          width: 100px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  .container-widthEn{\r\n    width: 755px;\r\n  }\r\n  .container-widthCn{\r\n    width: 608px;\r\n  }\r\n  .language{\r\n    text-align: center;\r\n    position: absolute;\r\n    right: 13px;\r\n    top: 13px;\r\n    border: 1px solid transparent;\r\n    height: 40px;\r\n    line-height: 38px;\r\n    font-size: 16px;\r\n    color: #409eff;\r\n    z-index: 1;\r\n    background: #f5f7fa;\r\n    outline: none;\r\n    width: 47px;\r\n    border-bottom: 1px solid #e6ebf5;\r\n    border-radius: 0;\r\n  }\r\n  .card-container{\r\n    .bottom{\r\n      display: flex;\r\n      justify-content: center;\r\n      padding: 10px 0 0 0;\r\n      .cronButton{\r\n        margin: 0 10px;\r\n        line-height: 40px;\r\n      }\r\n    }\r\n  }\r\n  .tabBody{\r\n    .a-row{\r\n      margin: 10px 0;\r\n      .long{\r\n        .a-select{\r\n          width:354px;\r\n        }\r\n      }\r\n      .a-input-number{\r\n        width: 110px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]}]}