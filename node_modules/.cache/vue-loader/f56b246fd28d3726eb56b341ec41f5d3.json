{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\oaBus\\pageModels\\meetingUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\oaBus\\pageModels\\meetingUser.vue","mtime":1579513668504},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport JSelectNoticeDepart from '@/components/jeecgbiz/JSelectNoticeDepart'\nimport {getAction, postAction} from \"@/api/manage\";\nimport JSelectNoticeUserByDep from '@/components/jeecgbiz/JSelectNoticeUserByDep'\n\nexport default {\n  name: 'releaseScope',\n  components: {\n    JSelectNoticeDepart,\n    JSelectNoticeUserByDep\n  },\n  props: {\n    backData: {\n      type: Object,\n      required: false\n    },\n    modalWidth: {\n      type: Number,\n      default: 1250,\n      required: false\n    },\n    value: {\n      type: String,\n      required: false\n    },\n    disabled: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  data() {\n    return {\n      selectedDepUsers: \"\",\n      iIsLimits: '',\n      departId: '',\n      userRealName: '',\n      sTittle: '',\n      meetingUserId: '',\n      url: {\n        queryAllUser: '/sys/user/queryAllUser',\n        sendMeetingInform: '/oaBus/meetingInform/sendMeetingInform'  //发送通知\n      },\n    }\n  },\n\n  created(){\n    // this.backData  为父组件回传backdata 数据     回显\n    if (this.backData.s_varchar7 != undefined ||this.backData.s_varchar7 != null){\n      // console.log('============1111111',this.backData.s_varchar7);\n      this.meetingUserId = this.backData.s_varchar7\n      // console.log('============2222',this.meetingUserId);\n    }\n    if (this.backData.s_varchar5 == undefined ){\n      this.iIsLimits = 1;\n    } else {\n      this.iIsLimits = Number(this.backData.s_varchar5);\n    }\n    //判断显示类型 1 是全行   2是部门  3是人员     状态为 单选对应选中并数据回显\n    if (Number(this.backData.s_varchar5)==2){\n      this.departId = this.backData.s_varchar4;\n    }else if(Number(this.backData.s_varchar5)==3){\n      this.userRealName = this.backData.s_varchar4;\n    }\n  },\n\n  mounted() {\n    this.selectedDepUsers = this.value\n  },\n  watch: {\n    value(val) {\n      this.selectedDepUsers = val\n    }\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  methods: {\n    //监听选择范围\n    selectJG(e) {\n      //全行\n      if (e.target.value == 1) {\n        let publish = {};\n        publish.iIsLimits = e.target.value;\n        this.$emit(\"change1\", publish)\n      }\n    },\n\n    //获取选择范围数据\n    change(e) {\n      let publish = {};\n      publish.iIsLimits = this.iIsLimits;\n      if (this.iIsLimits == 2) {\n        publish.departId = e;\n      }\n      if (this.iIsLimits == 3) {\n        publish.userRealName = this.userRealName;\n      }\n      this.$emit(\"change1\", publish)\n    },\n\n    senUserId(userId) {\n      this.meetingUserId = userId;\n    },\n\n    //通过组织机构筛选选择用户\n    onSearchDepUser() {\n      this.onSearchDepUserCallBack('')\n    },\n    onSearchDepUserCallBack(selectedDepUsers) {\n      this.selectedDepUsers = selectedDepUsers\n      this.$emit(\"change\", selectedDepUsers)\n    },\n\n    selectFun(index) {\n      if (index == 1 ){\n        this.$emit('getDUS', 1, 1)\n      }\n      if (index == 2) {\n        this.meetingUserId = [];\n      }\n      if (index == 3) {\n        this.departId = '';\n        this.onSearchDepUserCallBack('')\n      }\n    },\n\n    //部门id传父组件\n    getUD1(data) {\n      this.$emit('getDUS', data, this.iIsLimits)\n    },\n\n    //用户id传父组件\n    getUD2() {\n      this.$emit('getDUS', this.userRealName, this.iIsLimits,this.meetingUserId)\n    },\n\n    sendUser() {\n      let json = {\n        iIsLimits: this.iIsLimits,\n        meetingUserId: this.meetingUserId.toString(),\n        // userRealName: this.userRealName,\n        departId: this.departId,\n        tableName: this.backData.table,\n        busdataId: this.backData.i_id,\n        functionId: this.backData.i_bus_function_id,\n        sTittle: this.backData.s_varchar2,\n        sAddress: this.backData.s_varchar6,\n        // sAddress : address,\n        dStartTime: this.backData.d_create_time,\n        // dEndTime:time,\n        dEndTime: this.backData.d_datetime1,\n        // sCreateBy :this.backData.s_create_name,\n        dCreateTime: this.backData.d_create_time,\n        iBusModelId: this.backData.i_bus_model_id,\n      };\n      postAction(this.url.sendMeetingInform, json).then((res) => {\n      });\n    },\n  }\n}\n",{"version":3,"sources":["meetingUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"meetingUser.vue","sourceRoot":"src/views/oaBus/pageModels","sourcesContent":["<template>\r\n  <div style=\"padding: 10px\">\r\n    <a-radio-group v-model=\"iIsLimits\"  @change=\"selectJG\">\r\n      <a-radio @click=\"selectFun(1)\" :value=\"1\">全行</a-radio>\r\n      <a-radio @click=\"selectFun(2)\" :value=\"2\">部门</a-radio>\r\n      <a-radio @click=\"selectFun(3)\" :value=\"3\">用户</a-radio>\r\n    </a-radio-group>\r\n      <a-row :gutter=\"24\" v-show='iIsLimits==2'>\r\n        <a-col :span=\"24\" >\r\n          <a-form-item  label=\"选择部门\">\r\n            <j-select-notice-depart v-model=\"departId\" :multi=\"true\"  @change=\"change\" @getUD1=\"getUD1\"></j-select-notice-depart>\r\n          </a-form-item>\r\n        </a-col>\r\n      </a-row>\r\n      <a-row :gutter=\"24\" v-show='iIsLimits==3'>\r\n        <a-col :span=\"24\" >\r\n          <a-form-item  label=\"选择用户\" >\r\n            <j-select-notice-user-by-dep  @senUserId=\"senUserId\" :meetingUserId=\"meetingUserId\"  v-model=\"userRealName\" @getUD2=\"getUD2\" @change=\"change\"></j-select-notice-user-by-dep>\r\n          </a-form-item>\r\n        </a-col>\r\n      </a-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import JSelectNoticeDepart from '@/components/jeecgbiz/JSelectNoticeDepart'\r\n  import {getAction, postAction} from \"@/api/manage\";\r\n  import JSelectNoticeUserByDep from '@/components/jeecgbiz/JSelectNoticeUserByDep'\r\n\r\n  export default {\r\n    name: 'releaseScope',\r\n    components: {\r\n      JSelectNoticeDepart,\r\n      JSelectNoticeUserByDep\r\n    },\r\n    props: {\r\n      backData: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      modalWidth: {\r\n        type: Number,\r\n        default: 1250,\r\n        required: false\r\n      },\r\n      value: {\r\n        type: String,\r\n        required: false\r\n      },\r\n      disabled: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        selectedDepUsers: \"\",\r\n        iIsLimits: '',\r\n        departId: '',\r\n        userRealName: '',\r\n        sTittle: '',\r\n        meetingUserId: '',\r\n        url: {\r\n          queryAllUser: '/sys/user/queryAllUser',\r\n          sendMeetingInform: '/oaBus/meetingInform/sendMeetingInform'  //发送通知\r\n        },\r\n      }\r\n    },\r\n\r\n    created(){\r\n      // this.backData  为父组件回传backdata 数据     回显\r\n      if (this.backData.s_varchar7 != undefined ||this.backData.s_varchar7 != null){\r\n        // console.log('============1111111',this.backData.s_varchar7);\r\n        this.meetingUserId = this.backData.s_varchar7\r\n        // console.log('============2222',this.meetingUserId);\r\n      }\r\n      if (this.backData.s_varchar5 == undefined ){\r\n        this.iIsLimits = 1;\r\n      } else {\r\n        this.iIsLimits = Number(this.backData.s_varchar5);\r\n      }\r\n      //判断显示类型 1 是全行   2是部门  3是人员     状态为 单选对应选中并数据回显\r\n      if (Number(this.backData.s_varchar5)==2){\r\n        this.departId = this.backData.s_varchar4;\r\n      }else if(Number(this.backData.s_varchar5)==3){\r\n        this.userRealName = this.backData.s_varchar4;\r\n      }\r\n    },\r\n\r\n    mounted() {\r\n      this.selectedDepUsers = this.value\r\n    },\r\n    watch: {\r\n      value(val) {\r\n        this.selectedDepUsers = val\r\n      }\r\n    },\r\n    model: {\r\n      prop: 'value',\r\n      event: 'change'\r\n    },\r\n    methods: {\r\n      //监听选择范围\r\n      selectJG(e) {\r\n        //全行\r\n        if (e.target.value == 1) {\r\n          let publish = {};\r\n          publish.iIsLimits = e.target.value;\r\n          this.$emit(\"change1\", publish)\r\n        }\r\n      },\r\n\r\n      //获取选择范围数据\r\n      change(e) {\r\n        let publish = {};\r\n        publish.iIsLimits = this.iIsLimits;\r\n        if (this.iIsLimits == 2) {\r\n          publish.departId = e;\r\n        }\r\n        if (this.iIsLimits == 3) {\r\n          publish.userRealName = this.userRealName;\r\n        }\r\n        this.$emit(\"change1\", publish)\r\n      },\r\n\r\n      senUserId(userId) {\r\n        this.meetingUserId = userId;\r\n      },\r\n\r\n      //通过组织机构筛选选择用户\r\n      onSearchDepUser() {\r\n        this.onSearchDepUserCallBack('')\r\n      },\r\n      onSearchDepUserCallBack(selectedDepUsers) {\r\n        this.selectedDepUsers = selectedDepUsers\r\n        this.$emit(\"change\", selectedDepUsers)\r\n      },\r\n\r\n      selectFun(index) {\r\n        if (index == 1 ){\r\n          this.$emit('getDUS', 1, 1)\r\n        }\r\n        if (index == 2) {\r\n          this.meetingUserId = [];\r\n        }\r\n        if (index == 3) {\r\n          this.departId = '';\r\n          this.onSearchDepUserCallBack('')\r\n        }\r\n      },\r\n\r\n      //部门id传父组件\r\n      getUD1(data) {\r\n        this.$emit('getDUS', data, this.iIsLimits)\r\n      },\r\n\r\n      //用户id传父组件\r\n      getUD2() {\r\n        this.$emit('getDUS', this.userRealName, this.iIsLimits,this.meetingUserId)\r\n      },\r\n\r\n      sendUser() {\r\n        let json = {\r\n          iIsLimits: this.iIsLimits,\r\n          meetingUserId: this.meetingUserId.toString(),\r\n          // userRealName: this.userRealName,\r\n          departId: this.departId,\r\n          tableName: this.backData.table,\r\n          busdataId: this.backData.i_id,\r\n          functionId: this.backData.i_bus_function_id,\r\n          sTittle: this.backData.s_varchar2,\r\n          sAddress: this.backData.s_varchar6,\r\n          // sAddress : address,\r\n          dStartTime: this.backData.d_create_time,\r\n          // dEndTime:time,\r\n          dEndTime: this.backData.d_datetime1,\r\n          // sCreateBy :this.backData.s_create_name,\r\n          dCreateTime: this.backData.d_create_time,\r\n          iBusModelId: this.backData.i_bus_model_id,\r\n        };\r\n        postAction(this.url.sendMeetingInform, json).then((res) => {\r\n        });\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}