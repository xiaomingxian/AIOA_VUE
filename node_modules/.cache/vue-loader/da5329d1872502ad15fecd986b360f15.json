{"remainingRequest":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\src\\views\\system\\modules\\SelectUserListModal.vue?vue&type=style&index=0&id=0761ca9a&scoped=true&lang=css&","dependencies":[{"path":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\src\\views\\system\\modules\\SelectUserListModal.vue","mtime":1568535267000},{"path":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\css-loader\\index.js","mtime":1568345719000},{"path":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1568345696000},{"path":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\postcss-loader\\src\\index.js","mtime":1568345891000},{"path":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1568345883000},{"path":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1568345696000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.ant-card-body .table-operator{\n  margin-bottom: 18px;\n}\n\n.ant-table-tbody .ant-table-row td{\n  padding-top:15px;\n  padding-bottom:15px;\n}\n.anty-row-operator button{margin: 0 5px}\n.ant-btn-danger{background-color: #ffffff}\n\n.ant-modal-cust-warp{height: 100%}\n.ant-modal-cust-warp .ant-modal-body{height:calc(100% - 110px) !important;overflow-y: auto}\n.ant-modal-cust-warp .ant-modal-content{height:90% !important;overflow-y: hidden}\n\n.anty-img-wrap{height:25px;position: relative;}\n.anty-img-wrap > img{max-height:100%;}\n",{"version":3,"sources":["SelectUserListModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6PA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"SelectUserListModal.vue","sourceRoot":"src/views/system/modules","sourcesContent":["<template>\r\n  <a-modal\r\n    :title=\"title\"\r\n    :width=\"1200\"\r\n    :visible=\"visible\"\r\n    @ok=\"handleOk\"\r\n    @cancel=\"handleCancel\"\r\n    cancelText=\"关闭\">\r\n\r\n    <div class=\"table-page-search-wrapper\">\r\n      <a-form layout=\"inline\">\r\n        <a-row :gutter=\"24\">\r\n\r\n          <a-col :span=\"6\">\r\n            <a-form-item label=\"账号\">\r\n              <a-input placeholder=\"请输入账号查询\" v-model=\"queryParam.username\"></a-input>\r\n            </a-form-item>\r\n          </a-col>\r\n\r\n          <a-col :span=\"6\">\r\n            <a-form-item label=\"性别\">\r\n              <a-select v-model=\"queryParam.sex\" placeholder=\"请选择性别查询\">\r\n                <a-select-option value=\"\">请选择性别查询</a-select-option>\r\n                <a-select-option value=\"1\">男性</a-select-option>\r\n                <a-select-option value=\"2\">女性</a-select-option>\r\n              </a-select>\r\n            </a-form-item>\r\n          </a-col>\r\n\r\n\r\n          <template v-if=\"toggleSearchStatus\">\r\n            <a-col :span=\"6\">\r\n              <a-form-item label=\"邮箱\">\r\n                <a-input placeholder=\"请输入邮箱查询\" v-model=\"queryParam.email\"></a-input>\r\n              </a-form-item>\r\n            </a-col>\r\n\r\n            <a-col :span=\"6\">\r\n              <a-form-item label=\"手机号码\">\r\n                <a-input placeholder=\"请输入手机号码查询\" v-model=\"queryParam.phone\"></a-input>\r\n              </a-form-item>\r\n            </a-col>\r\n\r\n            <a-col :span=\"6\">\r\n              <a-form-item label=\"状态\">\r\n                <a-select v-model=\"queryParam.status\" placeholder=\"请选择用户状态查询\">\r\n                  <a-select-option value=\"\">请选择用户状态</a-select-option>\r\n                  <a-select-option value=\"1\">正常</a-select-option>\r\n                  <a-select-option value=\"2\">解冻</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n          </template>\r\n\r\n          <a-col :span=\"6\" >\r\n            <span style=\"float: left;overflow: hidden;\" class=\"table-page-search-submitButtons\">\r\n              <a-button type=\"primary\" @click=\"searchByquery\" icon=\"search\">查询</a-button>\r\n              <a-button type=\"primary\" @click=\"searchReset\" icon=\"reload\" style=\"margin-left: 8px\">重置</a-button>\r\n              <a @click=\"handleToggleSearch\" style=\"margin-left: 8px\">\r\n                {{ toggleSearchStatus ? '收起' : '展开' }}\r\n                <a-icon :type=\"toggleSearchStatus ? 'up' : 'down'\"/>\r\n              </a>\r\n            </span>\r\n          </a-col>\r\n\r\n        </a-row>\r\n      </a-form>\r\n    </div>\r\n\r\n    <a-table\r\n      ref=\"table\"\r\n      rowKey=\"id\"\r\n      :columns=\"columns\"\r\n      :dataSource=\"dataSource\"\r\n      :pagination=\"ipagination\"\r\n      :rowSelection=\"{selectedRowKeys: selectedRowKeys, onChange: onSelectChange}\"\r\n      @change=\"handleTableChange\"\r\n    >\r\n\r\n    </a-table>\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\n  import { filterObj } from '@/utils/util';\r\n\r\n  import { getUserList } from '@/api/api'\r\n\r\n  export default {\r\n    name: \"SelectUserListModal\",\r\n    components: {\r\n    },\r\n    data () {\r\n      return {\r\n        title:\"选择用户\",\r\n        queryParam: {},\r\n        columns: [{\r\n          title: '用户账号',\r\n          align:\"center\",\r\n          dataIndex: 'username',\r\n          fixed:'left',\r\n          width:200\r\n        },{\r\n          title: '真实姓名',\r\n          align:\"center\",\r\n          dataIndex: 'realname',\r\n        },{\r\n          title: '性别',\r\n          align:\"center\",\r\n          dataIndex: 'sex',\r\n          customRender:function (text) {\r\n            if(text==1){\r\n              return \"男\";\r\n            }else if(text==2){\r\n              return \"女\";\r\n            }else{\r\n              return text;\r\n            }\r\n          }\r\n        },{\r\n          title: '手机号码',\r\n          align:\"center\",\r\n          dataIndex: 'phone'\r\n        },{\r\n          title: '邮箱',\r\n          align:\"center\",\r\n          dataIndex: 'email'\r\n        },{\r\n          title: '状态',\r\n          align:\"center\",\r\n          dataIndex: 'status',\r\n          customRender:function (text) {\r\n            if(text==1){\r\n              return \"正常\";\r\n            }else if(text==2){\r\n              return \"冻结\";\r\n            }else{\r\n              return text;\r\n            }\r\n          }\r\n        }],\r\n        dataSource:[],\r\n        ipagination:{\r\n          current: 1,\r\n          pageSize: 5,\r\n          pageSizeOptions: ['5', '10', '20'],\r\n          showTotal: (total, range) => {\r\n            return range[0] + \"-\" + range[1] + \" 共\" + total + \"条\"\r\n          },\r\n          showQuickJumper: true,\r\n          showSizeChanger: true,\r\n          total: 0\r\n        },\r\n        isorter:{\r\n          column: 'createTime',\r\n          order: 'desc',\r\n        },\r\n        selectedRowKeys: [],\r\n        selectionRows: [],\r\n        visible:false,\r\n        toggleSearchStatus:false,\r\n      }\r\n    },\r\n    created() {\r\n      this.loadData();\r\n    },\r\n    methods: {\r\n      add (selectUser,userIds) {\r\n        this.visible = true;\r\n        this.edit(selectUser,userIds);\r\n      },\r\n      edit(selectUser,userIds){\r\n        if(!userIds){\r\n          this.selectedRowKeys = []\r\n        }else{\r\n          this.selectedRowKeys = userIds.split(',');\r\n        }\r\n        if(!selectUser){\r\n          this.selectionRows=[]\r\n        }else{\r\n          this.selectionRows = selectUser;\r\n        }\r\n      },\r\n      loadData (arg){\r\n        if(arg===1){\r\n          this.ipagination.current = 1;\r\n        }\r\n        let params = this.getQueryParams();//查询条件\r\n        getUserList(params).then((res)=>{\r\n          if(res.success){\r\n            this.dataSource = res.result.records;\r\n            this.ipagination.total = res.result.total;\r\n          }\r\n        })\r\n      },\r\n      getQueryParams(){\r\n        let param = Object.assign({}, this.queryParam,this.isorter);\r\n        param.field = this.getQueryField();\r\n        //--update-begin----author:scott---date:20190818------for:新建公告时指定特定用户翻页错误SelectUserListModal #379----\r\n        // param.current = this.ipagination.current;\r\n        // param.pageSize = this.ipagination.pageSize;\r\n        param.pageNo = this.ipagination.current;\r\n        param.pageSize = this.ipagination.pageSize;\r\n        //--update-end----author:scott---date:20190818------for:新建公告时指定特定用户翻页错误SelectUserListModal #379---\r\n        return filterObj(param);\r\n      },\r\n      getQueryField(){\r\n        let str = \"id,\";\r\n        for(let a = 0;a<this.columns.length;a++){\r\n          str+=\",\"+this.columns[a].dataIndex;\r\n        }\r\n        return str;\r\n      },\r\n      onSelectChange (selectedRowKeys,selectionRows) {\r\n        this.selectedRowKeys = selectedRowKeys;\r\n        console.log(this.selectedRowKeys);\r\n        this.selectionRows = selectionRows;\r\n      },\r\n      searchReset(){\r\n        let that = this;\r\n        Object.keys(that.queryParam).forEach(function(key){\r\n          that.queryParam[key] = '';\r\n        });\r\n        that.loadData(1);\r\n      },\r\n      handleTableChange(pagination, filters, sorter){\r\n        //TODO 筛选\r\n        if (Object.keys(sorter).length>0){\r\n          this.isorter.column = sorter.field;\r\n          this.isorter.order = \"ascend\"==sorter.order?\"asc\":\"desc\"\r\n        }\r\n        this.ipagination = pagination;\r\n        this.loadData();\r\n      },\r\n      handleCancel () {\r\n        this.selectionRows = [];\r\n        this.selectedRowKeys = [];\r\n        this.visible = false;\r\n      },\r\n      handleOk () {\r\n        this.$emit(\"choseUser\",this.selectionRows);\r\n        this.handleCancel();\r\n      },\r\n      searchByquery(){\r\n        this.loadData(1);\r\n      },\r\n      handleToggleSearch(){\r\n        this.toggleSearchStatus = !this.toggleSearchStatus;\r\n      },\r\n    }\r\n  }\r\n</script>\r\n<style scoped>\r\n  .ant-card-body .table-operator{\r\n    margin-bottom: 18px;\r\n  }\r\n\r\n  .ant-table-tbody .ant-table-row td{\r\n    padding-top:15px;\r\n    padding-bottom:15px;\r\n  }\r\n  .anty-row-operator button{margin: 0 5px}\r\n  .ant-btn-danger{background-color: #ffffff}\r\n\r\n  .ant-modal-cust-warp{height: 100%}\r\n  .ant-modal-cust-warp .ant-modal-body{height:calc(100% - 110px) !important;overflow-y: auto}\r\n  .ant-modal-cust-warp .ant-modal-content{height:90% !important;overflow-y: hidden}\r\n\r\n  .anty-img-wrap{height:25px;position: relative;}\r\n  .anty-img-wrap > img{max-height:100%;}\r\n</style>"]}]}