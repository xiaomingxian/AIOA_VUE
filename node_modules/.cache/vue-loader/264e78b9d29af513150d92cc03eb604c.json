{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\components\\tools\\Logo.vue?vue&type=style&index=0&id=4cf8280f&lang=scss&scoped=true&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\components\\tools\\Logo.vue","mtime":1579587944582},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\css-loader\\index.js","mtime":1570780111199},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1570779225817},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\postcss-loader\\src\\index.js","mtime":1570780438513},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\sass-loader\\lib\\loader.js","mtime":1570780529612},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*缩小首页布 局顶部的高度*/\n$height: 59px;\n\n.sider {\n  box-shadow: none !important;\n  .logo {\n    height: $height !important;\n    line-height: $height !important;\n    box-shadow: none !important;\n    background-color: #055bc4;\n    transition: background 300ms;\n\n    a {\n      color: white;\n      &:hover {\n        color: rgba(255, 255, 255, 0.8);\n      }\n    }\n  }\n\n  &.light .logo {\n    background-color: #1890ff;\n  }\n}\n",{"version":3,"sources":["Logo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Logo.vue","sourceRoot":"src/components/tools","sourcesContent":["<template>\r\n  <div class=\"logo\">\r\n    <router-link :to=\"{name:'dashboard'}\">\r\n\r\n      <!-- update-begin- author:sunjianlei --- date:20190814 --- for: logo颜色根据主题颜色变化 -->\r\n      <img v-if=\"navTheme === 'dark' && picDetail.pic2\" :src=\"picDetail.pic2\" alt=\"logo\">\r\n      <img v-else-if=\"navTheme === 'dark'\" src=\"~@/assets/logo2x.png\" alt=\"logo\">\r\n      <img v-else src=\"~@/assets/logo2x.png\" alt=\"logo\">\r\n      <!-- update-begin- author:sunjianlei --- date:20190814 --- for: logo颜色根据主题颜色变化 -->\r\n      <h1 v-if=\"showTitle && picDetail.logoText\">{{ picDetail.logoText }}</h1>\r\n      <h1 v-else-if=\"showTitle\">{{ title }}</h1>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {ACCESS_TOKEN} from '@/store/mutation-types'\r\n  import { getAction,postAction } from '@/api/manage'\r\n  import axios from 'axios'\r\n  import Vue from 'vue'\r\n  import { mixin } from '@/utils/mixin.js'\r\n\r\n  export default {\r\n    name: 'Logo',\r\n    mixins: [mixin],\r\n    props: {\r\n      title: {\r\n        type: String,\r\n        default: '中国人民银行',\r\n        required: false\r\n      },\r\n      showTitle: {\r\n        type: Boolean,\r\n        default: true,\r\n        required: false\r\n      }\r\n    },\r\n    data () {\r\n      return {\r\n        picDetail:{\r\n          logoText:'',\r\n          pic2:'',\r\n        },\r\n        url:{\r\n          getLoginText: '/oafile/LoginPicture/loginPictrue',\r\n        }\r\n      }\r\n    },\r\n    created (){\r\n      this.showSign()\r\n    },\r\n    methods:{\r\n      getText(){\r\n        postAction(this.url.getLoginText).then(res => {\r\n          if (res.success){\r\n            if (res.result == null){\r\n              this.picDetail.logoText = \"中国人民银行\";\r\n            } else {\r\n              if(typeof this.getCaption(res.result.stable) == 'object'){\r\n                this.picDetail.logoText = this.getCaption(res.result.stable)[1];\r\n              }else {\r\n                this.picDetail.logoText = res.result.stable;\r\n              }\r\n              console.log(this.picDetail.logoText)\r\n            }\r\n          }\r\n        })\r\n      },\r\n      //显示当前已确认使用的图片\r\n      showSign() {\r\n        this.getText();\r\n        this.picDetail.picurl2 = window._CONFIG['domianURL'] + '/oafile/signPicture/readPicture?resourceType=image',\r\n          axios.get(this.picDetail.picurl2, {\r\n            responseType: 'arraybuffer',\r\n            headers: {\r\n              'X-Access-Token': Vue.ls.get(ACCESS_TOKEN)\r\n            }\r\n          }).then(res => {\r\n            if(res.data.byteLength >= 10){\r\n              this.picDetail.pic2='data:image/png;base64,' + btoa( new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''));\r\n              this.visible = true;\r\n\r\n            }else{\r\n              this.picDetail.pic2 = \"\"\r\n            }\r\n          })\r\n      },\r\n      getCaption(obj,state){\r\n        let index = obj.lastIndexOf(\"\\&\");\r\n        if(index == -1){\r\n          return obj;\r\n        }else {\r\n          if(state == 0){\r\n            obj = obj.substring(0,index);\r\n          }else if(state == 1){\r\n            obj = obj.substring(index+1,obj.length);\r\n          }else {\r\n            obj = [obj.substring(0,index),obj.substring(index+1,obj.length)];\r\n          }\r\n        }\r\n        return obj;\r\n      }\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n  /*缩小首页布 局顶部的高度*/\r\n  $height: 59px;\r\n\r\n  .sider {\r\n    box-shadow: none !important;\r\n    .logo {\r\n      height: $height !important;\r\n      line-height: $height !important;\r\n      box-shadow: none !important;\r\n      background-color: #055bc4;\r\n      transition: background 300ms;\r\n\r\n      a {\r\n        color: white;\r\n        &:hover {\r\n          color: rgba(255, 255, 255, 0.8);\r\n        }\r\n      }\r\n    }\r\n\r\n    &.light .logo {\r\n      background-color: #1890ff;\r\n    }\r\n  }\r\n</style>"]}]}