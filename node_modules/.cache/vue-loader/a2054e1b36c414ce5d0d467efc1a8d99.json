{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\taskList\\insideReadingFile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\taskList\\insideReadingFile.vue","mtime":1579416881870},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {getAction, postAction} from \"../../../api/manage\";\nimport {JeecgListMixin} from \"../../../mixins/JeecgListMixin2\";\nimport ATextarea from \"ant-design-vue/es/input/TextArea\";\nimport {busdataTemplate} from \"@/views/buttons/btn-js/busdataTemplate\";\nimport SelDepartName from \"../../oaBus/pageModels/selDepartName\";\nimport DelTime from \"../../buttons/DelTimeModal\";\n\nexport default {\n  name: \"insideReadingFile\",\n  mixins: [JeecgListMixin, busdataTemplate],\n  components: {\n    DelTime,\n    SelDepartName,\n    ATextarea,\n  },\n  props: {\n    backDataRef: {\n      type: Object,\n      required: false\n    },\n    detailList: {\n      type: Object,\n      required: false\n    },\n    optionMap: {\n      type: Object,\n      required: false\n    },\n    publishData: {\n      type: Object,\n      required: false\n    },\n    isShowFile:{\n      type: Object,\n      required: false\n    }\n  },\n  data() {\n    return {\n      s_varchar:[],\n      visible: false,\n      title: '公文传阅',\n      confirmLoading: false,\n      userData: '',\n      //代办信息\n      task: '',\n      //已办信息\n      taskDone: '',\n      oaFileList: [],    //  文档数据   字段含义\n      banWenFileList:[],  //办文依据\n      i_bigint2_option: [],    //  模块选择\n      i_bigint3_option: [],    //  业务选择\n      //表中的数据相关值\n      backData: {\n        //流程key\n        key: '',\n        act_show: '',\n        page_ref: '',\n        //业务配置表id-用于查询按钮/意见权限\n        iprocSetId: '',\n        //对应的业务数据表\n        table: '',\n        //---------------------------------- 以下为表存储字段\n        //*******\n        i_id: '',\n        i_bigint1: '',\n        i_bigint2: '',   //模块\n        i_bigint3: '',   //业务类别\n        s_receive_type: '',     //来文文种\n        d_datetime1: '',//\"成文日期\"\n        //*******\n        //模块\n        i_bus_model_id: '',\n        //\n        i_bus_function_id: '',\n        //密级\n        i_safetylevel: 0,\n        //缓急\n        i_urgency: 0,\n        //主送单位\n        s_main_unit_names: '',\n        //主办部门\n        s_main_dept_names: '主办部门',\n        //辅办部门\n        s_cc_dept_names: '辅办部门',\n        //内部发送部门\n        s_inside_deptnames: '内部发送部门',\n        //标题\n        s_title: '中国人民银行永州市中心支行收文处理签',\n        //左侧参数页面头部\n        s_left_parameter: '左侧参数页面头部',\n        //机构\n        s_unit_name: '',\n        //部门\n        s_dept_name: '',\n        //插入参数（修改文头）（页面头部）\n        s_middle_parameter: '',\n        //右侧参数（页面头部）\n        s_right_parameter: '',\n        //来文字号\n        s_receive_num: '',\n        //文件字号\n        s_file_num: '',\n        //来文机关（数据字典取值）\n        i_receive_dept_id: '',\n        //是否办结\n        i_is_state: 0,\n        //是否保存办文单\n        i_is_approve: 0,\n        //是否归档\n        i_is_archives: 0,\n        //是否已送全文检索\n        i_is_es: 0,\n        //是否送公文传输\n        i_is_send: 0,\n        //是否为临时文件\n        i_is_display: 0,\n        //备注\n        s_remarks: '',\n        //创建时间-年\n        i_create_year: new Date().getFullYear(),\n        //创建时间-月\n        i_create_month: new Date().getMonth(),\n        //创建时间-日期\n        i_create_day: new Date().getDate(),\n        //创建人id\n        s_create_by: '',\n        //创建者姓名\n        s_create_name: '',\n        //创建人部门name\n        s_create_dept: '',\n        //创建人部门id\n        s_create_deptid: '',\n        //创建人机构id\n        s_create_unitid: '',\n        //签发人\n        s_signer: '',\n        //封发日期\n        d_sealdate: '',\n        //创建时间\n        d_create_time: '',\n        //修改时间\n        d_update_time: new Date().getFullYear() + '-' + new Date().getMonth() + '-' + new Date().getDate(),\n        s_varchar1: '',\n        s_varchar2: '',\n        s_varchar3: '',\n        s_varchar4: '',\n        s_varchar5: '',\n        s_varchar6: '',\n        s_varchar7: '',\n        //当前流程名称\n        s_cur_proc_name: '',\n        //当前任务名称\n        s_cur_task_name: '',\n        //是否重要\n        i_is_important: ''\n      },\n\n      url: {\n        optionAndBtn: '/oaBus/newTask/optionAndBtn',\n        currentUserMsg: '/sys/user/getUserSectionInfoByToken',\n        updateReadStatus: '/oaBus/taskInAct/changeStatus',\n        selectTaskType: '/oaBus/busModel/list',\n        selectTask: '/oaBus/busModel/list',\n        queryOaFileList: '/oaBus/oaFile/queryOaFileList',\n        updateBusdata: '/oaBus/dynamic/update'\n      }\n    }\n  },\n  created() {\n    this.show();\n  },\n\n  methods: {\n    dateFormat(date) {\n      let date1 = new Date(date);\n      let Y = date1.getFullYear();\n      let M = date1.getMonth() + 1;\n      let D = date1.getDate();\n      let newTime = Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + date1.toTimeString().substr(0, 8);\n      return newTime;\n    },\n    change(e) {\n      this.backData.i_safetylevel = e\n    }, changeHuanJi(e) {\n      this.backData.i_urgency = e\n    },\n    //详情页面数据\n    showTaskInAct(taskDetail, task) {\n      this.task = task\n      this.show(taskDetail)\n      //修改数据信息为已读\n      this.changeReadStatus()\n    },\n    show(taskDetail) {\n\n      for(let i = 0;i<this.optionMap.checkList.length;i++){\n        this.s_varchar.push(this.optionMap.checkList[i].stableColumn);\n      }\n\n      //业务数据赋值\n      for (var i in this.backData) {\n        this.backData[i] = this.backDataRef[i]\n      }\n      this.getOaFiles(this.backData.table, this.backData.i_id);\n      this.getBanWenFiles(this.backData.table, this.backData.i_id);\n      this.i_bigint2_option = this.optionMap.i_bigint2_option;\n      this.i_bigint3_option = this.optionMap.i_bigint3_option;\n    },\n\n    ok() {\n      this.handleCancel()\n    },\n\n    handleCancel() {\n      this.$emit('close');\n      this.visible = false;\n      this.disableSubmit = false;\n      //刷新父页面\n      this.$emit('reload_todo')\n    }, onChange(date, dateString) {\n      // console.log(date, dateString);\n    }, onChange2(date, dateString) {\n      // console.log(date, dateString);\n    },\n    close() {\n      this.visible = false;\n    }\n\n  }\n}\n",{"version":3,"sources":["insideReadingFile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"insideReadingFile.vue","sourceRoot":"src/views/mytask/taskList","sourcesContent":["<template>\r\n  <center>\r\n\r\n    <table width=\"100%\" border=\"1\" style=\"border:#913838;\">\r\n      <tr>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--标题-->\r\n          <center><h3>{{detailList.s_title}}</h3></center>\r\n        </td>\r\n        <td colspan=\"5\">\r\n          <a-textarea cols=\"92\" rows=\"2\" ref=\"s_title\" v-on:blur=\"blurText(backData.s_title,$refs.s_title)\" v-model=\"backData.s_title\"></a-textarea>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--主送单位-->\r\n          <center><h3>{{detailList.s_main_unit_names}}</h3></center>\r\n        </td>\r\n        <td colspan=\"5\">\r\n          <a-textarea cols=\"92\" rows=\"2\" ref=\"s_main_unit_names\" v-on:blur=\"blurText(backData.s_main_unit_names,$refs.s_main_unit_names)\" v-model=\"backData.s_main_unit_names\"></a-textarea>\r\n        </td>\r\n      </tr>\r\n\r\n      <tr>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--签发人-->\r\n          <center><h3>{{detailList.s_signer}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <a-input style=\"width:100%;\" ref=\"s_signer\" v-on:blur=\"blurText(backData.s_signer,$refs.s_signer)\" v-model=\"backData.s_signer\"></a-input>\r\n        </td>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--文件字号-->\r\n          <center><h3>{{detailList.s_file_num}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <a-input style=\"width:100%;\" ref=\"s_file_num\" v-on:blur=\"blurText(backData.s_file_num,$refs.s_file_num)\" v-model=\"backData.s_file_num\"></a-input>\r\n        </td>\r\n      </tr>\r\n\r\n\r\n      <tr style=\"height: 50px;\">\r\n        <td class=\"title\" width=\"8%\">\r\n          <!--类别-->\r\n          <center><h3>{{detailList.s_varchar7}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <a-input style=\"width:100%;\" ref=\"s_varchar7\" v-on:blur=\"blurText(backData.s_varchar7,$refs.s_varchar7)\" v-model=\"backData.s_varchar7\"></a-input>\r\n          <!--<a-textarea cols=\"92\" rows=\"2\" v-model=\"backData.s_varchar1\"></a-textarea>-->\r\n        </td>\r\n        <td class=\"title\" width=\"8%\">\r\n          <!--封发时间-->\r\n          <center><h3>{{detailList.d_sealdate}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <a-input style=\"width:100%;\" ref=\"d_sealdate\" v-on:blur=\"blurText(backData.d_sealdate,$refs.d_sealdate)\" v-model=\"backData.d_sealdate\"></a-input>\r\n          <!--<a-textarea cols=\"92\" rows=\"2\" v-model=\"backData.s_varchar1\"></a-textarea>-->\r\n        </td>\r\n      </tr>\r\n      <tr style=\"height: 50px;\">\r\n\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--拟稿人-->\r\n          <center><h3>{{detailList.s_varchar5}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <a-input style=\"width:100%;\" ref=\"s_varchar5\" v-on:blur=\"blurText(backData.s_varchar5,$refs.s_varchar5)\" v-model=\"backData.s_varchar5\"></a-input>\r\n        </td>\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--部门-->\r\n          <center><h3>{{detailList.s_varchar6}}</h3></center>\r\n        </td>\r\n        <td colspan=\"3\">\r\n          <a-input style=\"width:100%;\" ref=\"s_varchar6\" v-on:blur=\"blurText(backData.s_varchar6,$refs.s_varchar6)\" v-model=\"backData.s_varchar6\"></a-input>\r\n        </td>\r\n      </tr>\r\n\r\n\r\n      <tr style=\"height: 50px;\">\r\n        <td class=\"title\" width=\"10%\">\r\n          <center><h3>{{detailList.s_varchar3}}</h3></center>\r\n        </td>\r\n        <td colspan=\"5\">\r\n          <div v-for=\"(item,index) in oaFileList\" style=\"padding-left: 15px\">\r\n            <!--<div @click=\"openFile(9,item.sfileName)\"><span class=\"hoverred\">{{index}}、{{item.sfileName}}</span>-->\r\n            <div class=\"qiCao\"><span class=\"hoverred\" @click=\"qiCao1(9,item)\">{{index+1}}、{{item.sfileName}}</span>\r\n              <span class=\"delCss\" v-show=\"isShowFile\">\r\n                <img :title=\"fileBtnName(1)\" v-show =\"isSuffex(item.sfileName)\" class=\"pices\" @click.stop=\"qiCao2(10,item)\" src=\"../../../../src/assets/set.png\"/>\r\n                <img :title=\"fileBtnName(2)\" class=\"pices\" @click.stop=\"updateFileName(item)\" src=\"../../../../src/assets/setName.png\"/>\r\n                <img :title=\"fileBtnName(3)\" class=\"pices\" @click.stop=\"deleteFilesBtn(item,4)\" src=\"../../../../src/assets/delete.png\"/>\r\n                <img :title=\"fileBtnName(4)\" v-show=\"oaFileList.length > 1 && index > 0\" class=\"pices\" @click.stop=\"topFile(item,index,4)\" src=\"../../../../src/assets/top.png\"/>\r\n                <img :title=\"fileBtnName(5)\" v-show=\"oaFileList.length > 1 && index < oaFileList.length-1\" class=\"pices\" @click.stop=\"lowFile(item,index,4)\" src=\"../../../../src/assets/bottom.png\"/>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <!--<a-input :value=\"backData.s_remarks\"></a-input>-->\r\n        </td>\r\n      </tr>\r\n\r\n      <tr style=\"height: 50px;\">\r\n        <td class=\"title\" width=\"15%\">\r\n          <!--办文依据-->\r\n          <center><h3>{{detailList.s_varchar4}}</h3></center>\r\n        </td>\r\n        <td colspan=\"5\">\r\n          <div v-for=\"(item,index) in banWenFileList\" style=\"padding-left: 15px\">\r\n            <!--<div @click=\"openFile(9,item.sfileName)\"><span class=\"hoverred\">{{index}}、{{item.sfileName}}</span>-->\r\n            <div  class=\"qiCao\"><span class=\"hoverred\" @click=\"qiCao1(9,item)\">{{index+1}}、{{item.sfileName}}</span>\r\n              <span class=\"delCss\" v-show=\"isShowFile\">\r\n                <img :title=\"fileBtnName(1)\" v-show =\"isSuffex(item.sfileName)\" class=\"pices\" @click.stop=\"qiCao2(10,item)\" src=\"../../../../src/assets/set.png\"/>\r\n                <img :title=\"fileBtnName(2)\" class=\"pices\" @click.stop=\"updateFileName(item)\" src=\"../../../../src/assets/setName.png\"/>\r\n                <img :title=\"fileBtnName(3)\" class=\"pices\" @click.stop=\"deleteFilesBtn(item,6)\" src=\"../../../../src/assets/delete.png\"/>\r\n                <img :title=\"fileBtnName(4)\" v-show=\"banWenFileList.length > 1 && index > 0\" class=\"pices\" @click.stop=\"topFile(item,index,6)\" src=\"../../../../src/assets/top.png\"/>\r\n                <img :title=\"fileBtnName(5)\" v-show=\"banWenFileList.length > 1 && index < banWenFileList.length-1\" class=\"pices\" @click.stop=\"lowFile(item,index,6)\" src=\"../../../../src/assets/bottom.png\"/>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <del-time ref=\"updateFileNameModal\" @reloadAfterUpdate=\"reloadAfterUpdate\"></del-time>\r\n  </center>\r\n</template>\r\n\r\n<script>\r\n  import {getAction, postAction} from \"../../../api/manage\";\r\n  import {JeecgListMixin} from \"../../../mixins/JeecgListMixin2\";\r\n  import ATextarea from \"ant-design-vue/es/input/TextArea\";\r\n  import {busdataTemplate} from \"@/views/buttons/btn-js/busdataTemplate\";\r\n  import SelDepartName from \"../../oaBus/pageModels/selDepartName\";\r\n  import DelTime from \"../../buttons/DelTimeModal\";\r\n\r\n  export default {\r\n    name: \"insideReadingFile\",\r\n    mixins: [JeecgListMixin, busdataTemplate],\r\n    components: {\r\n      DelTime,\r\n      SelDepartName,\r\n      ATextarea,\r\n    },\r\n    props: {\r\n      backDataRef: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      detailList: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      optionMap: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      publishData: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      isShowFile:{\r\n        type: Object,\r\n        required: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        s_varchar:[],\r\n        visible: false,\r\n        title: '公文传阅',\r\n        confirmLoading: false,\r\n        userData: '',\r\n        //代办信息\r\n        task: '',\r\n        //已办信息\r\n        taskDone: '',\r\n        oaFileList: [],    //  文档数据   字段含义\r\n        banWenFileList:[],  //办文依据\r\n        i_bigint2_option: [],    //  模块选择\r\n        i_bigint3_option: [],    //  业务选择\r\n        //表中的数据相关值\r\n        backData: {\r\n          //流程key\r\n          key: '',\r\n          act_show: '',\r\n          page_ref: '',\r\n          //业务配置表id-用于查询按钮/意见权限\r\n          iprocSetId: '',\r\n          //对应的业务数据表\r\n          table: '',\r\n          //---------------------------------- 以下为表存储字段\r\n          //*******\r\n          i_id: '',\r\n          i_bigint1: '',\r\n          i_bigint2: '',   //模块\r\n          i_bigint3: '',   //业务类别\r\n          s_receive_type: '',     //来文文种\r\n          d_datetime1: '',//\"成文日期\"\r\n          //*******\r\n          //模块\r\n          i_bus_model_id: '',\r\n          //\r\n          i_bus_function_id: '',\r\n          //密级\r\n          i_safetylevel: 0,\r\n          //缓急\r\n          i_urgency: 0,\r\n          //主送单位\r\n          s_main_unit_names: '',\r\n          //主办部门\r\n          s_main_dept_names: '主办部门',\r\n          //辅办部门\r\n          s_cc_dept_names: '辅办部门',\r\n          //内部发送部门\r\n          s_inside_deptnames: '内部发送部门',\r\n          //标题\r\n          s_title: '中国人民银行永州市中心支行收文处理签',\r\n          //左侧参数页面头部\r\n          s_left_parameter: '左侧参数页面头部',\r\n          //机构\r\n          s_unit_name: '',\r\n          //部门\r\n          s_dept_name: '',\r\n          //插入参数（修改文头）（页面头部）\r\n          s_middle_parameter: '',\r\n          //右侧参数（页面头部）\r\n          s_right_parameter: '',\r\n          //来文字号\r\n          s_receive_num: '',\r\n          //文件字号\r\n          s_file_num: '',\r\n          //来文机关（数据字典取值）\r\n          i_receive_dept_id: '',\r\n          //是否办结\r\n          i_is_state: 0,\r\n          //是否保存办文单\r\n          i_is_approve: 0,\r\n          //是否归档\r\n          i_is_archives: 0,\r\n          //是否已送全文检索\r\n          i_is_es: 0,\r\n          //是否送公文传输\r\n          i_is_send: 0,\r\n          //是否为临时文件\r\n          i_is_display: 0,\r\n          //备注\r\n          s_remarks: '',\r\n          //创建时间-年\r\n          i_create_year: new Date().getFullYear(),\r\n          //创建时间-月\r\n          i_create_month: new Date().getMonth(),\r\n          //创建时间-日期\r\n          i_create_day: new Date().getDate(),\r\n          //创建人id\r\n          s_create_by: '',\r\n          //创建者姓名\r\n          s_create_name: '',\r\n          //创建人部门name\r\n          s_create_dept: '',\r\n          //创建人部门id\r\n          s_create_deptid: '',\r\n          //创建人机构id\r\n          s_create_unitid: '',\r\n          //签发人\r\n          s_signer: '',\r\n          //封发日期\r\n          d_sealdate: '',\r\n          //创建时间\r\n          d_create_time: '',\r\n          //修改时间\r\n          d_update_time: new Date().getFullYear() + '-' + new Date().getMonth() + '-' + new Date().getDate(),\r\n          s_varchar1: '',\r\n          s_varchar2: '',\r\n          s_varchar3: '',\r\n          s_varchar4: '',\r\n          s_varchar5: '',\r\n          s_varchar6: '',\r\n          s_varchar7: '',\r\n          //当前流程名称\r\n          s_cur_proc_name: '',\r\n          //当前任务名称\r\n          s_cur_task_name: '',\r\n          //是否重要\r\n          i_is_important: ''\r\n        },\r\n\r\n        url: {\r\n          optionAndBtn: '/oaBus/newTask/optionAndBtn',\r\n          currentUserMsg: '/sys/user/getUserSectionInfoByToken',\r\n          updateReadStatus: '/oaBus/taskInAct/changeStatus',\r\n          selectTaskType: '/oaBus/busModel/list',\r\n          selectTask: '/oaBus/busModel/list',\r\n          queryOaFileList: '/oaBus/oaFile/queryOaFileList',\r\n          updateBusdata: '/oaBus/dynamic/update'\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.show();\r\n    },\r\n\r\n    methods: {\r\n      dateFormat(date) {\r\n        let date1 = new Date(date);\r\n        let Y = date1.getFullYear();\r\n        let M = date1.getMonth() + 1;\r\n        let D = date1.getDate();\r\n        let newTime = Y + '-' + (M < 10 ? \"0\" + M : M) + \"-\" + (D < 10 ? \"0\" + D : D) + \" \" + date1.toTimeString().substr(0, 8);\r\n        return newTime;\r\n      },\r\n      change(e) {\r\n        this.backData.i_safetylevel = e\r\n      }, changeHuanJi(e) {\r\n        this.backData.i_urgency = e\r\n      },\r\n      //详情页面数据\r\n      showTaskInAct(taskDetail, task) {\r\n        this.task = task\r\n        this.show(taskDetail)\r\n        //修改数据信息为已读\r\n        this.changeReadStatus()\r\n      },\r\n      show(taskDetail) {\r\n\r\n        for(let i = 0;i<this.optionMap.checkList.length;i++){\r\n          this.s_varchar.push(this.optionMap.checkList[i].stableColumn);\r\n        }\r\n\r\n        //业务数据赋值\r\n        for (var i in this.backData) {\r\n          this.backData[i] = this.backDataRef[i]\r\n        }\r\n        this.getOaFiles(this.backData.table, this.backData.i_id);\r\n        this.getBanWenFiles(this.backData.table, this.backData.i_id);\r\n        this.i_bigint2_option = this.optionMap.i_bigint2_option;\r\n        this.i_bigint3_option = this.optionMap.i_bigint3_option;\r\n      },\r\n\r\n      ok() {\r\n        this.handleCancel()\r\n      },\r\n\r\n      handleCancel() {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n        this.disableSubmit = false;\r\n        //刷新父页面\r\n        this.$emit('reload_todo')\r\n      }, onChange(date, dateString) {\r\n        // console.log(date, dateString);\r\n      }, onChange2(date, dateString) {\r\n        // console.log(date, dateString);\r\n      },\r\n      close() {\r\n        this.visible = false;\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  input.ant-input{\r\n    height: 48px;\r\n  }\r\n\r\n  textarea.ant-input{\r\n    height: 48px;\r\n  }\r\n\r\n  /deep/ .ant-select-selection--single{\r\n    height: 48px;\r\n    padding: 8px 0;\r\n  }\r\n\r\n  /deep/ .ant-calendar-picker-input{\r\n    height: 48px;\r\n  }\r\n</style>\r\n\r\n<style>\r\n\r\n  .title {\r\n    background-color: #e9ecf2 !important;\r\n    padding: 0.7% !important;\r\n    text-align: center !important;\r\n  }\r\n\r\n  .text {\r\n    padding: 10px;\r\n  }\r\n\r\n\r\n  .title h3 {\r\n    font-weight: bolder !important;\r\n  }\r\n\r\n  .ant-btn-default {\r\n    font-weight: bolder !important;\r\n    background: rgb(178, 218, 255) !important;\r\n  }\r\n</style>"]}]}