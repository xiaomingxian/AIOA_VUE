{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\oaBus\\modules\\BusModelPermitCat.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\oaBus\\modules\\BusModelPermitCat.vue","mtime":1576544170577},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { httpAction } from '@/api/manage'\nimport {getAction } from '@/api/manage'\nimport pick from 'lodash.pick'\n// 引入搜索部门弹出框的组件\nimport departWindow from '../../system/modules/DepartWindow'\nimport {ACCESS_TOKEN} from \"@/store/mutation-types\"\nimport {addUser, editUser, queryUserRole, queryall} from '@/api/api'\nimport {disabledAuthFilter} from \"@/utils/authFilter\"\nimport {duplicateCheck} from '@/api/api'\n\nimport Vue from 'vue'\n\nexport default {\n  name: \"BusModelPermitModal\",\n  components: {\n    departWindow,\n  },\n  data () {\n    return {\n      // 范围类型\n      spermitType:'',\n      selectvalue:'1',  //是否选中\n      title:\"操作\",\n      visible: false,\n      model: {},\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 5 },\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 16 },\n      },\n      selectData: [],\n      confirmLoading: false,\n      form: this.$form.createForm(this),\n      validatorRules:{\n        iId:{rules: [{ required: true, message: '请输入主键id!' }]},\n      },\n      selectedModel: null,\n      selectedFunction: null,\n      typeModel:null,\n      roleList:[],\n      selectedRole: '',\n      selectedUser:[],\n      userList:[],\n      userId: \"\", //保存用户id\n      disableSubmit: false,\n      userDepartModel: {userId: '', departIdList: []}, // 保存SysUserDepart的用户部门中间表数据需要的对象\n      url: {\n        add: \"/oaBus/busModelPermit/add\",\n        edit: \"/oaBus/busModelPermit/edit\",\n      },\n    }\n  },\n  created () {\n\n    const token = Vue.ls.get(ACCESS_TOKEN);\n    this.headers = {\"X-Access-Token\": token}\n  },\n\n  methods: {\n    // 获取范围类型\n    getTypeVal(e){\n      alert(e);\n      console.log(e);\n      this.spermitType = e;\n    },\n\n    handleOk () {\n      this.close()\n    },\n    handleCancel () {\n      this.typeModel = null;\n      this.close()\n    },\n\n\n  }\n}\n",{"version":3,"sources":["BusModelPermitCat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"BusModelPermitCat.vue","sourceRoot":"src/views/oaBus/modules","sourcesContent":["<template>\r\n  <a-modal\r\n    :title=\"title\"\r\n    :width=\"800\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    @ok=\"handleOk\"\r\n    @cancel=\"handleCancel\"\r\n    cancelText=\"关闭\">\r\n\r\n    <a-spin :spinning=\"confirmLoading\">\r\n      <a-form :form=\"form\">\r\n        <!-- <a-form-item\r\n           :labelCol=\"labelCol\"\r\n           :wrapperCol=\"wrapperCol\"\r\n           label=\"业务模块id\">\r\n           <a-input  placeholder=\"\" v-decorator=\"['ibusModelId', {}]\" />\r\n         </a-form-item>-->\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"范围类型\">\r\n          <a-select v-model=\"typeModel\"\r\n                    @change=\"getTypeVal\"\r\n                    placeholder=\"范围类型\"\r\n                    :disabled=\"disableSubmit\">\r\n            <a-select-option value=\"0\">所有人</a-select-option>\r\n            <a-select-option value=\"1\">角色</a-select-option>\r\n            <a-select-option value=\"2\">部门</a-select-option>\r\n            <a-select-option value=\"3\">人员</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"角色\" v-if=\"spermitType==1\">\r\n          <a-select  v-model=\"selectedRole\">\r\n            <a-select-option  v-for=\"(role,roleindex) in roleList\" :key=\"roleindex\" :value=\"role.id\">\r\n              {{ role.roleName }}\r\n            </a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n        <!--部门分配-->\r\n        <div v-else-if=\"spermitType==2\">\r\n          <a-form-item label=\"部门分配\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" v-show=\"!departDisabled && typeModel == 2\"  v-decorator=\"[ 'itypeId', {}]\">\r\n            <a-input-search\r\n              placeholder=\"点击右侧按钮选择部门\"\r\n              v-model=\"checkedDepartNameString\"\r\n              disabled\r\n              @search=\"onSearch\">\r\n              <a-button slot=\"enterButton\" icon=\"search\">选择</a-button>\r\n            </a-input-search>\r\n          </a-form-item>\r\n          <a-input type=\"hidden\" placeholder=\"\" v-decorator=\"['selecteddeparts']\" />\r\n        </div>\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"人员\"    v-else=\"spermitType==3\">\r\n          <a-select  v-model=\"selectedUser\">\r\n            <a-select-option  v-for=\"(user,userindex) in userList\" :key=\"userindex\" :value=\"user.id\">\r\n              {{ user.username }}\r\n            </a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"是否可见\">\r\n          <a-radio-group v-model=\"selectvalue\">\r\n            <a-radio :value=\"1\">是</a-radio>\r\n            <a-radio :value=\"0\">否</a-radio>\r\n          </a-radio-group>\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-spin>\r\n    <depart-window ref=\"departWindow\" @ok=\"modalFormOk\" ></depart-window>\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\n  import { httpAction } from '@/api/manage'\r\n  import {getAction } from '@/api/manage'\r\n  import pick from 'lodash.pick'\r\n  // 引入搜索部门弹出框的组件\r\n  import departWindow from '../../system/modules/DepartWindow'\r\n  import {ACCESS_TOKEN} from \"@/store/mutation-types\"\r\n  import {addUser, editUser, queryUserRole, queryall} from '@/api/api'\r\n  import {disabledAuthFilter} from \"@/utils/authFilter\"\r\n  import {duplicateCheck} from '@/api/api'\r\n\r\n  import Vue from 'vue'\r\n\r\n  export default {\r\n    name: \"BusModelPermitModal\",\r\n    components: {\r\n      departWindow,\r\n    },\r\n    data () {\r\n      return {\r\n        // 范围类型\r\n        spermitType:'',\r\n        selectvalue:'1',  //是否选中\r\n        title:\"操作\",\r\n        visible: false,\r\n        model: {},\r\n        labelCol: {\r\n          xs: { span: 24 },\r\n          sm: { span: 5 },\r\n        },\r\n        wrapperCol: {\r\n          xs: { span: 24 },\r\n          sm: { span: 16 },\r\n        },\r\n        selectData: [],\r\n        confirmLoading: false,\r\n        form: this.$form.createForm(this),\r\n        validatorRules:{\r\n          iId:{rules: [{ required: true, message: '请输入主键id!' }]},\r\n        },\r\n        selectedModel: null,\r\n        selectedFunction: null,\r\n        typeModel:null,\r\n        roleList:[],\r\n        selectedRole: '',\r\n        selectedUser:[],\r\n        userList:[],\r\n        userId: \"\", //保存用户id\r\n        disableSubmit: false,\r\n        userDepartModel: {userId: '', departIdList: []}, // 保存SysUserDepart的用户部门中间表数据需要的对象\r\n        url: {\r\n          add: \"/oaBus/busModelPermit/add\",\r\n          edit: \"/oaBus/busModelPermit/edit\",\r\n        },\r\n      }\r\n    },\r\n    created () {\r\n\r\n      const token = Vue.ls.get(ACCESS_TOKEN);\r\n      this.headers = {\"X-Access-Token\": token}\r\n    },\r\n\r\n    methods: {\r\n      // 获取范围类型\r\n      getTypeVal(e){\r\n        alert(e);\r\n        console.log(e);\r\n        this.spermitType = e;\r\n      },\r\n\r\n      handleOk () {\r\n        this.close()\r\n      },\r\n      handleCancel () {\r\n        this.typeModel = null;\r\n        this.close()\r\n      },\r\n\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>"]}]}