{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\account\\settings\\New.vue?vue&type=style&index=0&id=83284b60&scoped=true&lang=less&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\account\\settings\\New.vue","mtime":1579587944315},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\css-loader\\index.js","mtime":1570780111199},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1570779225817},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\postcss-loader\\src\\index.js","mtime":1570780438513},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\less-loader\\dist\\cjs.js","mtime":1570780454546},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.wrap{\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n",{"version":3,"sources":["New.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8VA;AACA;AACA;AACA;AACA","file":"New.vue","sourceRoot":"src/views/account/settings","sourcesContent":["<template>\r\n  <div class=\"wrap\">\r\n    <a-spin :spinning=\"confirmLoading\">\r\n    <a-form :form=\"form\">\r\n\r\n      <div style=\"width: 100%; display: flex;align-items: center;\">\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\">\r\n          <img style=\"width: 41px;height: 32px;\" src=\"../../../../src/assets/switchSet@2x.png\"/>\r\n        </a-form-item>\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\">\r\n          <h3 style=\"padding: 4px 0 0 9px;font-weight: bolder;\">功能样式配置</h3>\r\n        </a-form-item>\r\n      </div>\r\n\r\n    <a-form-item\r\n      style=\"padding-bottom: 20px;border-bottom: 1px solid;\"\r\n      :labelCol=\"labelCol\"\r\n      :wrapperCol=\"wrapperCol\">\r\n      <span >AI语音 :&nbsp&nbsp</span><a-switch @change=\"onChange1\" v-model=\"iisAi\" checked-children=\"是\" un-checked-children=\"否\"></a-switch>\r\n      <span style=\"margin-left: 20px\">待办工作即时消息提醒 :&nbsp&nbsp</span><a-switch @change=\"onChange2\" v-model=\"iisMessages\" checked-children=\"是\" un-checked-children=\"否\"></a-switch>\r\n      <span style=\"margin-left: 20px\">折叠展示数据 :&nbsp&nbsp</span><a-switch @change=\"onChange3\" v-model=\"iisFold\"  checked-children=\"是\" un-checked-children=\"否\"></a-switch>\r\n      <span style=\"margin-left: 10px\">默认首页风格 :&nbsp&nbsp</span><a-switch @change=\"onChange4\" checked-children=\"日程办公\" v-model=\"iisCalendar\"   un-checked-children=\"传统首页\"></a-switch>\r\n    </a-form-item>\r\n   <!-- <a-form-item\r\n      :labelCol=\"labelCol\"\r\n      :wrapperCol=\"wrapperCol\">\r\n    <span>待办工作即时消息提醒 :&nbsp&nbsp</span><a-switch @change=\"onChange2\" v-model=\"iisMessages\" checked-children=\"是\" un-checked-children=\"否\"></a-switch>\r\n    </a-form-item>-->\r\n     <!-- <a-form-item\r\n        :labelCol=\"labelCol\"\r\n        :wrapperCol=\"wrapperCol\">\r\n        </a-form-item>-->\r\n      <!--<a-form-item\r\n        :labelCol=\"labelCol\"\r\n        :wrapperCol=\"wrapperCol\">\r\n      <span>默认首页风格 :&nbsp&nbsp</span><a-switch @change=\"onChange4\" checked-children=\"日程办公\" v-model=\"iisCalendar\"   un-checked-children=\"传统首页\"></a-switch>\r\n      </a-form-item>-->\r\n      <!--<a-form-item-->\r\n        <!--:labelCol=\"labelCol\"-->\r\n        <!--:wrapperCol=\"wrapperCol\" >-->\r\n        <!--<div style=\"width: 100%; display: flex;align-items: center;justify-content: space-between\">-->\r\n          <!--<span>时限待办纳入日程天数： &nbsp&nbsp</span>-->\r\n          <!--<a-input style=\"width: 480px;\" placeholder=\"时限待办纳入日程天数\" v-model=\"icalendarDay\" />-->\r\n        <!--</div>-->\r\n      <!--</a-form-item>-->\r\n\r\n      <!--<a-form-item-->\r\n        <!--:labelCol=\"labelCol\"-->\r\n        <!--:wrapperCol=\"wrapperCol\" >-->\r\n        <!--<div style=\"width: 100%; display: flex;align-items: center;justify-content: space-between\">-->\r\n          <!--<span>用户IP地址： &nbsp&nbsp</span>-->\r\n          <!--&lt;!&ndash;<a-input style=\"width: 480px;\" placeholder=\"用户IP地址\" v-model=\"ip\" />&ndash;&gt;-->\r\n          <!--<a-input style=\"width: 480px;\" placeholder=\"用户IP地址\" v-model=\"ip\" />-->\r\n        <!--</div>-->\r\n      <!--</a-form-item>-->\r\n\r\n      <div style=\"width: 100%; display: flex;align-items: center;\">\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\">\r\n          <img style=\"width: 44px;height: 44px;\" src=\"../../../../src/assets/modelSet@2x.png\"/>\r\n        </a-form-item>\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\">\r\n          <h3 style=\"padding: 4px 0 0 9px;font-weight: bolder;\">首页模块配置</h3>\r\n        </a-form-item>\r\n      </div>\r\n\r\n      <div style=\"width: 100%; display: flex;align-items: center;justify-content: space-between\">\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"列表办公(二行右侧)\\日程办公\">\r\n          <a-select v-model=\"ibus1Id\" style=\"width: 210px;\">\r\n            <a-select-option v-for=\"(item,index) in modelData\" :key=\"index\" :value=\"item.iid\">{{item.sname}}\r\n            </a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"列表办公(三行左侧)\">\r\n          <a-select v-model=\"ibus2Id\" style=\"width: 210px;\">\r\n            <a-select-option v-for=\"(item,index) in modelData\" :key=\"index\" :value=\"item.iid\">{{item.sname}}\r\n            </a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n      </div>\r\n       <div style=\"width: 100%; display: flex;align-items: center;justify-content: space-between\">\r\n         <a-form-item\r\n           :labelCol=\"labelCol\"\r\n           :wrapperCol=\"wrapperCol\"\r\n           label=\"列表办公(三行中侧)\">\r\n           <a-select  v-model=\"ibus3Id\" style=\"width: 210px;\">\r\n             <a-select-option v-for=\"(item,index) in modelData\" :key=\"index\" :value=\"item.iid\">{{item.sname}}\r\n             </a-select-option>\r\n           </a-select>\r\n         </a-form-item>\r\n         <a-form-item\r\n           :labelCol=\"labelCol\"\r\n           :wrapperCol=\"wrapperCol\"\r\n           label=\"列表办公(三行右侧)\">\r\n           <a-select  v-model=\"ibus4Id\" style=\"width: 210px;\">\r\n             <a-select-option v-for=\"(item,index) in modelData\" :key=\"index\" :value=\"item.iid\">{{item.sname}}\r\n             </a-select-option>\r\n           </a-select>\r\n         </a-form-item>\r\n       </div>\r\n      <div style=\"width: 100%; display: flex;align-items: center;justify-content: space-between\">\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"时限待办纳入日程天数：\">\r\n          <a-input style=\"width: 210px;\" placeholder=\"时限待办纳入日程天数\" v-model=\"icalendarDay\" />\r\n        </a-form-item>\r\n\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"用户IP地址：\">\r\n          <!--<a-input style=\"width: 480px;\" placeholder=\"用户IP地址\" v-model=\"ip\" />-->\r\n          <a-input style=\"width: 210px;border-color: transparent;\" placeholder=\"null\" v-model=\"ip\" />\r\n        </a-form-item>\r\n      </div>\r\n\r\n      <a-button icon=\"save\" @click=\"handleOk\" style=\"background: #b4d7ff\">保存</a-button>\r\n      <a-button icon=\"close-circle\" @click=\"handleCeal\" style=\"background: #b4d7ff;margin-left: 20px\">取消</a-button>\r\n    </a-form>\r\n    </a-spin>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\n  import { colorList } from '@/components/tools/setting'\r\n  import ASwitch from 'ant-design-vue/es/switch'\r\n  import AList from \"ant-design-vue/es/list\"\r\n  import AListItem from \"ant-design-vue/es/list/Item\"\r\n  import { mixin } from '@/utils/mixin.js'\r\n  import { httpAction,getAction,postAction } from '@/api/manage'\r\n  import pick from 'lodash.pick'\r\n  import ImgDragSort from \"../../jeecg/ImgDragSort\";\r\n\r\n\r\n  const Meta = AListItem.Meta\r\n\r\n  export default {\r\n    data () {\r\n      return {\r\n        userid:'',\r\n        iid:'',\r\n        labelCol: {\r\n          /*xs: { span: 24 },\r\n          sm: { span: 5 },*/\r\n        },\r\n        wrapperCol: {\r\n         /* xs: { span: 24 },\r\n          sm: { span: 16 },*/\r\n        },\r\n        confirmLoading: false,\r\n        selectedModel: null,\r\n        modelData: [],\r\n        url: {\r\n          add: \"/testt/sysUserSet/add\",\r\n          edit: \"/testt/sysUserSet/edit\",\r\n          changIp: \"/sys/user/changeIP\"\r\n        },\r\n        form: this.$form.createForm(this),\r\n        model: {},\r\n        // getdata:null,\r\n        iisAi:false,\r\n        iisMessages:false,\r\n        iisFold:false,\r\n        iisCalendar:false,\r\n        ibus1Id:'',\r\n        ibus2Id:'',\r\n        ibus3Id:'',\r\n        ibus4Id:'',\r\n        icalendarDay:'',\r\n        checked:true,\r\n        ip:'',\r\n        // isnewbody:''\r\n      }\r\n    },\r\n    inject:['reload'],\r\n    created () {\r\n      this.InitializeQuery();\r\n      this.getBusModelList();\r\n\r\n    },\r\n    watch: {\r\n      selectedModel: 'getBusModelList'\r\n    },\r\n    components: {\r\n      ImgDragSort,\r\n      AListItem,\r\n      AList,\r\n      ASwitch,\r\n      Meta\r\n    },\r\n    mixins: [mixin],\r\n    methods: {\r\n      //下拉选列表-所属功能\r\n      getBusModelList() {\r\n        let url = \"/oaBus/Calendar/oaCalendar/getFunctionName\";\r\n        getAction(url).then((res) => {\r\n          console.log(res.result);\r\n          this.modelData = res.result;\r\n        })\r\n      },\r\n\r\n      // 确认提交按钮   新增与编辑 判断\r\n      handleOk(){\r\n        console.log(this.isnewbody);\r\n        let subdata = {\r\n          iid:this.isnewbody ?this.getdata.iid:'',\r\n          ibus1Id:this.ibus1Id,\r\n          ibus2Id:this.ibus2Id,\r\n          ibus3Id:this.ibus3Id,\r\n          ibus4Id:this.ibus4Id,\r\n          iisAi:this.iisAi?1:0,\r\n          iisMessages:this.iisMessages?1:0,\r\n          iisFold:this.iisFold?1:0,\r\n          iisCalendar:this.iisCalendar?1:0,\r\n          icalendarDay:Number(this.icalendarDay)\r\n        }\r\n        let   param = {\r\n          ip:this.ip,\r\n        }\r\n        //编辑接口\r\n        if(this.isnewbody){\r\n          // console.log(subdata.iisCalendar);\r\n            postAction(this.url.edit,subdata).then((res) => {\r\n              this.$message.success(res.message);\r\n              this.reload();\r\n              // window.location.reload()\r\n              // if(subdata.iisCalendar==1){\r\n              //   this.$store.commit('setIndexOne')\r\n              //\r\n              // }else{\r\n              //   this.$store.commit('setIndexTwo')\r\n              // }\r\n              // console.log('//////////////////-----------------'+this.$store.state.indexState);\r\n\r\n            })\r\n\r\n             postAction(this.url.changIp,param).then((res) => {\r\n            /*  this.$message.success(res.message);*/\r\n              this.reload();\r\n            })\r\n\r\n        }else{\r\n           //  新增接口\r\n          postAction(this.url.add,subdata).then((res) => {\r\n              console.log(res.result);\r\n              this.$message.success(res.message);\r\n                this.reload();\r\n            // window.location.reload()\r\n            // if(subdata.iisCalendar==1){\r\n            //   this.$store.commit('setIndexOne')\r\n            // }else{\r\n            //   this.$store.commit('setIndexTwo')\r\n            // }\r\n            // console.log('//////////////////-----------------'+this.$store.state.indexState);\r\n\r\n          })\r\n          postAction(this.url.changIp,param).then((res) => {\r\n            this.$message.success(res.message);\r\n            this.reload();\r\n          })\r\n        }\r\n      },\r\n      InitializeQuery(){\r\n        const  userid =JSON.parse( localStorage.getItem('userdata')).userInfo.id;\r\n        console.log(userid);\r\n        this.userid = userid;\r\n        let url = \"/testt/sysUserSet/queryByUserId\";\r\n        getAction(url,{userId:userid}).then((res) => {\r\n          console.log(res.result);\r\n          this.isnewbody = res.result;\r\n          this.getdata = res.result;\r\n          //是否閱讀\r\n          if(this.getdata.iisAi){\r\n            this.iisAi = true;\r\n          }\r\n          //是否消息提醒\r\n          if(this.getdata.iisMessages){\r\n            this.iisMessages = true;\r\n          }\r\n          //是否展示數據\r\n          if(this.getdata.iisFold){\r\n            this.iisFold = true;\r\n          }\r\n          //是否日程辦公\r\n          if(this.getdata.iisCalendar){\r\n            this.iisCalendar = true;\r\n          }\r\n\r\n\r\n          this.ibus1Id = this.getdata.ibus1Id;\r\n          this.ibus2Id = this.getdata.ibus2Id;\r\n          this.ibus3Id = this.getdata.ibus3Id;\r\n          this.ibus4Id = this.getdata.ibus4Id;\r\n\r\n          this.icalendarDay = this.getdata.icalendarDay;\r\n          this.ip = this.getdata.ip\r\n\r\n\r\n        });\r\n      },\r\n      handleCeal(){\r\n           this.InitializeQuery();\r\n      },\r\n      onChange1 (checked) {\r\n\r\n          if(checked){\r\n            this.iisAi = 1;\r\n          }else{\r\n            this.iisAi = 0;\r\n          }},\r\n      onChange2 (checked) {\r\n        console.log(checked);\r\n          if(checked){\r\n            this.iisMessages = 1;\r\n          }else{\r\n            this.iisMessages = 0;\r\n          } },\r\n          onChange3 (checked) {\r\n          if(checked){\r\n            this.iisFold = 1;\r\n          }else{\r\n            this.iisFold = 0;\r\n          }},\r\n         onChange4 (checked) {\r\n          if(checked){\r\n            this.iisCalendar = 1;\r\n          }else{\r\n            this.iisCalendar = 0;\r\n          }},\r\n      close () {\r\n        this.visible = false;\r\n      },\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang=\"less\">\r\n  .wrap{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n</style>"]}]}