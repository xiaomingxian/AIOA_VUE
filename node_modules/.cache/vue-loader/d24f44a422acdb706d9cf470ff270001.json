{"remainingRequest":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\src\\views\\jeecg\\TableTotal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\src\\views\\jeecg\\TableTotal.vue","mtime":1568535250000},{"path":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1568345883000},{"path":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1568345858000},{"path":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1568345883000},{"path":"D:\\project\\workspaceideaIU\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1568345696000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'TableTotal',\n  data() {\n    return {\n      columns: [\n        {\n          title: '#',\n          width: '180px',\n          align: 'center',\n          dataIndex: 'rowIndex',\n          customRender: function (text, r, index) {\n            return (text !== '合计') ? (parseInt(index) + 1) : text\n          }\n        },\n        {\n          title: '姓名',\n          dataIndex: 'name',\n        },\n        {\n          title: '贡献点',\n          dataIndex: 'point',\n        },\n        {\n          title: '等级',\n          dataIndex: 'level',\n        },\n        {\n          title: '更新时间',\n          dataIndex: 'updateTime',\n        },\n      ],\n      dataSource: [\n        { name: '张三', point: 23, level: 3, updateTime: '2019-8-14' },\n        { name: '小王', point: 6, level: 1, updateTime: '2019-8-13' },\n        { name: '李四', point: 53, level: 8, updateTime: '2019-8-12' },\n        { name: '小红', point: 44, level: 5, updateTime: '2019-8-11' },\n        { name: '王五', point: 97, level: 10, updateTime: '2019-8-10' },\n        { name: '小明', point: 33, level: 2, updateTime: '2019-8-10' },\n      ]\n    }\n  },\n  mounted() {\n    this.tableAddTotalRow(this.columns, this.dataSource)\n  },\n  methods: {\n\n    /** 表格增加合计行 */\n    tableAddTotalRow(columns, dataSource) {\n      let numKey = 'rowIndex'\n      let totalRow = { [numKey]: '合计' }\n      columns.forEach(column => {\n        let { key, dataIndex } = column\n        if (![key, dataIndex].includes(numKey)) {\n\n          let total = 0\n          dataSource.forEach(data => {\n            total += /^\\d+\\.?\\d?$/.test(data[dataIndex]) ? Number.parseInt(data[dataIndex]) : Number.NaN\n            console.log(data[dataIndex], ':', (/^\\d+\\.?\\d?$/.test(data[dataIndex]) ? Number.parseInt(data[dataIndex]) : Number.NaN))\n          })\n\n          if (Number.isNaN(total)) {\n            total = '-'\n          }\n          totalRow[dataIndex] = total\n        }\n      })\n\n      dataSource.push(totalRow)\n    }\n\n  }\n}\n",{"version":3,"sources":["TableTotal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"TableTotal.vue","sourceRoot":"src/views/jeecg","sourcesContent":["<template>\r\n  <a-card :bordered=\"false\">\r\n    <a-table\r\n      rowKey=\"id\"\r\n      bordered\r\n      :columns=\"columns\"\r\n      :dataSource=\"dataSource\"\r\n      :pagination=\"false\"\r\n    >\r\n    </a-table>\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'TableTotal',\r\n    data() {\r\n      return {\r\n        columns: [\r\n          {\r\n            title: '#',\r\n            width: '180px',\r\n            align: 'center',\r\n            dataIndex: 'rowIndex',\r\n            customRender: function (text, r, index) {\r\n              return (text !== '合计') ? (parseInt(index) + 1) : text\r\n            }\r\n          },\r\n          {\r\n            title: '姓名',\r\n            dataIndex: 'name',\r\n          },\r\n          {\r\n            title: '贡献点',\r\n            dataIndex: 'point',\r\n          },\r\n          {\r\n            title: '等级',\r\n            dataIndex: 'level',\r\n          },\r\n          {\r\n            title: '更新时间',\r\n            dataIndex: 'updateTime',\r\n          },\r\n        ],\r\n        dataSource: [\r\n          { name: '张三', point: 23, level: 3, updateTime: '2019-8-14' },\r\n          { name: '小王', point: 6, level: 1, updateTime: '2019-8-13' },\r\n          { name: '李四', point: 53, level: 8, updateTime: '2019-8-12' },\r\n          { name: '小红', point: 44, level: 5, updateTime: '2019-8-11' },\r\n          { name: '王五', point: 97, level: 10, updateTime: '2019-8-10' },\r\n          { name: '小明', point: 33, level: 2, updateTime: '2019-8-10' },\r\n        ]\r\n      }\r\n    },\r\n    mounted() {\r\n      this.tableAddTotalRow(this.columns, this.dataSource)\r\n    },\r\n    methods: {\r\n\r\n      /** 表格增加合计行 */\r\n      tableAddTotalRow(columns, dataSource) {\r\n        let numKey = 'rowIndex'\r\n        let totalRow = { [numKey]: '合计' }\r\n        columns.forEach(column => {\r\n          let { key, dataIndex } = column\r\n          if (![key, dataIndex].includes(numKey)) {\r\n\r\n            let total = 0\r\n            dataSource.forEach(data => {\r\n              total += /^\\d+\\.?\\d?$/.test(data[dataIndex]) ? Number.parseInt(data[dataIndex]) : Number.NaN\r\n              console.log(data[dataIndex], ':', (/^\\d+\\.?\\d?$/.test(data[dataIndex]) ? Number.parseInt(data[dataIndex]) : Number.NaN))\r\n            })\r\n\r\n            if (Number.isNaN(total)) {\r\n              total = '-'\r\n            }\r\n            totalRow[dataIndex] = total\r\n          }\r\n        })\r\n\r\n        dataSource.push(totalRow)\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}