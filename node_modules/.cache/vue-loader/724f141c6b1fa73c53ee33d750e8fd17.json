{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\components\\layouts\\UserLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\components\\layouts\\UserLayout.vue","mtime":1579587944542},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport RouteView from \"@/components/layouts/RouteView\"\nimport { mixinDevice } from '@/utils/mixin.js'\nimport { getAction,postAction } from '@/api/manage'\nimport axios from 'axios'\nimport {ACCESS_TOKEN} from '@/store/mutation-types'\nimport Vue from 'vue'\n\nexport default {\n  name: \"UserLayout\",\n  components: { RouteView },\n  mixins: [mixinDevice],\n  data () {\n    return {\n      picDetail:{\n        pictrueText:'',\n        pic2:'',\n      },\n      url:{\n        getLoginText: '/oafile/LoginPicture/loginPictrue',\n      }\n    }\n  },\n  mounted () {\n    document.body.classList.add('userLayout')\n  },\n  beforeDestroy () {\n    document.body.classList.remove('userLayout')\n  },\n  created (){\n    this.showSign()\n  },\n  methods:{\n    getText(){\n      postAction(this.url.getLoginText).then(res => {\n        if (res.success){\n          if (this.getCaption(res.result.stable)[0] == ''){\n            this.picDetail.pictrueText = \"中国人民银行\";\n          } else {\n            if(typeof this.getCaption(res.result.stable) == 'object'){\n              this.picDetail.pictrueText = this.getCaption(res.result.stable)[0];\n            }else {\n              this.picDetail.pictrueText = res.result.stable;\n            }\n            console.log(this.picDetail.pictrueText)\n          }\n        }\n      })\n    },\n    //显示当前已确认使用的图片\n    showSign() {\n      this.getText();\n      this.picDetail.picurl2 = window._CONFIG['domianURL'] + '/oafile/signPicture/readPicture?resourceType=image',\n        axios.get(this.picDetail.picurl2, {\n          responseType: 'arraybuffer',\n          headers: {\n            'X-Access-Token': Vue.ls.get(ACCESS_TOKEN)\n          }\n        }).then(res => {\n          if(res.data.byteLength >= 10){\n            this.picDetail.pic2='data:image/png;base64,' + btoa( new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''));\n            this.visible = true;\n\n          }else{\n            this.picDetail.pic2 = \"\"\n          }\n        })\n    },\n    getCaption(obj,state){\n      let index = obj.lastIndexOf(\"\\&\");\n      if(index == -1){\n        return obj;\n      }else {\n        if(state == 0){\n          obj = obj.substring(0,index);\n        }else if(state == 1){\n          obj = obj.substring(index+1,obj.length);\n        }else {\n          obj = [obj.substring(0,index),obj.substring(index+1,obj.length)];\n        }\n      }\n      return obj;\n    }\n  }\n}\n",{"version":3,"sources":["UserLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserLayout.vue","sourceRoot":"src/components/layouts","sourcesContent":["<template>\r\n  <div id=\"userLayout\" :class=\"['user-layout-wrapper', device]\">\r\n    <div class=\"container\">\r\n      <div class=\"top\">\r\n        <div class=\"header\">\r\n          <a href=\"/\">\r\n            <img v-if=\"picDetail.pic2\" :src=\"picDetail.pic2\" class=\"logo\" alt=\"logo\">\r\n            <img v-else src=\"~@/assets/logo2x.png\" class=\"logo\" alt=\"logo\">\r\n            <span v-if=\"picDetail.pictrueText\"  class=\"title\">{{picDetail.pictrueText}}</span>\r\n            <!--<span v-else class=\"title\">AI综合办公服务平台</span>-->\r\n          </a>\r\n        </div>\r\n        <div class=\"desc\">\r\n          <!--Jeecg Boot 是中国最具影响力的 企业级 快速开发平台-->\r\n        </div>\r\n      </div>\r\n\r\n      <route-view></route-view>\r\n\r\n      <div class=\"footer\">\r\n        <!--<div class=\"links\">-->\r\n          <!--<a href=\"http://jeecg-boot.mydoc.io\" target=\"_blank\">帮助</a>-->\r\n          <!--<a href=\"https://github.com/zhangdaiscott/jeecg-boot\" target=\"_blank\">隐私</a>-->\r\n          <!--<a href=\"https://github.com/zhangdaiscott/jeecg-boot\" target=\"_blank\">条款</a>-->\r\n        <!--</div>-->\r\n        <!--<div class=\"copyright\">-->\r\n          <!--Copyright &copy; 2019 <a href=\"http://www.jeecg.org\" target=\"_blank\">JEECG开源社区</a> 出品-->\r\n        <!--</div> -->\r\n        <div class=\"copyright\">\r\n          中国金融电子化公司版权所有\r\n          <a-icon type=\"copyright\"/>\r\n          <span> 2016 All rights reserved</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import RouteView from \"@/components/layouts/RouteView\"\r\n  import { mixinDevice } from '@/utils/mixin.js'\r\n  import { getAction,postAction } from '@/api/manage'\r\n  import axios from 'axios'\r\n  import {ACCESS_TOKEN} from '@/store/mutation-types'\r\n  import Vue from 'vue'\r\n\r\n  export default {\r\n    name: \"UserLayout\",\r\n    components: { RouteView },\r\n    mixins: [mixinDevice],\r\n    data () {\r\n      return {\r\n        picDetail:{\r\n          pictrueText:'',\r\n          pic2:'',\r\n        },\r\n        url:{\r\n          getLoginText: '/oafile/LoginPicture/loginPictrue',\r\n        }\r\n      }\r\n    },\r\n    mounted () {\r\n      document.body.classList.add('userLayout')\r\n    },\r\n    beforeDestroy () {\r\n      document.body.classList.remove('userLayout')\r\n    },\r\n    created (){\r\n      this.showSign()\r\n    },\r\n    methods:{\r\n      getText(){\r\n        postAction(this.url.getLoginText).then(res => {\r\n          if (res.success){\r\n            if (this.getCaption(res.result.stable)[0] == ''){\r\n              this.picDetail.pictrueText = \"中国人民银行\";\r\n            } else {\r\n              if(typeof this.getCaption(res.result.stable) == 'object'){\r\n                this.picDetail.pictrueText = this.getCaption(res.result.stable)[0];\r\n              }else {\r\n                this.picDetail.pictrueText = res.result.stable;\r\n              }\r\n              console.log(this.picDetail.pictrueText)\r\n            }\r\n          }\r\n        })\r\n      },\r\n      //显示当前已确认使用的图片\r\n      showSign() {\r\n        this.getText();\r\n        this.picDetail.picurl2 = window._CONFIG['domianURL'] + '/oafile/signPicture/readPicture?resourceType=image',\r\n          axios.get(this.picDetail.picurl2, {\r\n            responseType: 'arraybuffer',\r\n            headers: {\r\n              'X-Access-Token': Vue.ls.get(ACCESS_TOKEN)\r\n            }\r\n          }).then(res => {\r\n            if(res.data.byteLength >= 10){\r\n              this.picDetail.pic2='data:image/png;base64,' + btoa( new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''));\r\n              this.visible = true;\r\n\r\n            }else{\r\n              this.picDetail.pic2 = \"\"\r\n            }\r\n          })\r\n      },\r\n      getCaption(obj,state){\r\n        let index = obj.lastIndexOf(\"\\&\");\r\n        if(index == -1){\r\n          return obj;\r\n        }else {\r\n          if(state == 0){\r\n            obj = obj.substring(0,index);\r\n          }else if(state == 1){\r\n            obj = obj.substring(index+1,obj.length);\r\n          }else {\r\n            obj = [obj.substring(0,index),obj.substring(index+1,obj.length)];\r\n          }\r\n        }\r\n        return obj;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  #userLayout.user-layout-wrapper {\r\n    height: 100%;\r\n\r\n    &.mobile {\r\n      .container {\r\n        .main {\r\n          max-width: 368px;\r\n          width: 98%;\r\n        }\r\n      }\r\n    }\r\n\r\n    .container {\r\n      width: 100%;\r\n      min-height: 100%;\r\n      background: #f0f2f5 url(~@/assets/background.svg) no-repeat 50%;\r\n      background-size: 100%;\r\n      padding: 110px 0 144px;\r\n      position: relative;\r\n\r\n      a {\r\n        text-decoration: none;\r\n      }\r\n\r\n      .top {\r\n        text-align: center;\r\n\r\n        .header {\r\n          width:176%;\r\n          height: 44px;\r\n          line-height: 44px;\r\n          position: fixed;\r\n          left: -67%;\r\n          top: 26%;\r\n\r\n          .badge {\r\n            position: absolute;\r\n            display: inline-block;\r\n            line-height: 1;\r\n            vertical-align: middle;\r\n            margin-left: -12px;\r\n            margin-top: -10px;\r\n            opacity: 0.8;\r\n          }\r\n\r\n          .logo {\r\n            height: 44px;\r\n            vertical-align: top;\r\n            /*margin-right: 16px;*/\r\n            border-style: none;\r\n          }\r\n\r\n          .title {\r\n            font-size: 26px;\r\n            color: rgba(0, 0, 0, .85);\r\n            /*background-color: #f0f2f5;*/\r\n            background-color: transparent !important;\r\n            font-family: \"Chinese Quote\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"Helvetica Neue\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\r\n            font-weight: 600;\r\n            position: relative;\r\n            top: 2px;\r\n          }\r\n        }\r\n        .desc {\r\n          font-size: 14px;\r\n          color: rgba(0, 0, 0, 0.45);\r\n          margin-top: 12px;\r\n          margin-bottom: 40px;\r\n        }\r\n      }\r\n\r\n      .main {\r\n        min-width: 260px;\r\n        width: 368px;\r\n        margin: 0 auto;\r\n      }\r\n\r\n      .footer {\r\n        position: absolute;\r\n        width: 100%;\r\n        bottom: 0;\r\n        padding: 0 16px;\r\n        margin: 48px 0 24px;\r\n        text-align: center;\r\n\r\n        .links {\r\n          margin-bottom: 8px;\r\n          font-size: 14px;\r\n          a {\r\n            color: rgba(0, 0, 0, 0.45);\r\n            transition: all 0.3s;\r\n            &:not(:last-child) {\r\n              margin-right: 40px;\r\n            }\r\n          }\r\n        }\r\n        .copyright {\r\n          color: rgba(0, 0, 0, 0.45);\r\n          font-size: 14px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}