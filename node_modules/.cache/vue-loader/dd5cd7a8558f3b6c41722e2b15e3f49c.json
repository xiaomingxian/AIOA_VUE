{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\dashboard\\Analysis.vue?vue&type=style&index=0&id=5391d79e&lang=less&scoped=true&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\dashboard\\Analysis.vue","mtime":1574845323980},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\css-loader\\index.js","mtime":1570780111199},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1570779225817},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\postcss-loader\\src\\index.js","mtime":1570780438513},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\less-loader\\dist\\cjs.js","mtime":1570780454546},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.wrap{\n  width: 100%;\n  .nav{\n    width: 100%;\n    height: 100px;\n    background: #ffffff;\n    display:flex;\n    align-items: center;\n    .ant-btn{\n      margin-left: 30px;\n    }\n\n    .serch{\n      /*width: 500px;*/\n      display:flex;\n      align-items: center;\n      margin-left: 30px;\n      justify-content: space-between;\n      span{\n        display: block;\n        /*width: 95px;*/\n      }\n\n    }\n  }\n  .box{\n    width: 100%;\n    height: auto;\n    margin-top: 15px;\n    .top,.bottom{\n      width: 100%;\n      height: 300px;\n\n      /*background: #dddddd;*/\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      .left,.right{\n        width: 60%;\n        height: 100%;\n        padding: 10px;\n        background: #ffffff;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-start;\n\n        .titlebox{\n          width: 100%;\n          height: 50px;\n\n          /*background: #f0f2f5;*/\n          border-bottom: 1px solid #f0f2f5;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          span{\n            font-size: 16px;\n            /*font-weight: bold;*/\n          }\n\n        }\n\n        .itemline{\n          width: 100%;\n          height:200px;\n          /*background: #999999;*/\n          padding: 10px;\n          p{\n            width: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding-bottom: 5px;\n            border-bottom: 1px solid #f0f2f5;\n            span{\n              font-size: 14px;\n            }\n          }\n        }\n      }\n\n\n      .right{\n        width: 39%;\n        height: 100%;\n        padding: 10px;\n        /*background: #dddddd;*/\n        /*display: flex;*/\n        /*flex-direction: column;*/\n        /*align-items: center;*/\n        /*justify-content: flex-start;*/\n      }\n    }\n    .bottom{\n      margin-top: 15px;\n\n      .bottomleft{\n        width: 60%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        .first,.last{\n          width: 49.8%;\n          height: 100%;\n          /*background: firebrick;*/\n          background: #ffffff;\n\n          padding: 10px;\n          .titlebox{\n            width: 100%;\n            height: 50px;\n            border-bottom: 1px solid #f0f2f5;\n\n            /*background: #f2dede;*/\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            span{\n              font-size: 16px;\n              /*font-weight: bold;*/\n            }\n\n          }\n\n          .itemline{\n            width: 100%;\n            height:200px;\n            /*background: #999999;*/\n            padding: 10px;\n            p{\n              width: 100%;\n              display: flex;\n              align-items: center;\n              justify-content: space-between;\n              padding-bottom: 5px;\n              border-bottom: 1px solid #f0f2f5;\n\n              span{\n                font-size: 14px;\n              }\n            }\n          }\n        }\n\n      }\n    }\n  }\n}\n",{"version":3,"sources":["Analysis.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Analysis.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\r\n  <div class=\"wrap\">\r\n       <div class=\"nav\">\r\n            <a-button type=\"primary\" icon=\"message\">消息提醒</a-button>\r\n            <a-button type=\"primary\"  icon=\"message\">代办业务</a-button>\r\n            <a-button type=\"primary\"  icon=\"message\">已办业务</a-button>\r\n            <div class=\"serch\">\r\n                  <span>公文检索：</span>\r\n                  <a-input\r\n                    style=\"width: 240px;\"\r\n                  ></a-input>\r\n             </div>\r\n            <div class=\"serch\">\r\n              <span>内部链接：</span>\r\n              <a-select\r\n                style=\"width: 240px;\"\r\n              >\r\n                  <a-select-option value=\"jack\">jack</a-select-option>\r\n                  <a-select-option value=\"lucy\">lucy</a-select-option>\r\n              </a-select>\r\n            </div>\r\n       </div>\r\n\r\n    <div class=\"box\">\r\n        <div class=\"top\">\r\n            <div class=\"left\">\r\n                  <p class=\"titlebox\">\r\n                     <span>待办工作|在办工作</span>\r\n                     <span>您还有{{total}}项代办工作</span>\r\n                  </p>\r\n              <div class=\"itemline\">\r\n                <p class=\"each\" v-for=\"(item,index) in data\" :key=\"index\">\r\n                  <span>{{item.title}}</span>\r\n                  <span >\r\n                            {{item.createTime}}\r\n\r\n                  </span>\r\n                  <a @click=\"doTask(record)\">办理</a>\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div class=\"right\">\r\n              <p class=\"titlebox\">\r\n                <span>{{model1}}</span>\r\n                <span>更多  <a-icon type=\"right\"></a-icon> </span>\r\n              </p>\r\n              <div class=\"itemline\">\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"bottom\">\r\n        <div class=\"bottomleft\">\r\n            <div class=\"first\">\r\n              <p class=\"titlebox\">\r\n                <span>{{model2}}</span>\r\n                <span>更多  <a-icon type=\"right\"></a-icon> </span>\r\n              </p>\r\n              <div class=\"itemline\">\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n\r\n              </div>\r\n            </div>\r\n            <div class=\"last\">\r\n              <p class=\"titlebox\">\r\n                <span>{{model3}}</span>\r\n                <span>更多   <a-icon type=\"right\"></a-icon>  </span>\r\n              </p>\r\n              <div class=\"itemline\">\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n                <p>\r\n                  <span>[业务审批单]</span>\r\n                  <span>2018-12-05 23:25:55</span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"right\">\r\n          <p class=\"titlebox\">\r\n            <span>{{model4}}</span>\r\n            <span>更多  <a-icon type=\"right\"></a-icon> </span>\r\n          </p>\r\n          <div class=\"itemline\">\r\n            <p>\r\n              <span>[业务审批单]</span>\r\n              <span>2018-12-05 23:25:55</span>\r\n            </p>\r\n            <p>\r\n              <span>[业务审批单]</span>\r\n              <span>2018-12-05 23:25:55</span>\r\n            </p>\r\n            <p>\r\n              <span>[业务审批单]</span>\r\n              <span>2018-12-05 23:25:55</span>\r\n            </p>\r\n            <p>\r\n              <span>[业务审批单]</span>\r\n              <span>2018-12-05 23:25:55</span>\r\n            </p>\r\n            <p>\r\n              <span>[业务审批单]</span>\r\n              <span>2018-12-05 23:25:55</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<do-task-modal @reload_todo=\"reload\" ref=\"doTaskModal\" @ok=\"modalFormOk\"></do-task-modal>\r\n\r\n<script>\r\n  import { httpAction,getAction,postAction } from '@/api/manage'\r\n  import Vue from 'vue'\r\n  import {JeecgListMixin} from '@/mixins/JeecgListMixin'\r\n  import doTaskModal from '../mytask/modules/doTaskModal'\r\n  export default {\r\n    data () {\r\n      return {\r\n        model1:'',\r\n        model2:'',\r\n        model3:'',\r\n        model4:'',\r\n        total:'',\r\n        data:[],\r\n        url: {\r\n          list: \"/wf/task/queryTask?operstatus=task_todo\",\r\n          yewuDataQuery: window._CONFIG['domianURL'] + \"/oaBus/dynamic/query\",\r\n          doTask: window._CONFIG['domianURL'] + \"/wf/process/processDel\",\r\n        },\r\n      }\r\n    },\r\n    created () {\r\n      //獲取用戶基本信息\r\n      const  userid =JSON.parse( localStorage.getItem('userdata')).userInfo.id;\r\n      console.log(userid);\r\n      this.userid = userid;\r\n      //初始化查詢結果\r\n      let url = \"/oaBus/homeAnalysis/HomeList?&userId=\"+userid;\r\n      getAction(url).then((res) => {\r\n        console.log(res);\r\n        this.model1 = res.model1.sName;\r\n        this.model2 = res.model2.sName;\r\n        this.model3 = res.model3.sName;\r\n        this.model4 = res.model4.sName;\r\n\r\n      });\r\n\r\n       this.reload();\r\n\r\n    },\r\n    watch: {\r\n\r\n    },\r\n    components: {\r\n      doTaskModal\r\n    },\r\n    methods: {\r\n\r\n     reload(){\r\n       getAction(this.url.list).then((res) => {\r\n         if (res.success) {\r\n           console.log(res.result.records);\r\n           this.data = res.result.records;\r\n           this.total = res.result.total;\r\n         }\r\n         if (res.code === 510) {\r\n           this.$message.warning(res.message)\r\n         }\r\n         this.loading = false;\r\n       })\r\n     },\r\n      doTask(record) {\r\n         alert(\"21312\")\r\n        console.log(record);\r\n        //查询---业务数据--流程信息\r\n        var taskDetail = {}\r\n        postAction(this.url.yewuDataQuery, {i_id: record.tableId, table: record.table}).then(res => {\r\n          if (res.success) {\r\n            taskDetail = res.result.records[0]\r\n            //业务和流程关联配置表（流程KEY、按钮、意见） 主键\r\n            taskDetail['iprocSetId'] = record.busAndActId\r\n            taskDetail['taskDefinitionKey'] = record.taskDefinitionKey\r\n            this.$refs[record.pageRef].showTaskInAct(taskDetail, record)\r\n            this.$refs.doTaskModal.title = '任务办理'\r\n          } else {\r\n            this.$message.error(res.message)\r\n            return\r\n          }\r\n        })\r\n\r\n\r\n      },\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .wrap{\r\n    width: 100%;\r\n    .nav{\r\n      width: 100%;\r\n      height: 100px;\r\n      background: #ffffff;\r\n      display:flex;\r\n      align-items: center;\r\n      .ant-btn{\r\n        margin-left: 30px;\r\n      }\r\n\r\n      .serch{\r\n        /*width: 500px;*/\r\n        display:flex;\r\n        align-items: center;\r\n        margin-left: 30px;\r\n        justify-content: space-between;\r\n        span{\r\n          display: block;\r\n          /*width: 95px;*/\r\n        }\r\n\r\n      }\r\n    }\r\n    .box{\r\n      width: 100%;\r\n      height: auto;\r\n      margin-top: 15px;\r\n      .top,.bottom{\r\n        width: 100%;\r\n        height: 300px;\r\n\r\n        /*background: #dddddd;*/\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        .left,.right{\r\n          width: 60%;\r\n          height: 100%;\r\n          padding: 10px;\r\n          background: #ffffff;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: flex-start;\r\n\r\n          .titlebox{\r\n            width: 100%;\r\n            height: 50px;\r\n\r\n            /*background: #f0f2f5;*/\r\n            border-bottom: 1px solid #f0f2f5;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            span{\r\n              font-size: 16px;\r\n              /*font-weight: bold;*/\r\n            }\r\n\r\n          }\r\n\r\n          .itemline{\r\n            width: 100%;\r\n            height:200px;\r\n            /*background: #999999;*/\r\n            padding: 10px;\r\n            p{\r\n              width: 100%;\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: space-between;\r\n              padding-bottom: 5px;\r\n              border-bottom: 1px solid #f0f2f5;\r\n              span{\r\n                font-size: 14px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n\r\n        .right{\r\n          width: 39%;\r\n          height: 100%;\r\n          padding: 10px;\r\n          /*background: #dddddd;*/\r\n          /*display: flex;*/\r\n          /*flex-direction: column;*/\r\n          /*align-items: center;*/\r\n          /*justify-content: flex-start;*/\r\n        }\r\n      }\r\n      .bottom{\r\n        margin-top: 15px;\r\n\r\n        .bottomleft{\r\n          width: 60%;\r\n          height: 100%;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          .first,.last{\r\n            width: 49.8%;\r\n            height: 100%;\r\n            /*background: firebrick;*/\r\n            background: #ffffff;\r\n\r\n            padding: 10px;\r\n            .titlebox{\r\n              width: 100%;\r\n              height: 50px;\r\n              border-bottom: 1px solid #f0f2f5;\r\n\r\n              /*background: #f2dede;*/\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: space-between;\r\n              span{\r\n                font-size: 16px;\r\n                /*font-weight: bold;*/\r\n              }\r\n\r\n            }\r\n\r\n            .itemline{\r\n              width: 100%;\r\n              height:200px;\r\n              /*background: #999999;*/\r\n              padding: 10px;\r\n              p{\r\n                width: 100%;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: space-between;\r\n                padding-bottom: 5px;\r\n                border-bottom: 1px solid #f0f2f5;\r\n\r\n                span{\r\n                  font-size: 14px;\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}