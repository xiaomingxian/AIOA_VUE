{"remainingRequest":"D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\src\\views\\jeecg\\report\\Analysis.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\src\\views\\jeecg\\report\\Analysis.vue","mtime":1568535247777},{"path":"D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1568345883562},{"path":"D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1568345858740},{"path":"D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1568345883562},{"path":"D:\\ProgramFiles\\ideaIUWork\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1568345696677}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ChartCard from '@/components/ChartCard'\nimport ACol from \"ant-design-vue/es/grid/Col\"\nimport ATooltip from \"ant-design-vue/es/tooltip/Tooltip\"\nimport MiniArea from '@/components/chart/MiniArea'\nimport MiniBar from '@/components/chart/MiniBar'\nimport LineChartMultid from '@/components/chart/LineChartMultid'\nimport AreaChartTy from '@/components/chart/AreaChartTy'\nimport DashChartDemo from '@/components/chart/DashChartDemo'\nimport BarMultid from '@/components/chart/BarMultid'\nimport MiniProgress from '@/components/chart/MiniProgress'\nimport RankList from '@/components/chart/RankList'\nimport Bar from '@/components/chart/Bar'\nimport Trend from '@/components/Trend'\nimport { getAction } from '@/api/manage'\nimport { filterObj } from '@/utils/util'\nimport moment from 'dayjs'\n\nconst rankList = []\nfor (let i = 0; i < 7; i++) {\n  rankList.push({\n    name: '白鹭岛 ' + (i+1) + ' 号店',\n    total: 1234.56 - i * 100\n  })\n}\n\nconst dataCol1 = [{\n  title: '业务号',\n  align:\"center\",\n  dataIndex: 'reBizCode'\n},{\n  title: '权利类型',\n  align:\"center\",\n  dataIndex: 'droitType'\n},{\n  title: '登记类型',\n  align:\"center\",\n  dataIndex: 'registeType'\n},{\n  title: '座落',\n  align:\"center\",\n  dataIndex: 'beLocated'\n},{\n  title: '权利人',\n  align:\"center\",\n  dataIndex: 'qlr'\n},{\n  title: '义务人',\n  align:\"center\",\n  dataIndex: 'ywr'\n},{\n  title: '受理人',\n  align:\"center\",\n  dataIndex: 'acceptBy'\n},{\n  title: '受理时间',\n  align:\"center\",\n  dataIndex: 'acceptDate'\n},{\n  title: '当前节点',\n  align:\"center\",\n  dataIndex: 'curNode'\n},{\n  title: '办理进度',\n  align:\"center\",\n  dataIndex: 'flowRate',\n  scopedSlots: { customRender: 'flowRate' }\n}];\n\nconst dataCol2 = [{\n  title: '业务号',\n  align:\"center\",\n  dataIndex: 'reBizCode'\n},{\n  title: '权利类型',\n  align:\"center\",\n  dataIndex: 'droitType'\n},{\n  title: '登记类型',\n  align:\"center\",\n  dataIndex: 'registeType'\n},{\n  title: '座落',\n  align:\"center\",\n  dataIndex: 'beLocated'\n},{\n  title: '权利人',\n  align:\"center\",\n  dataIndex: 'qlr'\n},{\n  title: '义务人',\n  align:\"center\",\n  dataIndex: 'ywr'\n},{\n  title: '受理人',\n  align:\"center\",\n  dataIndex: 'acceptBy'\n},{\n  title: '发起时间',\n  align:\"center\",\n  dataIndex: 'acceptDate'\n},{\n  title: '当前节点',\n  align:\"center\",\n  dataIndex: 'curNode'\n},{\n  title: '超时时间',\n  align:\"center\",\n  dataIndex: 'flowRate',\n  scopedSlots: { customRender: 'flowRate' }\n}];\n\nconst jhjgData = [\n  { type: '房管', '一月': 900, '二月': 1120, '三月': 1380, '四月': 1480, '五月': 1450, '六月': 1100, '七月':1300, '八月':900,'九月':1000 ,'十月':1200 ,'十一月':600 ,'十二月':900 },\n  { type: '税务', '一月':1200, '二月': 1500, '三月': 1980, '四月': 2000, '五月': 1000, '六月': 600, '七月':900, '八月':1100,'九月':1300 ,'十月':2000 ,'十一月':900 ,'十二月':1100 },\n  { type: '不动产', '一月':2000, '二月': 1430, '三月': 1300, '四月': 1400, '五月': 900, '六月': 500, '七月':600, '八月':1000,'九月':600 ,'十月':1000 ,'十一月':1500 ,'十二月':1200 }\n]\nconst jhjgFields=[\n  '一月','二月','三月','四月','五月','六月',\n  '七月','八月','九月','十月','十一月','十二月'\n]\n\n\nconst xljgData = [\n  {type:'一月',\"房管\":1.12,\"税务\":1.55,\"不动产\":1.2},\n  {type:'二月',\"房管\":1.65,\"税务\":1.32,\"不动产\":1.42},\n  {type:'三月',\"房管\":1.85,\"税务\":1.1,\"不动产\":1.5},\n\n  {type:'四月',\"房管\":1.33,\"税务\":1.63,\"不动产\":1.4},\n  {type:'五月',\"房管\":1.63,\"税务\":1.8,\"不动产\":1.7},\n  {type:'六月',\"房管\":1.85,\"税务\":1.98,\"不动产\":1.8},\n\n  {type:'七月',\"房管\":1.98,\"税务\":1.5,\"不动产\":1.76},\n  {type:'八月',\"房管\":1.48,\"税务\":1.2,\"不动产\":1.3},\n  {type:'九月',\"房管\":1.41,\"税务\":1.9,\"不动产\":1.6},\n\n  {type:'十月',\"房管\":1.1,\"税务\":1.1,\"不动产\":1.4},\n  {type:'十一月',\"房管\":1.85,\"税务\":1.6,\"不动产\":1.5},\n  {type:'十二月',\"房管\":1.5,\"税务\":1.4,\"不动产\":1.3}\n]\nconst xljgFields=[\"房管\",\"税务\",\"不动产\"]\nexport default {\n  name: \"Analysis\",\n  components: {\n    ATooltip,\n    ACol,\n    ChartCard,\n    MiniArea,\n    MiniBar,\n    MiniProgress,\n    RankList,\n    Bar,\n    Trend,\n    LineChartMultid,\n    AreaChartTy,\n    DashChartDemo,\n    BarMultid\n  },\n  data() {\n    return {\n      xljgData,\n      xljgFields,\n      jhjgData,\n      jhjgFields,\n      loading: true,\n      rankList,\n      zsll:0,\n      zbjl:0,\n      todaySll:0,\n      todayBjl:0,\n      todayISll:0,\n      todayIBjl:0,\n    registerTypeList:[{\n        text:\"业务受理\"\n      },{\n        text:\"业务管理\"\n      },{\n        text:\"文件管理\"\n      },{\n        text:\"信息查询\"\n      }],\n      // 分页参数\n      ipagination:{\n        current: 1,\n        pageSize: 5,\n        pageSizeOptions: ['10', '20', '30'],\n        showTotal: (total, range) => {\n          return range[0] + \"-\" + range[1] + \" 共\" + total + \"条\"\n        },\n        showQuickJumper: true,\n        showSizeChanger: true,\n        total: 0\n      },\n      //数据集\n      dataSource:[],\n      dataSource1:[],\n      dataSource2:[],\n      url:{\n        analysis:\"/sps/register/analysis\",\n        list:\"sps/register/virtualList\",\n        countSll:\"sps/register/sllTenDaysCount\",\n        countBjl:\"sps/register/bjlTenDaysCount\",\n        countISll:'sps/register/ISllTenDaysCount',\n        countIBjl:'sps/register/IBjlTenDaysCount',\n        queryDiskInfo:'api/queryDiskInfo'\n      },\n      chartData:{\n        sll:[],\n        bjl:[],\n        isll:[],\n        ibjl:[]\n      },\n      cardCount:{\n        sll:0,\n        bjl:0,\n        isll:0,\n        ibjl:0\n      },\n      columns:dataCol1,\n      columns2:dataCol2,\n      diskInfo:[]\n    }\n  },\n  methods:{\n    goPage(index){\n      if(index==0){\n        this.$router.push({\n          path: '/isps/registerStepForm',\n          name: 'isps-registerStepForm',\n        });\n      }else if(index==1){\n        this.$router.push({\n          path: '/isps/registerList',\n          name: 'isps-registerList',\n        });\n\n      }else if(index==2){\n        this.$router.push({\n          path: '/isps/fileManage',\n          name: 'isps-fileManage',\n        });\n      }else if(index==3){\n        this.$router.push({\n          path: '/isps/infoSearch',\n          name: 'isps-infoSearch',\n        });\n      }\n    },\n    loadList (arg){\n      if(arg===1){\n        this.ipagination.current = 1;\n      }\n      var params = this.getQueryParams();//查询条件\n      getAction(this.url.list,params).then((res)=>{\n        console.log(\"dsdsd\",res.result)\n        this.dataSource1 = res.result.data1;\n        this.dataSource2 = res.result.data2;\n        this.ipagination.total = 5;\n      });\n    },\n    getQueryParams(){\n      var param = {flowStatus:\"-3\"};\n      param.pageNo = this.ipagination.current;\n      param.pageSize = this.ipagination.pageSize;\n      return filterObj(param);\n    },\n    formatRespectiveHoldCert(value){\n      return (value==\"1\"||eval(value))?\"是\":\"否\"\n    },\n    formatCertFormat(value){\n      if(value==\"1\"){\n        return \"单一版\"\n      }else if(value==\"2\"){\n        return \"集成版\"\n      }else{\n        return value;\n      }\n    },\n    getFlowRateNumber(value){\n      return Number(value)\n    },\n    getFlowPercent(record){\n      if(record.flowStatus==\"3\"){\n        return 100\n      }else if(record.flowStatus==\"0\"){\n        return 0\n      }else{\n        return record.flowRate\n      }\n    },\n    getFlowStatus(status){\n      if(status==\"4\"){\n        return \"exception\";\n      }else if(status==\"0\"){\n        return \"normal\";\n      }else if(status==\"3\"){\n        return \"success\";\n      }else{\n        return \"active\";\n      }\n\n    },\n    queryCount(){\n      getAction(this.url.analysis).then((res)=>{\n        if(res.success){\n          this.cardCount = res.result\n        }\n        console.log(res);\n      });\n    },\n\n    loadDiskInfo(){\n      getAction(this.url.queryDiskInfo).then((res)=>{\n        if(res.success){\n          console.log(res.result)\n          let one=0,two=\"\";\n          for(let a in res.result){\n            let tempNum = Number(res.result[a].max)\n            if(tempNum>one){\n              one = tempNum\n              two = res.result[a].name\n            }\n          }\n          let ontItem = res.result.filter((item)=>{return item.name == two})[0]\n          ontItem.restPPT = ontItem.restPPT/10\n          this.diskInfo.push(ontItem);\n\n          if(res.result.length>1){\n            let one2=0,two2=\"\";\n            for(let a in res.result){\n              if(res.result[a].name == two){\n                continue;\n              }\n              let tempNum = Number(res.result[a].max)\n              if(tempNum>one2){\n                one2 = tempNum\n                two2 = res.result[a].name\n              }\n            }\n            let one2Item = res.result.filter((item)=>{return item.name == two2})[0]\n            one2Item.restPPT = one2Item.restPPT/10\n            this.diskInfo.push(one2Item);\n          }\n\n        }else{\n          console.log(res.message)\n        }\n      })\n    },\n    loadChartData(){\n      getAction(this.url.countSll).then((res)=>{\n        if(res.success){\n          let map = res.result;\n          for(var key in map){\n            let dataStr = key;\n            let value = map[key];\n            let today = moment(new Date()).format('YYYY-MM-DD');\n            if(dataStr == today){\n              this.todaySll = map[today];\n            }\n            this.chartData.sll.push({\n              x: dataStr,\n              y: value\n            });\n          }\n        }\n\n      }),\n        getAction(this.url.countBjl).then((res)=>{\n          if(res.success){\n            let map = res.result;\n            for(var key in map){\n              let dataStr = key;\n              let value = map[key];\n              let today = moment(new Date()).format('YYYY-MM-DD');\n              if(dataStr == today){\n                this.todayBjl = map[today];\n              }\n              this.chartData.bjl.push({\n                x: dataStr,\n                y: value\n              });\n            }\n          }\n        }),\n        getAction(this.url.countISll).then((res)=>{\n          if(res.success){\n            let map = res.result;\n            for(var key in map){\n              let dataStr = key;\n              let value = map[key];\n              let today = moment(new Date()).format('YYYY-MM-DD');\n              if(dataStr == today){\n                this.todayISll = map[today];\n              }\n              this.chartData.isll.push({\n                x: key,\n                y: value\n              });\n            }\n          }\n        }),\n        getAction(this.url.countIBjl).then((res)=>{\n          if(res.success){\n            let map = res.result;\n            for(var key in map){\n              let dataStr = key;\n              let value = map[key];\n              let today = moment(new Date()).format('YYYY-MM-DD');\n              if(dataStr == today){\n                this.todayIBjl = map[today];\n              }\n              this.chartData.ibjl.push({\n                x: key,\n                y: value\n              });\n            }\n          }\n        })\n    }\n  },\n  created() {\n    this.loadDiskInfo()\n    this.queryCount();\n    this.loadChartData();\n    this.loadList(1);\n    setTimeout(() => {\n      this.loading = !this.loading\n    }, 1000)\n  }\n}\n",{"version":3,"sources":["Analysis.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Analysis.vue","sourceRoot":"src/views/jeecg/report","sourcesContent":["<template>\r\n  <div class=\"page-header-index-wide\">\r\n    <a-row :gutter=\"24\">\r\n      <a-col :sm=\"24\" :md=\"12\" :xl=\"6\" :style=\"{ marginBottom: '24px' }\">\r\n        <chart-card :loading=\"loading\" title=\"受理量\" :total=\"cardCount.sll | NumberFormat\">\r\n          <a-tooltip title=\"指标说明\" slot=\"action\">\r\n            <a-icon type=\"info-circle-o\" />\r\n          </a-tooltip>\r\n          <div>\r\n            <mini-area :dataSource=\"chartData.sll\" />\r\n          </div>\r\n          <template slot=\"footer\">今日受理量：<span>{{ todaySll }}</span></template>\r\n        </chart-card>\r\n      </a-col>\r\n      <a-col :sm=\"24\" :md=\"12\" :xl=\"6\" :style=\"{ marginBottom: '24px' }\">\r\n        <chart-card :loading=\"loading\" title=\"办结量\" :total=\"cardCount.bjl | NumberFormat\">\r\n          <a-tooltip title=\"指标说明\" slot=\"action\">\r\n            <a-icon type=\"info-circle-o\" />\r\n          </a-tooltip>\r\n          <div>\r\n            <mini-area :dataSource=\"chartData.bjl\"/>\r\n          </div>\r\n          <template slot=\"footer\">今日办结量：<span>{{ todayBjl }}</span></template>\r\n        </chart-card>\r\n      </a-col>\r\n      <a-col :sm=\"24\" :md=\"12\" :xl=\"6\" :style=\"{ marginBottom: '24px' }\">\r\n        <chart-card :loading=\"loading\" title=\"用户受理量\" :total=\"cardCount.isll | NumberFormat\">\r\n          <a-tooltip title=\"指标说明\" slot=\"action\">\r\n            <a-icon type=\"info-circle-o\" />\r\n          </a-tooltip>\r\n          <div>\r\n            <mini-bar :dataSource=\"chartData.isll\"/>\r\n          </div>\r\n          <template slot=\"footer\">用户今日受理量：<span>{{ todayISll }}</span></template>\r\n        </chart-card>\r\n      </a-col>\r\n      <a-col :sm=\"24\" :md=\"12\" :xl=\"6\" :style=\"{ marginBottom: '24px' }\">\r\n        <chart-card :loading=\"loading\" title=\"用户办结量\" :total=\"cardCount.ibjl | NumberFormat\">\r\n          <a-tooltip title=\"指标说明\" slot=\"action\">\r\n            <a-icon type=\"info-circle-o\" />\r\n          </a-tooltip>\r\n          <div>\r\n            <mini-bar :dataSource=\"chartData.ibjl\"/>\r\n          </div>\r\n          <template slot=\"footer\">用户今日办结量：<span>{{ todayIBjl }}</span></template>\r\n        </chart-card>\r\n      </a-col>\r\n    </a-row>\r\n\r\n    <a-card :loading=\"loading\" :bordered=\"false\" :body-style=\"{padding: '0'}\">\r\n      <div class=\"salesCard\">\r\n        <a-tabs default-active-key=\"1\" size=\"large\" :tab-bar-style=\"{marginBottom: '24px', paddingLeft: '16px'}\">\r\n          <div class=\"extra-wrapper\" slot=\"tabBarExtraContent\">\r\n            <div class=\"extra-item\">\r\n              <a>今日</a>\r\n              <a>本周</a>\r\n              <a>本月</a>\r\n              <a>本年</a>\r\n            </div>\r\n            <a-range-picker :style=\"{width: '256px'}\" />\r\n          </div>\r\n\r\n          <a-tab-pane loading=\"true\" tab=\"受理监管\" key=\"1\">\r\n            <a-row>\r\n              <a-col :xl=\"16\" :lg=\"12\" :md=\"12\" :sm=\"24\" :xs=\"24\">\r\n                <bar title=\"受理量统计\" />\r\n              </a-col>\r\n              <a-col :xl=\"8\" :lg=\"12\" :md=\"12\" :sm=\"24\" :xs=\"24\">\r\n\r\n                <a-card title=\"快速开始 / 便捷导航\" style=\"margin-bottom: 24px\" :bordered=\"false\" :body-style=\"{padding: 0}\">\r\n                  <div class=\"item-group\">\r\n                    <a-row>\r\n                      <a-col :class=\"'more-btn'\" :span=\"12\" v-for=\"(item,index) in registerTypeList\" :key=\" 'registerType'+index \">\r\n                        <a-button @click=\"goPage(index)\" style=\"margin-bottom:10px\" size=\"small\" type=\"primary\" ghost>{{ item.text }}</a-button>\r\n                      </a-col>\r\n                    </a-row>\r\n                  </div>\r\n                </a-card>\r\n\r\n              </a-col>\r\n            </a-row>\r\n          </a-tab-pane>\r\n\r\n          <a-tab-pane tab=\"交互监管\" key=\"2\">\r\n            <a-row>\r\n              <a-col :xl=\"16\" :lg=\"12\" :md=\"12\" :sm=\"24\" :xs=\"24\">\r\n                <bar-multid :dataSource=\"jhjgData\" :fields=\"jhjgFields\" title=\"平台与部门交互量统计\"></bar-multid>\r\n              </a-col>\r\n              <a-col :xl=\"8\" :lg=\"12\" :md=\"12\" :sm=\"24\" :xs=\"24\">\r\n\r\n                <a-card title=\"快速开始 / 便捷导航\" style=\"margin-bottom: 24px\" :bordered=\"false\" :body-style=\"{padding: 0}\">\r\n                  <div class=\"item-group\">\r\n                    <a-row>\r\n                      <a-col :class=\"'more-btn'\" :span=\"12\" v-for=\"(item,index) in registerTypeList\" :key=\" 'registerType'+index \">\r\n                        <a-button @click=\"goPage(index)\" style=\"margin-bottom:10px\" size=\"small\" type=\"primary\" ghost>{{ item.text }}</a-button>\r\n                      </a-col>\r\n                    </a-row>\r\n                  </div>\r\n                </a-card>\r\n\r\n              </a-col>\r\n            </a-row>\r\n          </a-tab-pane>\r\n\r\n          <a-tab-pane tab=\"效率监管\" key=\"3\">\r\n            <a-row>\r\n              <a-col :xl=\"16\" :lg=\"12\" :md=\"12\" :sm=\"24\" :xs=\"24\">\r\n                <line-chart-multid :dataSource=\"xljgData\" :fields=\"xljgFields\" title=\"平台与部门交互效率统计\"></line-chart-multid>\r\n              </a-col>\r\n              <a-col :xl=\"8\" :lg=\"12\" :md=\"12\" :sm=\"24\" :xs=\"24\">\r\n\r\n                <a-card title=\"快速开始 / 便捷导航\" style=\"margin-bottom: 24px\" :bordered=\"false\" :body-style=\"{padding: 0}\">\r\n                  <div class=\"item-group\">\r\n                    <a-row>\r\n                      <a-col :class=\"'more-btn'\" :span=\"12\" v-for=\"(item,index) in registerTypeList\" :key=\" 'registerType'+index \">\r\n                        <a-button @click=\"goPage(index)\" style=\"margin-bottom:10px\" size=\"small\" type=\"primary\" ghost>{{ item.text }}</a-button>\r\n                      </a-col>\r\n                    </a-row>\r\n                  </div>\r\n                </a-card>\r\n\r\n              </a-col>\r\n            </a-row>\r\n          </a-tab-pane>\r\n\r\n          <a-tab-pane tab=\"存储监管\" key=\"4\">\r\n            <a-row>\r\n              <a-col :xl=\"16\" :lg=\"12\" :md=\"12\" :sm=\"24\" :xs=\"24\">\r\n                <a-row>\r\n                  <template v-if=\"diskInfo && diskInfo.length>0\">\r\n                    <a-col :span=\"12\" v-for=\"(item,index) in diskInfo\" :key=\" 'diskInfo'+index \">\r\n                      <dash-chart-demo :title=\"item.name\" :dataSource=\"item.restPPT\"></dash-chart-demo>\r\n                    </a-col>\r\n                  </template>\r\n                </a-row>\r\n              </a-col>\r\n\r\n              <a-col :xl=\"8\" :lg=\"12\" :md=\"12\" :sm=\"24\" :xs=\"24\">\r\n\r\n                <a-card title=\"快速开始 / 便捷导航\" style=\"margin-bottom: 24px\" :bordered=\"false\" :body-style=\"{padding: 0}\">\r\n                  <div class=\"item-group\">\r\n                    <a-row>\r\n                      <a-col :class=\"'more-btn'\" :span=\"10\" v-for=\"(item,index) in registerTypeList\" :key=\" 'registerType'+index \">\r\n                        <a-button @click=\"goPage(index)\" style=\"margin-bottom:10px\" size=\"small\" type=\"primary\" ghost>{{ item.text }}</a-button>\r\n                      </a-col>\r\n                    </a-row>\r\n                  </div>\r\n                </a-card>\r\n\r\n              </a-col>\r\n            </a-row>\r\n          </a-tab-pane>\r\n\r\n        </a-tabs>\r\n\r\n      </div>\r\n    </a-card>\r\n\r\n    <a-row :gutter=\"12\">\r\n      <a-card :loading=\"loading\" :class=\"{ 'anty-list-cust':true }\" :bordered=\"false\" :style=\"{ marginTop: '24px' }\">\r\n\r\n        <a-tabs default-active-key=\"1\" size=\"large\" :tab-bar-style=\"{marginBottom: '24px', paddingLeft: '16px'}\">\r\n          <div class=\"extra-wrapper\" slot=\"tabBarExtraContent\">\r\n            <a-radio-group defaultValue=\"1\">\r\n              <a-radio-button value=\"1\">转移登记</a-radio-button>\r\n              <a-radio-button value=\"2\">抵押登记</a-radio-button>\r\n            </a-radio-group>\r\n          </div>\r\n\r\n          <a-tab-pane loading=\"true\" tab=\"业务流程限时监管\" key=\"1\">\r\n\r\n            <a-table :dataSource=\"dataSource1\" size=\"default\" rowKey=\"id\" :columns=\"columns\" :pagination=\"ipagination\">\r\n              <template slot=\"flowRate\" slot-scope=\"text, record, index\">\r\n                <a-progress :percent=\"getFlowRateNumber(record.flowRate)\" style=\"width:80px\" />\r\n              </template>\r\n            </a-table>\r\n          </a-tab-pane>\r\n\r\n          <a-tab-pane loading=\"true\" tab=\"业务节点限时监管\" key=\"2\">\r\n            <a-table :dataSource=\"dataSource2\" size=\"default\" rowKey=\"id\" :columns=\"columns2\" :pagination=\"ipagination\">\r\n              <template slot=\"flowRate\" slot-scope=\"text, record, index\">\r\n                <span style=\"color: red;\">{{ record.flowRate }}分钟</span>\r\n              </template>\r\n            </a-table>\r\n          </a-tab-pane>\r\n\r\n        </a-tabs>\r\n\r\n\r\n      </a-card>\r\n    </a-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import ChartCard from '@/components/ChartCard'\r\n  import ACol from \"ant-design-vue/es/grid/Col\"\r\n  import ATooltip from \"ant-design-vue/es/tooltip/Tooltip\"\r\n  import MiniArea from '@/components/chart/MiniArea'\r\n  import MiniBar from '@/components/chart/MiniBar'\r\n  import LineChartMultid from '@/components/chart/LineChartMultid'\r\n  import AreaChartTy from '@/components/chart/AreaChartTy'\r\n  import DashChartDemo from '@/components/chart/DashChartDemo'\r\n  import BarMultid from '@/components/chart/BarMultid'\r\n  import MiniProgress from '@/components/chart/MiniProgress'\r\n  import RankList from '@/components/chart/RankList'\r\n  import Bar from '@/components/chart/Bar'\r\n  import Trend from '@/components/Trend'\r\n  import { getAction } from '@/api/manage'\r\n  import { filterObj } from '@/utils/util'\r\n  import moment from 'dayjs'\r\n\r\n  const rankList = []\r\n  for (let i = 0; i < 7; i++) {\r\n    rankList.push({\r\n      name: '白鹭岛 ' + (i+1) + ' 号店',\r\n      total: 1234.56 - i * 100\r\n    })\r\n  }\r\n\r\n  const dataCol1 = [{\r\n    title: '业务号',\r\n    align:\"center\",\r\n    dataIndex: 'reBizCode'\r\n  },{\r\n    title: '权利类型',\r\n    align:\"center\",\r\n    dataIndex: 'droitType'\r\n  },{\r\n    title: '登记类型',\r\n    align:\"center\",\r\n    dataIndex: 'registeType'\r\n  },{\r\n    title: '座落',\r\n    align:\"center\",\r\n    dataIndex: 'beLocated'\r\n  },{\r\n    title: '权利人',\r\n    align:\"center\",\r\n    dataIndex: 'qlr'\r\n  },{\r\n    title: '义务人',\r\n    align:\"center\",\r\n    dataIndex: 'ywr'\r\n  },{\r\n    title: '受理人',\r\n    align:\"center\",\r\n    dataIndex: 'acceptBy'\r\n  },{\r\n    title: '受理时间',\r\n    align:\"center\",\r\n    dataIndex: 'acceptDate'\r\n  },{\r\n    title: '当前节点',\r\n    align:\"center\",\r\n    dataIndex: 'curNode'\r\n  },{\r\n    title: '办理进度',\r\n    align:\"center\",\r\n    dataIndex: 'flowRate',\r\n    scopedSlots: { customRender: 'flowRate' }\r\n  }];\r\n\r\n  const dataCol2 = [{\r\n    title: '业务号',\r\n    align:\"center\",\r\n    dataIndex: 'reBizCode'\r\n  },{\r\n    title: '权利类型',\r\n    align:\"center\",\r\n    dataIndex: 'droitType'\r\n  },{\r\n    title: '登记类型',\r\n    align:\"center\",\r\n    dataIndex: 'registeType'\r\n  },{\r\n    title: '座落',\r\n    align:\"center\",\r\n    dataIndex: 'beLocated'\r\n  },{\r\n    title: '权利人',\r\n    align:\"center\",\r\n    dataIndex: 'qlr'\r\n  },{\r\n    title: '义务人',\r\n    align:\"center\",\r\n    dataIndex: 'ywr'\r\n  },{\r\n    title: '受理人',\r\n    align:\"center\",\r\n    dataIndex: 'acceptBy'\r\n  },{\r\n    title: '发起时间',\r\n    align:\"center\",\r\n    dataIndex: 'acceptDate'\r\n  },{\r\n    title: '当前节点',\r\n    align:\"center\",\r\n    dataIndex: 'curNode'\r\n  },{\r\n    title: '超时时间',\r\n    align:\"center\",\r\n    dataIndex: 'flowRate',\r\n    scopedSlots: { customRender: 'flowRate' }\r\n  }];\r\n\r\n  const jhjgData = [\r\n    { type: '房管', '一月': 900, '二月': 1120, '三月': 1380, '四月': 1480, '五月': 1450, '六月': 1100, '七月':1300, '八月':900,'九月':1000 ,'十月':1200 ,'十一月':600 ,'十二月':900 },\r\n    { type: '税务', '一月':1200, '二月': 1500, '三月': 1980, '四月': 2000, '五月': 1000, '六月': 600, '七月':900, '八月':1100,'九月':1300 ,'十月':2000 ,'十一月':900 ,'十二月':1100 },\r\n    { type: '不动产', '一月':2000, '二月': 1430, '三月': 1300, '四月': 1400, '五月': 900, '六月': 500, '七月':600, '八月':1000,'九月':600 ,'十月':1000 ,'十一月':1500 ,'十二月':1200 }\r\n  ]\r\n  const jhjgFields=[\r\n    '一月','二月','三月','四月','五月','六月',\r\n    '七月','八月','九月','十月','十一月','十二月'\r\n  ]\r\n\r\n\r\n  const xljgData = [\r\n    {type:'一月',\"房管\":1.12,\"税务\":1.55,\"不动产\":1.2},\r\n    {type:'二月',\"房管\":1.65,\"税务\":1.32,\"不动产\":1.42},\r\n    {type:'三月',\"房管\":1.85,\"税务\":1.1,\"不动产\":1.5},\r\n\r\n    {type:'四月',\"房管\":1.33,\"税务\":1.63,\"不动产\":1.4},\r\n    {type:'五月',\"房管\":1.63,\"税务\":1.8,\"不动产\":1.7},\r\n    {type:'六月',\"房管\":1.85,\"税务\":1.98,\"不动产\":1.8},\r\n\r\n    {type:'七月',\"房管\":1.98,\"税务\":1.5,\"不动产\":1.76},\r\n    {type:'八月',\"房管\":1.48,\"税务\":1.2,\"不动产\":1.3},\r\n    {type:'九月',\"房管\":1.41,\"税务\":1.9,\"不动产\":1.6},\r\n\r\n    {type:'十月',\"房管\":1.1,\"税务\":1.1,\"不动产\":1.4},\r\n    {type:'十一月',\"房管\":1.85,\"税务\":1.6,\"不动产\":1.5},\r\n    {type:'十二月',\"房管\":1.5,\"税务\":1.4,\"不动产\":1.3}\r\n  ]\r\n  const xljgFields=[\"房管\",\"税务\",\"不动产\"]\r\n  export default {\r\n    name: \"Analysis\",\r\n    components: {\r\n      ATooltip,\r\n      ACol,\r\n      ChartCard,\r\n      MiniArea,\r\n      MiniBar,\r\n      MiniProgress,\r\n      RankList,\r\n      Bar,\r\n      Trend,\r\n      LineChartMultid,\r\n      AreaChartTy,\r\n      DashChartDemo,\r\n      BarMultid\r\n    },\r\n    data() {\r\n      return {\r\n        xljgData,\r\n        xljgFields,\r\n        jhjgData,\r\n        jhjgFields,\r\n        loading: true,\r\n        rankList,\r\n        zsll:0,\r\n        zbjl:0,\r\n        todaySll:0,\r\n        todayBjl:0,\r\n        todayISll:0,\r\n        todayIBjl:0,\r\n      registerTypeList:[{\r\n          text:\"业务受理\"\r\n        },{\r\n          text:\"业务管理\"\r\n        },{\r\n          text:\"文件管理\"\r\n        },{\r\n          text:\"信息查询\"\r\n        }],\r\n        // 分页参数\r\n        ipagination:{\r\n          current: 1,\r\n          pageSize: 5,\r\n          pageSizeOptions: ['10', '20', '30'],\r\n          showTotal: (total, range) => {\r\n            return range[0] + \"-\" + range[1] + \" 共\" + total + \"条\"\r\n          },\r\n          showQuickJumper: true,\r\n          showSizeChanger: true,\r\n          total: 0\r\n        },\r\n        //数据集\r\n        dataSource:[],\r\n        dataSource1:[],\r\n        dataSource2:[],\r\n        url:{\r\n          analysis:\"/sps/register/analysis\",\r\n          list:\"sps/register/virtualList\",\r\n          countSll:\"sps/register/sllTenDaysCount\",\r\n          countBjl:\"sps/register/bjlTenDaysCount\",\r\n          countISll:'sps/register/ISllTenDaysCount',\r\n          countIBjl:'sps/register/IBjlTenDaysCount',\r\n          queryDiskInfo:'api/queryDiskInfo'\r\n        },\r\n        chartData:{\r\n          sll:[],\r\n          bjl:[],\r\n          isll:[],\r\n          ibjl:[]\r\n        },\r\n        cardCount:{\r\n          sll:0,\r\n          bjl:0,\r\n          isll:0,\r\n          ibjl:0\r\n        },\r\n        columns:dataCol1,\r\n        columns2:dataCol2,\r\n        diskInfo:[]\r\n      }\r\n    },\r\n    methods:{\r\n      goPage(index){\r\n        if(index==0){\r\n          this.$router.push({\r\n            path: '/isps/registerStepForm',\r\n            name: 'isps-registerStepForm',\r\n          });\r\n        }else if(index==1){\r\n          this.$router.push({\r\n            path: '/isps/registerList',\r\n            name: 'isps-registerList',\r\n          });\r\n\r\n        }else if(index==2){\r\n          this.$router.push({\r\n            path: '/isps/fileManage',\r\n            name: 'isps-fileManage',\r\n          });\r\n        }else if(index==3){\r\n          this.$router.push({\r\n            path: '/isps/infoSearch',\r\n            name: 'isps-infoSearch',\r\n          });\r\n        }\r\n      },\r\n      loadList (arg){\r\n        if(arg===1){\r\n          this.ipagination.current = 1;\r\n        }\r\n        var params = this.getQueryParams();//查询条件\r\n        getAction(this.url.list,params).then((res)=>{\r\n          console.log(\"dsdsd\",res.result)\r\n          this.dataSource1 = res.result.data1;\r\n          this.dataSource2 = res.result.data2;\r\n          this.ipagination.total = 5;\r\n        });\r\n      },\r\n      getQueryParams(){\r\n        var param = {flowStatus:\"-3\"};\r\n        param.pageNo = this.ipagination.current;\r\n        param.pageSize = this.ipagination.pageSize;\r\n        return filterObj(param);\r\n      },\r\n      formatRespectiveHoldCert(value){\r\n        return (value==\"1\"||eval(value))?\"是\":\"否\"\r\n      },\r\n      formatCertFormat(value){\r\n        if(value==\"1\"){\r\n          return \"单一版\"\r\n        }else if(value==\"2\"){\r\n          return \"集成版\"\r\n        }else{\r\n          return value;\r\n        }\r\n      },\r\n      getFlowRateNumber(value){\r\n        return Number(value)\r\n      },\r\n      getFlowPercent(record){\r\n        if(record.flowStatus==\"3\"){\r\n          return 100\r\n        }else if(record.flowStatus==\"0\"){\r\n          return 0\r\n        }else{\r\n          return record.flowRate\r\n        }\r\n      },\r\n      getFlowStatus(status){\r\n        if(status==\"4\"){\r\n          return \"exception\";\r\n        }else if(status==\"0\"){\r\n          return \"normal\";\r\n        }else if(status==\"3\"){\r\n          return \"success\";\r\n        }else{\r\n          return \"active\";\r\n        }\r\n\r\n      },\r\n      queryCount(){\r\n        getAction(this.url.analysis).then((res)=>{\r\n          if(res.success){\r\n            this.cardCount = res.result\r\n          }\r\n          console.log(res);\r\n        });\r\n      },\r\n\r\n      loadDiskInfo(){\r\n        getAction(this.url.queryDiskInfo).then((res)=>{\r\n          if(res.success){\r\n            console.log(res.result)\r\n            let one=0,two=\"\";\r\n            for(let a in res.result){\r\n              let tempNum = Number(res.result[a].max)\r\n              if(tempNum>one){\r\n                one = tempNum\r\n                two = res.result[a].name\r\n              }\r\n            }\r\n            let ontItem = res.result.filter((item)=>{return item.name == two})[0]\r\n            ontItem.restPPT = ontItem.restPPT/10\r\n            this.diskInfo.push(ontItem);\r\n\r\n            if(res.result.length>1){\r\n              let one2=0,two2=\"\";\r\n              for(let a in res.result){\r\n                if(res.result[a].name == two){\r\n                  continue;\r\n                }\r\n                let tempNum = Number(res.result[a].max)\r\n                if(tempNum>one2){\r\n                  one2 = tempNum\r\n                  two2 = res.result[a].name\r\n                }\r\n              }\r\n              let one2Item = res.result.filter((item)=>{return item.name == two2})[0]\r\n              one2Item.restPPT = one2Item.restPPT/10\r\n              this.diskInfo.push(one2Item);\r\n            }\r\n\r\n          }else{\r\n            console.log(res.message)\r\n          }\r\n        })\r\n      },\r\n      loadChartData(){\r\n        getAction(this.url.countSll).then((res)=>{\r\n          if(res.success){\r\n            let map = res.result;\r\n            for(var key in map){\r\n              let dataStr = key;\r\n              let value = map[key];\r\n              let today = moment(new Date()).format('YYYY-MM-DD');\r\n              if(dataStr == today){\r\n                this.todaySll = map[today];\r\n              }\r\n              this.chartData.sll.push({\r\n                x: dataStr,\r\n                y: value\r\n              });\r\n            }\r\n          }\r\n\r\n        }),\r\n          getAction(this.url.countBjl).then((res)=>{\r\n            if(res.success){\r\n              let map = res.result;\r\n              for(var key in map){\r\n                let dataStr = key;\r\n                let value = map[key];\r\n                let today = moment(new Date()).format('YYYY-MM-DD');\r\n                if(dataStr == today){\r\n                  this.todayBjl = map[today];\r\n                }\r\n                this.chartData.bjl.push({\r\n                  x: dataStr,\r\n                  y: value\r\n                });\r\n              }\r\n            }\r\n          }),\r\n          getAction(this.url.countISll).then((res)=>{\r\n            if(res.success){\r\n              let map = res.result;\r\n              for(var key in map){\r\n                let dataStr = key;\r\n                let value = map[key];\r\n                let today = moment(new Date()).format('YYYY-MM-DD');\r\n                if(dataStr == today){\r\n                  this.todayISll = map[today];\r\n                }\r\n                this.chartData.isll.push({\r\n                  x: key,\r\n                  y: value\r\n                });\r\n              }\r\n            }\r\n          }),\r\n          getAction(this.url.countIBjl).then((res)=>{\r\n            if(res.success){\r\n              let map = res.result;\r\n              for(var key in map){\r\n                let dataStr = key;\r\n                let value = map[key];\r\n                let today = moment(new Date()).format('YYYY-MM-DD');\r\n                if(dataStr == today){\r\n                  this.todayIBjl = map[today];\r\n                }\r\n                this.chartData.ibjl.push({\r\n                  x: key,\r\n                  y: value\r\n                });\r\n              }\r\n            }\r\n          })\r\n      }\r\n    },\r\n    created() {\r\n      this.loadDiskInfo()\r\n      this.queryCount();\r\n      this.loadChartData();\r\n      this.loadList(1);\r\n      setTimeout(() => {\r\n        this.loading = !this.loading\r\n      }, 1000)\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .extra-wrapper {\r\n    line-height: 55px;\r\n    padding-right: 24px;\r\n\r\n    .extra-item {\r\n      display: inline-block;\r\n      margin-right: 24px;\r\n\r\n      a {\r\n        margin-left: 24px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .item-group {\r\n    padding: 20px 0 8px 24px;\r\n    font-size: 0;\r\n    a {\r\n      color: rgba(0, 0, 0, 0.65);\r\n      display: inline-block;\r\n      font-size: 14px;\r\n      margin-bottom: 13px;\r\n      width: 25%;\r\n    }\r\n  }\r\n\r\n  .item-group {\r\n    .more-btn {\r\n      margin-bottom: 13px;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  .list-content-item {\r\n    color: rgba(0, 0, 0, .45);\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    font-size: 14px;\r\n    margin-left: 40px;\r\n  }\r\n\r\n  @media only screen and (min-width: 1600px) {\r\n    .list-content-item{\r\n      margin-left:60px;\r\n    }\r\n  }\r\n\r\n  @media only screen and (max-width: 1300px) {\r\n    .list-content-item{\r\n      margin-left:20px;\r\n    }\r\n    .width-hidden4{\r\n      display:none\r\n    }\r\n  }\r\n  .list-content-item{\r\n    span{line-height: 20px;}\r\n  }\r\n  .list-content-item{\r\n    p{margin-top: 4px;margin-bottom:0;line-height:22px;}\r\n  }\r\n  .anty-list-cust {\r\n    .ant-list-item-meta{flex: 0.3 !important;}\r\n  }\r\n  .anty-list-cust {\r\n    .ant-list-item-content{flex:1 !important; justify-content:flex-start !important;margin-left: 20px;}\r\n  }\r\n\r\n\r\n</style>"]}]}