{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\modules\\userSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\mytask\\modules\\userSelect.vue","mtime":1578020264531},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {JeecgListMixin} from '@/mixins/JeecgListMixin'\n\n\nexport default {\n  name: \"userSelect\",\n  mixins: [JeecgListMixin],\n  components: {},\n  data() {\n    return {\n      title: '用户选择',\n      okText: '确定',\n      dataSource: [],\n      visible: false,\n      confirmLoading: false,\n      columns: [\n        {\n          title: '用户姓名',\n          align: \"center\",\n          dataIndex: 'username'\n        },\n      ]\n    }\n  },\n  methods: {\n    setRowCheck(res) {\n      return {\n        on: {\n          click: () => {\n            let rowkeys = this.selectedRowKeys;\n            let selectionRows = this.selectionRows;\n            if (rowkeys.length > 0 && rowkeys.includes(res.id)) {\n              rowkeys.splice(rowkeys.indexOf(res.id), 1);\n              selectionRows.splice(rowkeys.indexOf(res), 1);\n            } else {\n              rowkeys.push(res.id);\n              selectionRows.push(res);\n            }\n            this.selectedRowKeys = rowkeys;\n            this.selectionRows = selectionRows;\n          }\n        }\n      }\n    },\n    show() {\n      this.visible = true\n      this.selectionRows = []\n      this.selectedRowKeys = []\n    },\n    cancel() {\n      //初始数据\n      this.dataInit()\n      this.$emit('close');\n      this.visible = false;\n    },\n    close() {\n      this.$emit('close');\n      this.visible = false;\n    },\n    dataInit() {\n      this.selectionRows = []\n      this.selectedRowKeys = []\n    },\n    confirm() {\n      this.$emit('func', this.selectionRows)\n      this.close()\n    }\n\n  }\n\n\n}\n",{"version":3,"sources":["userSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA","file":"userSelect.vue","sourceRoot":"src/views/mytask/modules","sourcesContent":["<template>\r\n  <a-modal\r\n    :title=\"title\"\r\n    :width=\"500\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    @ok=\"confirm\"\r\n    @cancel=\"cancel\"\r\n    destroyOnClose\r\n    :okText=\"okText\"\r\n    cancelText=\"取消\">\r\n\r\n\r\n    <a-table\r\n      ref=\"table\"\r\n      size=\"middle\"\r\n      bordered\r\n      rowKey=\"id\"\r\n      :columns=\"columns\"\r\n      :dataSource=\"dataSource\"\r\n      :customRow=\"setRowCheck\"\r\n      :rowSelection=\"{selectedRowKeys: selectedRowKeys, onChange: onSelectChange,type:'checkbox'}\">\r\n    </a-table>\r\n\r\n\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\n  import {JeecgListMixin} from '@/mixins/JeecgListMixin'\r\n\r\n\r\n  export default {\r\n    name: \"userSelect\",\r\n    mixins: [JeecgListMixin],\r\n    components: {},\r\n    data() {\r\n      return {\r\n        title: '用户选择',\r\n        okText: '确定',\r\n        dataSource: [],\r\n        visible: false,\r\n        confirmLoading: false,\r\n        columns: [\r\n          {\r\n            title: '用户姓名',\r\n            align: \"center\",\r\n            dataIndex: 'username'\r\n          },\r\n        ]\r\n      }\r\n    },\r\n    methods: {\r\n      setRowCheck(res) {\r\n        return {\r\n          on: {\r\n            click: () => {\r\n              let rowkeys = this.selectedRowKeys;\r\n              let selectionRows = this.selectionRows;\r\n              if (rowkeys.length > 0 && rowkeys.includes(res.id)) {\r\n                rowkeys.splice(rowkeys.indexOf(res.id), 1);\r\n                selectionRows.splice(rowkeys.indexOf(res), 1);\r\n              } else {\r\n                rowkeys.push(res.id);\r\n                selectionRows.push(res);\r\n              }\r\n              this.selectedRowKeys = rowkeys;\r\n              this.selectionRows = selectionRows;\r\n            }\r\n          }\r\n        }\r\n      },\r\n      show() {\r\n        this.visible = true\r\n        this.selectionRows = []\r\n        this.selectedRowKeys = []\r\n      },\r\n      cancel() {\r\n        //初始数据\r\n        this.dataInit()\r\n        this.$emit('close');\r\n        this.visible = false;\r\n      },\r\n      close() {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n      },\r\n      dataInit() {\r\n        this.selectionRows = []\r\n        this.selectedRowKeys = []\r\n      },\r\n      confirm() {\r\n        this.$emit('func', this.selectionRows)\r\n        this.close()\r\n      }\r\n\r\n    }\r\n\r\n\r\n  }\r\n</script>"]}]}