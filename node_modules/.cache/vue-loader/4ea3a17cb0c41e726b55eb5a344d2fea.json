{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\dashboard\\NewOneParts.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\dashboard\\NewOneParts.vue","mtime":1579343099597},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { httpAction,getAction,postAction } from '@/api/manage'\nimport Vue from 'vue'\nimport {JeecgListMixin} from '@/mixins/JeecgListMixin'\nimport detailFile from '../mytask/taskList/detailFile'\nimport Swiper from 'swiper/js/swiper.min.js'\nimport  'swiper/css/swiper.min.css'\nexport default {\n  data () {\n    return {\n      postLists:[],// 公告列表\n      userid:'',\n      iisCalendar:0,\n      model1:[],\n      model2:[],\n      model3:[],\n      model4:[],\n      total:'8',\n      waitDoData:[],\n      model1Lists:[],\n      model2Lists:[],\n      model3Lists:[],\n      model4Lists:[],\n      LinkList:[], //常用链接\n      url: {\n\n        busDataAndColums: 'oaBus/oaBusdata/queryBusdataById',\n        list: \"/wf/task/queryTask?operstatus=task_todo\",\n        HomeList:'/oaBus/homeAnalysis/HomeList',\n        Posturl:'/oaBus/oaBusdata/queryByModelId',\n        MostUserLink:'/oaBus/Calendar/oaCalendar/MostUserLink',\n      },\n\n    }\n  },\n  filters:{\n    // filterText(text){\n    //\n    //   if(text.length>25){\n    //     return text.substring(0,13)+'...'\n    //   }else{\n    //     return text\n    //   }\n    //\n    // },\n    timeStrings(time){\n      let oneTime = new Date(time);\n      let Y = oneTime.getFullYear();\n      let M = oneTime.getMonth()+1;\n      let D = oneTime.getDate();\n      return  Y+'-'+(M<10? \"0\"+M :M)+\"-\"+(D<10? \"0\"+D:D)+\" \"+oneTime.toTimeString().substr(0,8);\n\n    },\n  },\n  created () {\n    //公告列表\n    // this.getPostLists();\n\n    postAction(this.url.Posturl,{modelId:49,condition:{function_id:64,selType:1}}).then((res) => {\n      console.log(res.result.records);\n      this.postLists = res.result.records.splice(0,4);\n    });\n\n\n\n    //獲取用戶基本信息\n    const  userid =JSON.parse( localStorage.getItem('userdata')).userInfo.id;\n    console.log(userid);\n    this.userid = userid;\n\n\n    this.$nextTick(()=>{\n      this.homeLists(this.userid);\n    })\n\n    this.waiteDoWith();\n\n\n  },\n  mounted(){\n    let height = document.body.clientHeight-145;\n    document.querySelector('.nav').style.height = height*.25 +'px'\n    document.querySelector('.box').style.height = height*.75+'px'\n\n\n    // this.$nextTick(()=>{\n    //\n    // })\n\n    document.querySelector('.ttop').style.height = (height*.75)/2+'px'\n    document.querySelector('.bbottom').style.height =  (height*.75-20)/2+'px'\n\n    window.onresize = function () {\n\n      let height = document.body.clientHeight-145;\n      document.querySelector('.nav').style.height = height*.25 +'px'\n      document.querySelector('.box').style.height = height*.75+'px'\n\n      document.querySelector('.ttop').style.height = (height*.75)/2+'px'\n      document.querySelector('.bbottom').style.height =  (height*.75-20)/2+'px'\n    }\n\n\n\n\n    setTimeout(()=>{\n\n      var mySwiper = new Swiper('.swiper-container',{\n        initialSlide:0,\n        slidesPerView:4,\n        spaceBetween:13,\n        lazyLoading:true,\n        loop:true,\n        obeserver:true,\n        obeserverParents:true,\n        navigation:{\n          nextEl:'.swiper-button-next',\n          prevEl:'.swiper-button-prev',\n        }\n\n      });\n    },1200)\n\n    postAction(this.url.MostUserLink).then((res) => {\n      console.log(res.length);\n\n      if(res.length==1){\n\n        this.LinkList.push(JSON.parse(JSON.stringify(res)))\n        this.LinkList.push(JSON.parse(JSON.stringify(res)))\n        this.LinkList.push(JSON.parse(JSON.stringify(res)))\n        this.LinkList.push(JSON.parse(JSON.stringify(res)))\n      }else if(res.length==2){\n\n        this.LinkList.push(JSON.parse(JSON.stringify(res)))\n        this.LinkList.push(JSON.parse(JSON.stringify(res)))\n        this.LinkList.push(JSON.parse(JSON.stringify(res)))\n      }else if(res.length==3){\n\n        this.LinkList.push(JSON.parse(JSON.stringify(res)))\n        this.LinkList.push(JSON.parse(JSON.stringify(res)))\n      }else if(res.length==0){\n\n        this.LinkList.push(\n          {s_title:'mytask/taskToDo',value:0},\n          {s_title:'mytask/taskToDo',value:1},\n          {s_title:'mytask/taskToDo',value:2},\n          {s_title:'mytask/taskToDo',value:3},\n        )\n      }else{\n        this.LinkList = JSON.parse(JSON.stringify(res)).splice(0,2);\n\n      }\n\n\n      console.log( this.LinkList.length);\n    });\n\n  },\n  components: {\n    //业务\n    detailFile,\n  },\n  methods: {\n    postMore(){\n      this.$router.push('/'+'publicMessage/electronicFile');\n    },\n    openmore(url){ //四个模块的跳转\n\n      this.$router.push('/'+url);\n    },\n    DaiBanMore(){ //待办任务的跳转\n      this.$router.push('/'+'mytask/taskToDo');\n    },\n    LinkMore(e){ //常用链接的跳转\n      console.log(e)\n\n        this.$router.push('/'+e);\n\n\n    },\n    //动态模块儿  业务详情\n    openDetialModel(tableName,i_id){\n\n      // alert(taskDetail)\n      // this.$refs.detailFile.show(taskDetail)\n\n      let params = {tableName:tableName,busdataId:i_id};\n\n      this.$store.commit('pushNewDetial',params)\n      console.log(this.$store.state.postDetialLists);\n\n      // window,open('http://localhost:4000/mytask/taskList/Test-detailFile?tableName=oa_busdata10&busdataId=515')\n      window,open(window.location.origin+'/mytask/taskList/Test-detailFile?tableName='+tableName+'&busdataId='+i_id+'&navisshow=false')\n      // this.$router.push({path:'/mytask/taskList/Test-detailFile',query:params})\n\n    },\n    //事件委托 想左切换\n    leftclick(){\n       this.$refs.left.click();\n    },\n    //事件委托 想右切换\n    rightclick(){\n      this.$refs.right.click();\n    },\n    //  数据初始化  收文  发文数据\n    homeLists(userid){\n      getAction(this.url.HomeList,{userId:userid,createTime:''}).then((res) => {\n\n        this.model1 = res.model1;\n        this.model2 = res.model2;\n        this.model3 = res.model3;\n        this.model4 = res.model4;\n\n        this.model1Lists = res.model1.list.splice(0,5);\n\n        this.model2Lists = res.model2.list.splice(0,5);\n        this.model3Lists = res.model3.list.splice(0,5);\n        this.model4Lists = res.model4.list.splice(0,5);\n\n      });\n    },\n    waiteDoWith(){\n      getAction(this.url.list).then((res) => {\n        console.log(res);\n        //  过长截取  显示数组前五\n        this.waitDoData = res.result.records.splice(0,4);\n        this.total = res.result.total;\n\n      });\n    },\n    doTask(record) {\n\n\n      this.$refs.receiveFile.show(record);\n\n      // this.$refs.doTaskModal.showTask();\n\n      // this.$refs.doTaskModal.showTask();\n\n      //  console.log(record);\n      //查询---业务数据--流程信息\n      // var taskDetail = {}\n      // postAction(this.url.yewuDataQuery, {i_id: record.tableId, table: record.table}).then(res => {\n      //   if (res.success) {\n      //     taskDetail = res.result.records[0]\n      //     //业务和流程关联配置表（流程KEY、按钮、意见） 主键\n      //     taskDetail['iprocSetId'] = record.busAndActId\n      //     taskDetail['taskDefinitionKey'] = record.taskDefinitionKey\n      //     this.$refs[record.pageRef].showTaskInAct(taskDetail, record)\n      //     this.$refs.doTaskModal.title = '任务办理'\n      //   } else {\n      //     this.$message.error(res.message)\n      //     return\n      //   }\n      // })\n\n    },\n\n    // 公告\n    getPostLists(){\n      postAction(this.url.Posturl,{modelId:49,condition:{function_id:64,selType:1}}).then((res) => {\n        console.log(res.result.records);\n        this.postLists = res.result.records;\n      });\n    }\n  }\n}\n",{"version":3,"sources":["NewOneParts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewOneParts.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"nav\">\r\n        <div class=\"postList\">\r\n            <div class=\"title\">\r\n              <!--<img src=\"\" alt=\"\">-->\r\n              <div class=\"imgzhanwei\">\r\n                <img src=\"../../assets/post.png\" alt=\"\">\r\n              </div>\r\n              <span>公告</span>\r\n            </div>\r\n            <div class=\"listsBox\" style=\"position: relative\">\r\n              <div class=\"lineitem\" v-for=\"(item,index) in postLists\" :key=\"index\" @click=\"openDetialModel('oa_busdata30',item.i_id)\">\r\n                <div class=\"left\">\r\n                  <i></i>\r\n                  <p class=\"tongzhi\">[系统通知]</p>\r\n                  <span :alt=\"item.s_title\">{{item.s_title}}</span>\r\n                  <i></i>\r\n                </div>\r\n                <span class=\"time\">{{item.d_create_time|timeStrings}}</span>\r\n              </div>\r\n              <img style=\"position: absolute;left: 0;bottom: 5px;width: 50px;\" src=\"../../assets/bottomleft.png\" alt=\"\">\r\n              <img style=\"position: absolute;top: 10px;right: 10px;width: 100px;\" src=\"../../assets/topright.png\" alt=\"\">\r\n               <span @click=\"postMore\"  class=\"postMore\" style=\"position: absolute;bottom: 1px;right: -10px;width: 100px; font-size: 14px;color: #009cff \">查看更多  <a-icon style=\"font-size: 12px;color: #009cff \" type=\"double-right\"></a-icon></span>\r\n            </div>\r\n        </div>\r\n        <div class=\"searchBox\">\r\n          <div style=\"display: flex;align-items: center;min-height: 90px;\">\r\n            <img @click=\"leftclick\" style=\"width: 20px;height: 30px;margin-left: 20px;\" src=\"../../assets/left.png\" alt=\"\">\r\n            <div class=\"swiper-container swiper-no-swiping bottom\">\r\n              <div class=\"swiper-wrapper\">\r\n                <div class=\"swiper-slide\" v-for=\"(atom,index) in LinkList\" :key=\"index\" @click=\"LinkMore(atom.s_title)\">\r\n                  <div>\r\n                    <img src=\"../../assets/1.png\" :title=\"atom.s_title\" alt=\"\">\r\n                  </div>\r\n                </div>\r\n                <!--<div class=\"swiper-slide\">-->\r\n                  <!--<div>-->\r\n                    <!--<img src=\"../../assets/2.png\" alt=\"\">-->\r\n                  <!--</div>-->\r\n                <!--</div>-->\r\n                <!--<div class=\"swiper-slide\">-->\r\n                  <!--<div>-->\r\n                    <!--<img src=\"../../assets/3.png\" alt=\"\">-->\r\n                  <!--</div>-->\r\n                <!--</div>-->\r\n                <!--<div class=\"swiper-slide\">-->\r\n                  <!--<div>-->\r\n                    <!--<img src=\"../../assets/4.png\" alt=\"\">-->\r\n                  <!--</div>-->\r\n                <!--</div>-->\r\n                <!--<div class=\"swiper-slide\">-->\r\n                  <!--<div>-->\r\n                    <!--<img src=\"../../assets/3.png\" alt=\"\">-->\r\n                  <!--</div>-->\r\n                <!--</div>-->\r\n                <!--<div class=\"swiper-slide\">-->\r\n                  <!--<div>-->\r\n                    <!--<img src=\"../../assets/4.png\" alt=\"\">-->\r\n                  <!--</div>-->\r\n                <!--</div>-->\r\n              </div>\r\n              <!--Add Arrows-->\r\n              <div ref=\"left\" style=\"display: none\" class=\"swiper-button-next\"></div>\r\n              <div ref=\"right\" style=\"display: none\" class=\"swiper-button-prev\"></div>\r\n            </div>\r\n            <img @click=\"rightclick\" style=\"width: 20px;height: 30px;margin-right: 20px;\"  src=\"../../assets/right.png\" alt=\"\">\r\n          </div>\r\n\r\n\r\n          <div class=\"top\">\r\n            <a-input placeholder=\"请输入公文链接\">\r\n              <a-icon slot=\"prefix\" type=\"search\"></a-icon>\r\n            </a-input>\r\n          </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"box\">\r\n      <div class=\"top ttop\">\r\n        <div class=\"left\">\r\n          <p class=\"titlebox\">\r\n            <span>\r\n               <span class=\"shuline\"></span>\r\n               <span>待办工作</span>\r\n               <b style=\"color: #ffffff;font-weight: 400\" v-if=\"total\" > {{total}}</b>\r\n            </span>\r\n            <span class=\"more\" @click=\"DaiBanMore(0)\">MORE  <a-icon type=\"plus\"></a-icon> </span>\r\n          </p>\r\n          <div class=\"itemline\">\r\n            <div class=\"each\" v-for=\"(item,index) in waitDoData\" :key=\"index\" @click=\"openDetialModel(item.table,item.tableId)\" :style=\"index%2==0? '':'background: #e2f1f6; border-left: 5px solid  #95d9fd;'\">\r\n              <p class=\"p\">\r\n                <span :title=\"item.title+'   '+item.createTime+item.name\">\r\n                  <i></i>\r\n                  {{item.title}}\r\n                  <!--等待修改   字段返回1,2,3，4   receiveFile.vue   中有缓急设置-->\r\n                  <img src=\"../../assets/zhong.png\" alt=\"\">\r\n                </span>\r\n                <span >{{item.createTime}}</span>\r\n              </p>\r\n              <!--<a @click=\"doTask(item)\">办理</a>-->\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"right\">\r\n          <p class=\"titlebox\">\r\n            <span>\r\n               <span class=\"shuline\"></span>\r\n              <span>{{model1.sName}}</span>\r\n            </span>\r\n            <span class=\"more\" @click=\"openmore(model1.url)\">MORE <a-icon type=\"plus\"></a-icon> </span>\r\n          </p>\r\n          <div class=\"itemline\">\r\n            <p  class=\"each\"  v-for=\"(item,index) in model1Lists\"  :key=\"index\" @click=\"openDetialModel(model1.tableName,item.i_id)\">\r\n                <span :title=\"item.s_title+'      '+item.d_create_time\">\r\n                  <i></i>\r\n                  [{{item.s_title|filterText}}]\r\n                </span>\r\n              <span>{{item.d_create_time}}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"bottom bbottom\">\r\n        <div class=\"bottomleft\">\r\n          <div class=\"first\">\r\n            <p class=\"titlebox\">\r\n              <span>\r\n                 <span class=\"shuline\"></span>\r\n                 <span>{{model2.sName}}</span>\r\n              </span>\r\n                <span class=\"more\"  @click=\"openmore(model2.url)\">MORE  <a-icon type=\"plus\"></a-icon> </span>\r\n            </p>\r\n            <div class=\"itemline\">\r\n              <p  class=\"each\"  v-for=\"(item,index) in model2Lists\"  :key=\"index\" @click=\"openDetialModel(model2.tableName,item.i_id)\">\r\n                <span :title=\"item.s_title+'                     '+item.d_create_time\">\r\n                  <i></i>\r\n                    [{{item.s_title|filterText}}]\r\n                </span>\r\n                <span>{{item.d_create_time}}</span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div class=\"last\">\r\n            <p class=\"titlebox\">\r\n              <span>\r\n                 <span class=\"shuline\"></span>\r\n                 <span>{{model3.sName}}</span>\r\n                <!--<span>{{model3}}</span>-->\r\n              </span>\r\n              <span class=\"more\" @click=\"openmore(model3.url)\">MORE  <a-icon type=\"plus\"></a-icon> </span>\r\n            </p>\r\n            <div class=\"itemline\">\r\n              <p  class=\"each\"  v-for=\"(item,index) in model3Lists\"  :key=\"index\" @click=\"openDetialModel(model3.tableName,item.i_id)\">\r\n                 <span :title=\"item.s_title+'                     '+item.d_create_time\">\r\n                  <i></i>\r\n                  [{{item.s_title|filterText}}]\r\n                </span>\r\n                <span>{{item.d_create_time}}</span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"right\">\r\n          <p class=\"titlebox\">\r\n              <span>\r\n                 <span class=\"shuline\"></span>\r\n                 <span>{{model4.sName}}</span>\r\n                <!--<span>{{model4}}</span>-->\r\n              </span>\r\n            <span class=\"more\" @click=\"openmore(model4.url)\">MORE <a-icon type=\"plus\"></a-icon> </span>\r\n          </p>\r\n          <div class=\"itemline\">\r\n            <p  class=\"each\"  v-for=\"(item,index) in model4Lists\"  :key=\"index\" @click=\"openDetialModel(model4.tableName,item.i_id)\">\r\n                 <span :title=\"item.s_title+'                     '+item.d_create_time\">\r\n                  <i></i>\r\n                  [{{item.s_title|filterText}}]\r\n                </span>\r\n              <span>{{item.d_create_time}}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--业务页面-->\r\n\r\n    <detail-file ref=\"detailFile\"></detail-file>\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n  import { httpAction,getAction,postAction } from '@/api/manage'\r\n  import Vue from 'vue'\r\n  import {JeecgListMixin} from '@/mixins/JeecgListMixin'\r\n  import detailFile from '../mytask/taskList/detailFile'\r\n  import Swiper from 'swiper/js/swiper.min.js'\r\n  import  'swiper/css/swiper.min.css'\r\n  export default {\r\n    data () {\r\n      return {\r\n        postLists:[],// 公告列表\r\n        userid:'',\r\n        iisCalendar:0,\r\n        model1:[],\r\n        model2:[],\r\n        model3:[],\r\n        model4:[],\r\n        total:'8',\r\n        waitDoData:[],\r\n        model1Lists:[],\r\n        model2Lists:[],\r\n        model3Lists:[],\r\n        model4Lists:[],\r\n        LinkList:[], //常用链接\r\n        url: {\r\n\r\n          busDataAndColums: 'oaBus/oaBusdata/queryBusdataById',\r\n          list: \"/wf/task/queryTask?operstatus=task_todo\",\r\n          HomeList:'/oaBus/homeAnalysis/HomeList',\r\n          Posturl:'/oaBus/oaBusdata/queryByModelId',\r\n          MostUserLink:'/oaBus/Calendar/oaCalendar/MostUserLink',\r\n        },\r\n\r\n      }\r\n    },\r\n    filters:{\r\n      // filterText(text){\r\n      //\r\n      //   if(text.length>25){\r\n      //     return text.substring(0,13)+'...'\r\n      //   }else{\r\n      //     return text\r\n      //   }\r\n      //\r\n      // },\r\n      timeStrings(time){\r\n        let oneTime = new Date(time);\r\n        let Y = oneTime.getFullYear();\r\n        let M = oneTime.getMonth()+1;\r\n        let D = oneTime.getDate();\r\n        return  Y+'-'+(M<10? \"0\"+M :M)+\"-\"+(D<10? \"0\"+D:D)+\" \"+oneTime.toTimeString().substr(0,8);\r\n\r\n      },\r\n    },\r\n    created () {\r\n      //公告列表\r\n      // this.getPostLists();\r\n\r\n      postAction(this.url.Posturl,{modelId:49,condition:{function_id:64,selType:1}}).then((res) => {\r\n        console.log(res.result.records);\r\n        this.postLists = res.result.records.splice(0,4);\r\n      });\r\n\r\n\r\n\r\n      //獲取用戶基本信息\r\n      const  userid =JSON.parse( localStorage.getItem('userdata')).userInfo.id;\r\n      console.log(userid);\r\n      this.userid = userid;\r\n\r\n\r\n      this.$nextTick(()=>{\r\n        this.homeLists(this.userid);\r\n      })\r\n\r\n      this.waiteDoWith();\r\n\r\n\r\n    },\r\n    mounted(){\r\n      let height = document.body.clientHeight-145;\r\n      document.querySelector('.nav').style.height = height*.25 +'px'\r\n      document.querySelector('.box').style.height = height*.75+'px'\r\n\r\n\r\n      // this.$nextTick(()=>{\r\n      //\r\n      // })\r\n\r\n      document.querySelector('.ttop').style.height = (height*.75)/2+'px'\r\n      document.querySelector('.bbottom').style.height =  (height*.75-20)/2+'px'\r\n\r\n      window.onresize = function () {\r\n\r\n        let height = document.body.clientHeight-145;\r\n        document.querySelector('.nav').style.height = height*.25 +'px'\r\n        document.querySelector('.box').style.height = height*.75+'px'\r\n\r\n        document.querySelector('.ttop').style.height = (height*.75)/2+'px'\r\n        document.querySelector('.bbottom').style.height =  (height*.75-20)/2+'px'\r\n      }\r\n\r\n\r\n\r\n\r\n      setTimeout(()=>{\r\n\r\n        var mySwiper = new Swiper('.swiper-container',{\r\n          initialSlide:0,\r\n          slidesPerView:4,\r\n          spaceBetween:13,\r\n          lazyLoading:true,\r\n          loop:true,\r\n          obeserver:true,\r\n          obeserverParents:true,\r\n          navigation:{\r\n            nextEl:'.swiper-button-next',\r\n            prevEl:'.swiper-button-prev',\r\n          }\r\n\r\n        });\r\n      },1200)\r\n\r\n      postAction(this.url.MostUserLink).then((res) => {\r\n        console.log(res.length);\r\n\r\n        if(res.length==1){\r\n\r\n          this.LinkList.push(JSON.parse(JSON.stringify(res)))\r\n          this.LinkList.push(JSON.parse(JSON.stringify(res)))\r\n          this.LinkList.push(JSON.parse(JSON.stringify(res)))\r\n          this.LinkList.push(JSON.parse(JSON.stringify(res)))\r\n        }else if(res.length==2){\r\n\r\n          this.LinkList.push(JSON.parse(JSON.stringify(res)))\r\n          this.LinkList.push(JSON.parse(JSON.stringify(res)))\r\n          this.LinkList.push(JSON.parse(JSON.stringify(res)))\r\n        }else if(res.length==3){\r\n\r\n          this.LinkList.push(JSON.parse(JSON.stringify(res)))\r\n          this.LinkList.push(JSON.parse(JSON.stringify(res)))\r\n        }else if(res.length==0){\r\n\r\n          this.LinkList.push(\r\n            {s_title:'mytask/taskToDo',value:0},\r\n            {s_title:'mytask/taskToDo',value:1},\r\n            {s_title:'mytask/taskToDo',value:2},\r\n            {s_title:'mytask/taskToDo',value:3},\r\n          )\r\n        }else{\r\n          this.LinkList = JSON.parse(JSON.stringify(res)).splice(0,2);\r\n\r\n        }\r\n\r\n\r\n        console.log( this.LinkList.length);\r\n      });\r\n\r\n    },\r\n    components: {\r\n      //业务\r\n      detailFile,\r\n    },\r\n    methods: {\r\n      postMore(){\r\n        this.$router.push('/'+'publicMessage/electronicFile');\r\n      },\r\n      openmore(url){ //四个模块的跳转\r\n\r\n        this.$router.push('/'+url);\r\n      },\r\n      DaiBanMore(){ //待办任务的跳转\r\n        this.$router.push('/'+'mytask/taskToDo');\r\n      },\r\n      LinkMore(e){ //常用链接的跳转\r\n        console.log(e)\r\n\r\n          this.$router.push('/'+e);\r\n\r\n\r\n      },\r\n      //动态模块儿  业务详情\r\n      openDetialModel(tableName,i_id){\r\n\r\n        // alert(taskDetail)\r\n        // this.$refs.detailFile.show(taskDetail)\r\n\r\n        let params = {tableName:tableName,busdataId:i_id};\r\n\r\n        this.$store.commit('pushNewDetial',params)\r\n        console.log(this.$store.state.postDetialLists);\r\n\r\n        // window,open('http://localhost:4000/mytask/taskList/Test-detailFile?tableName=oa_busdata10&busdataId=515')\r\n        window,open(window.location.origin+'/mytask/taskList/Test-detailFile?tableName='+tableName+'&busdataId='+i_id+'&navisshow=false')\r\n        // this.$router.push({path:'/mytask/taskList/Test-detailFile',query:params})\r\n\r\n      },\r\n      //事件委托 想左切换\r\n      leftclick(){\r\n         this.$refs.left.click();\r\n      },\r\n      //事件委托 想右切换\r\n      rightclick(){\r\n        this.$refs.right.click();\r\n      },\r\n      //  数据初始化  收文  发文数据\r\n      homeLists(userid){\r\n        getAction(this.url.HomeList,{userId:userid,createTime:''}).then((res) => {\r\n\r\n          this.model1 = res.model1;\r\n          this.model2 = res.model2;\r\n          this.model3 = res.model3;\r\n          this.model4 = res.model4;\r\n\r\n          this.model1Lists = res.model1.list.splice(0,5);\r\n\r\n          this.model2Lists = res.model2.list.splice(0,5);\r\n          this.model3Lists = res.model3.list.splice(0,5);\r\n          this.model4Lists = res.model4.list.splice(0,5);\r\n\r\n        });\r\n      },\r\n      waiteDoWith(){\r\n        getAction(this.url.list).then((res) => {\r\n          console.log(res);\r\n          //  过长截取  显示数组前五\r\n          this.waitDoData = res.result.records.splice(0,4);\r\n          this.total = res.result.total;\r\n\r\n        });\r\n      },\r\n      doTask(record) {\r\n\r\n\r\n        this.$refs.receiveFile.show(record);\r\n\r\n        // this.$refs.doTaskModal.showTask();\r\n\r\n        // this.$refs.doTaskModal.showTask();\r\n\r\n        //  console.log(record);\r\n        //查询---业务数据--流程信息\r\n        // var taskDetail = {}\r\n        // postAction(this.url.yewuDataQuery, {i_id: record.tableId, table: record.table}).then(res => {\r\n        //   if (res.success) {\r\n        //     taskDetail = res.result.records[0]\r\n        //     //业务和流程关联配置表（流程KEY、按钮、意见） 主键\r\n        //     taskDetail['iprocSetId'] = record.busAndActId\r\n        //     taskDetail['taskDefinitionKey'] = record.taskDefinitionKey\r\n        //     this.$refs[record.pageRef].showTaskInAct(taskDetail, record)\r\n        //     this.$refs.doTaskModal.title = '任务办理'\r\n        //   } else {\r\n        //     this.$message.error(res.message)\r\n        //     return\r\n        //   }\r\n        // })\r\n\r\n      },\r\n\r\n      // 公告\r\n      getPostLists(){\r\n        postAction(this.url.Posturl,{modelId:49,condition:{function_id:64,selType:1}}).then((res) => {\r\n          console.log(res.result.records);\r\n          this.postLists = res.result.records;\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  /deep/ .ant-input{\r\n    border-color: #054c9c !important;\r\n  }\r\n  .more:hover{\r\n    cursor: pointer;\r\n  }\r\n  .postMore:hover{\r\n    cursor: pointer;\r\n  }\r\n  .wrap{\r\n    width: 100%;\r\n    .nav{\r\n      width: 100%;\r\n      /*height: 138px;*/\r\n      min-height: 163.5px;\r\n      overflow: hidden;\r\n      background: #ffffff;\r\n      display:flex;\r\n      align-items: center;\r\n      /*margin-top: 100px;*/\r\n      .postList{\r\n        width: 60%;\r\n        /*height: 198px;*/\r\n        height: 100%;\r\n        min-height: 163.5px;\r\n        background: #ffffff;\r\n        background-image: url(\"../../assets/postBg.png\");\r\n        background-repeat: no-repeat;\r\n        background-size:cover;\r\n        /*background-position: bottom right;*/\r\n        display: flex;\r\n        align-items: flex-start;\r\n\r\n        .title{\r\n          width: 120px;\r\n          /*height: 198px;*/\r\n          background: transparent !important;\r\n          margin-left: 10px;\r\n          margin-top: 10px;\r\n          display: flex;\r\n          align-items: center;\r\n          .imgzhanwei{\r\n            width: 50px;\r\n            height: 50px;\r\n            /*background: #2eabff;*/\r\n            margin-right: 10px;\r\n            img{\r\n              width: 100%;\r\n\r\n            }\r\n          }\r\n          span{\r\n            font-size: 16px;\r\n            font-weight: 800;\r\n          }\r\n        }\r\n        .listsBox{\r\n          /*margin-left: 20px;*/\r\n          width: 100%;\r\n          height: 100%;\r\n          min-height: 163.5px;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: flex-start;\r\n          /*justify-content: space-between;*/\r\n          padding: 15px;\r\n          padding-bottom: 20px;\r\n\r\n\r\n          .lineitem{\r\n            width: 98%;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            margin-top: 10px;\r\n\r\n            .left{\r\n              width: 75%;\r\n              display: flex;\r\n              align-items: center;\r\n              .tongzhi{\r\n                background: #f8ffbb;\r\n                font-weight: 600;\r\n                margin: 0;\r\n                margin-left: 6px;\r\n              }\r\n              span{\r\n                margin: 0 10px;\r\n              }\r\n              i{\r\n                width: 5px;\r\n                height: 5px;\r\n                background: firebrick;\r\n                -webkit-border-radius: 5px;\r\n                -moz-border-radius: 5px;\r\n                border-radius: 5px;\r\n              }\r\n              i:first-child{\r\n                background: #2eabff;\r\n              }\r\n            }\r\n\r\n          }\r\n          .lineitem:hover{\r\n            /*background: #2eabff;*/\r\n            /*color: #ffffff;*/\r\n            cursor: pointer;\r\n          }\r\n\r\n        }\r\n      }\r\n      .searchBox{\r\n        width: 40%;\r\n        /*height: 198px;*/\r\n        /*background: firebrick;*/\r\n        padding: 10px;\r\n        /deep/img:hover{\r\n          cursor: pointer;\r\n        }\r\n        .top{\r\n          width: 75%;\r\n          margin: 0 auto;\r\n          /*margin-top: 10px;*/\r\n        }\r\n        .bottom{\r\n          width: 75%;\r\n          /*height: 145px;*/\r\n          /*height: 130px;*/\r\n          /*background: darkcyan;*/\r\n          margin: 0px auto;\r\n\r\n\r\n          /deep/.swiper-wrapper{\r\n                width: 60%;\r\n                /*margin-left: 20px;*/\r\n           .swiper-slide{\r\n                /*width: 100px;*/\r\n                /*height: 100%;*/\r\n                /*background: red;*/\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                justify-content: space-around;\r\n             /*margin-right: 0px !important;*/\r\n             /*margin-left: 5px !important;*/\r\n               div{\r\n                 width: 90px;\r\n                 height: 90px;\r\n                 border-radius: 50%;\r\n                 /*background: #2eabff;*/\r\n                 img{\r\n                   width: 100%;\r\n                 }\r\n               }\r\n               span{\r\n                 font-size: 14px;\r\n                 color: #333333;\r\n               }\r\n              }\r\n          }\r\n\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n\r\n    .box{\r\n      width: 100%;\r\n      height: auto;\r\n      margin-top: 8px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      .top,.bottom{\r\n        width: 100%;\r\n        min-height: 245px;\r\n        /*min-height: 260px;*/\r\n\r\n        /*background: #dddddd;*/\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        .left,.right{\r\n          width: 60.3%;\r\n          height: 100%;\r\n          /*padding: 10px;*/\r\n          background: #ffffff;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: flex-start;\r\n          overflow: hidden !important;\r\n\r\n          .titlebox{\r\n            width: 100%;\r\n            height: 40px;\r\n            border-bottom: 2px solid #009dee;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            margin: 0;\r\n            span:first-child{\r\n              width: auto;\r\n              height: 40px;\r\n              padding: 0 8px;\r\n              padding-left: 0;\r\n              background: #009dee;\r\n              font-size: 16px;\r\n              font-weight: bold;\r\n              color: #ffffff;\r\n              display: flex;\r\n              align-items: center;\r\n              span{\r\n                color: #ffffff;\r\n              }\r\n              .shuline{\r\n                width: 5px;\r\n                height: 40px;\r\n                background: #1174b9;\r\n                padding: 0;\r\n                margin-right: 10px;\r\n              }\r\n              b{\r\n                min-width: 15px;\r\n                height: 15px;\r\n                border-radius: 10px;\r\n                background: #f02d13;\r\n                margin-left: 10px;\r\n                margin-bottom: 12px;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                padding-bottom: 3px;\r\n                padding-right: .5px;\r\n                font-size: 12px;\r\n              }\r\n            }\r\n            span:last-child{\r\n              /*background: none;*/\r\n              color: #333333;\r\n              margin-right: 20px;\r\n              font-weight: 600;\r\n            }\r\n\r\n          }\r\n\r\n          .itemline{\r\n            width: 100%;\r\n            min-height: 200px;\r\n            /*background: #999999;*/\r\n            /*padding: 10px;*/\r\n            padding-top: 0;\r\n            display: flex;\r\n            flex-direction: column;\r\n            /*margin: 0;*/\r\n\r\n           .each{\r\n              width: 100%;\r\n              /*background: red;*/\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: space-between;\r\n\r\n              border-left: 5px solid #c7ecff;\r\n              /*margin-left: 10px;*/\r\n              .p{\r\n                width:100%;\r\n                height: 46px;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: space-between;\r\n                /*line-height: 40px;*/\r\n                margin: 0;\r\n                font-size: 14px;\r\n                margin-left: 20px;\r\n                /*margin-top: 19px;*/\r\n                span:first-child{\r\n                  display: block;\r\n                  /*line-height: 40px;*/\r\n                  width: 60%;\r\n                  /*height: 20px;*/\r\n                  overflow: hidden;\r\n                  text-overflow: ellipsis;\r\n                  white-space: nowrap;\r\n                  display: flex;\r\n                  align-items: center;\r\n                  i{\r\n                    width: 5px;\r\n                    height: 5px;\r\n                    background: #2eabff;\r\n                    margin-right: 10px;\r\n                  }\r\n                  img{\r\n                    width: 40px;\r\n                    margin-bottom: 18px;\r\n                    margin-left: 5px;\r\n                  }\r\n\r\n\r\n                }\r\n                span:last-child{\r\n                  display: block;\r\n                  line-height: 40px;\r\n                  margin-right: 20px;\r\n                }\r\n              }\r\n              a{\r\n\r\n                margin-top: 5px;\r\n\r\n              }\r\n            }\r\n\r\n            .each:hover{\r\n              /*background: rgb(226, 241, 246);*/\r\n              cursor: pointer;\r\n              color: #333333;\r\n            }\r\n          }\r\n        }\r\n\r\n\r\n        .right{\r\n          width: 39%;\r\n          height: 100%;\r\n          /*padding: 10px;*/\r\n          /*background: #dddddd;*/\r\n          /*display: flex;*/\r\n          /*flex-direction: column;*/\r\n          /*align-items: center;*/\r\n          /*justify-content: flex-start;*/\r\n          /*overflow: no-content;*/\r\n          .itemline{\r\n            min-height: 200px;\r\n\r\n            /*background: red;*/\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            justify-content: flex-start;\r\n\r\n\r\n            .each{\r\n              width: 95%;\r\n              border-left: none ;\r\n              /*padding-bottom: 5px;*/\r\n              margin: 0px;\r\n              margin-top: 16px;\r\n              span{\r\n                display: flex;\r\n                align-items: center;\r\n                font-size: 14px;\r\n                i{\r\n                  display: block;\r\n                  width: 5px;\r\n                  height: 5px;\r\n                  background: #2eabff;\r\n                 margin-right: 5px;\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n        }\r\n      }\r\n      .bottom{\r\n        margin-top: 7px;\r\n\r\n        .bottomleft{\r\n          width: 60.3%;\r\n          height: 100%;\r\n          display: flex;\r\n          align-items: flex-end;\r\n          justify-content: space-between;\r\n          .first,.last{\r\n            width: 49.4%;\r\n            height: 100%;\r\n            /*background: firebrick;*/\r\n            background: #ffffff;\r\n\r\n            /*padding: 10px;*/\r\n            .titlebox{\r\n              width: 100%;\r\n              height: 40px;\r\n              border-bottom: 2px solid #0074b9;\r\n              margin: 0px;\r\n              /*background: #f2dede;*/\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: space-between;\r\n              span{\r\n                width: auto;\r\n                height: 40px;\r\n                padding: 0 8px;\r\n                padding-left: 0;\r\n                background: #009dee;\r\n                font-size: 14px;\r\n                font-weight: bold;\r\n                color: #ffffff;\r\n                display: flex;\r\n                align-items: center;\r\n                span:nth-child(2){\r\n                  color: #ffffff !important;\r\n                  font-size: 16px !important;\r\n                  font-weight: bold;\r\n                }\r\n                .shuline{\r\n                  width: 5px;\r\n                  height: 40px;\r\n                  background: #1174b9;\r\n                  padding: 0;\r\n                  margin-right: 10px;\r\n                }\r\n              }\r\n              span:last-child{\r\n                background: none;\r\n                color: #333333;\r\n              }\r\n\r\n            }\r\n\r\n            .itemline{\r\n              width: 100%;\r\n              min-height:200px;\r\n              /*background: #999999;*/\r\n              padding: 10px;\r\n              /*color: #ffffff;*/\r\n              overflow: hidden;\r\n              p{\r\n                width: 100%;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: space-between;\r\n                padding-bottom: 5px;\r\n                /*border-bottom: 1px solid #f0f2f5;*/\r\n\r\n                span{\r\n                  display: flex;\r\n                  align-items: center;\r\n                  font-size: 14px;\r\n                  i{\r\n                    display: block;\r\n                    width: 5px;\r\n                    height: 5px;\r\n                    background: #2eabff;\r\n                    margin-right: 5px;\r\n                  }\r\n                }\r\n              }\r\n              p:hover{\r\n                /*background: rgb(226, 241, 246);*/\r\n                cursor: pointer;\r\n                color: #333333;\r\n              }\r\n            }\r\n\r\n\r\n          }\r\n\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}