{"remainingRequest":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xxm\\work\\jd\\fore\\src\\views\\workflow\\proManagerList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xxm\\work\\jd\\fore\\src\\views\\workflow\\proManagerList.vue","mtime":1579253199062},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1570779245522},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570779194464},{"path":"C:\\xxm\\work\\jd\\fore\\node_modules\\vue-loader\\lib\\index.js","mtime":1570779225726}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport editPro from './modules/editPro'\nimport Vue from 'vue'\nimport picModal from './modules/picModal'\nimport {JeecgListMixin} from '@/mixins/JeecgListMixin'\nimport {ACCESS_TOKEN} from \"../../store/mutation-types\";\nimport {deleteAction, getAction} from \"../../api/manage\";\nimport OaProcButtonFastModal from \"./modules/OaProcButtonFastModal\";\nimport OaProcOpinionConfigureModal from \"./modules/OaProcOpinionConfigureModal\";\nimport oaProcActinstList from './oaProcActinstList'\nimport copyProcModal from './modules/copyProcModal'\nimport uploadProc from './modules/uploadProc'\n\nexport default {\n  name: \"proManagerList\",\n  mixins: [JeecgListMixin],\n  components: {\n    uploadProc,\n    OaProcButtonFastModal,\n    OaProcOpinionConfigureModal,\n    picModal,\n    editPro,\n    oaProcActinstList,\n    copyProcModal\n  },\n  data() {\n    return {\n      fileList: '',\n      headers: {'X-Access-Token': Vue.ls.get(ACCESS_TOKEN)},\n      description: 'proManager管理页面',\n      datasource: [],\n      // 表头\n      columns: [\n        {\n          title: '序号',\n          dataIndex: '',\n          key: 'rowIndex',\n          width: 60,\n          align: \"center\",\n          customRender: function (t, r, index) {\n            return parseInt(index) + 1;\n          }\n        },\n        // {\n        //   title: '流程定义id',\n        //   align: \"center\",\n        //   dataIndex: 'id'\n        // },\n        {\n          title: '名称',\n          align: \"center\",\n          dataIndex: 'name'\n        },\n        {\n          title: '关键字',\n          align: \"center\",\n          dataIndex: 'key'\n        },\n        {\n          title: '版本',\n          align: \"center\",\n          dataIndex: 'version'\n        },\n        // {\n        //   title: '部署id',\n        //   align: \"center\",\n        //   dataIndex: 'deploymentId'\n        // },\n        {\n          title: '资源名称',\n          align: \"center\",\n          dataIndex: 'resourceName'\n        },\n        {\n          title: '描述',\n          align: \"center\",\n          dataIndex: 'description'\n        },\n        // {\n        //   title: '激活状态',\n        //   align: \"center\",\n        //   dataIndex: 'sus'\n        // },\n        {\n          title: '操作',\n          dataIndex: 'action',\n          align: \"center\",\n          scopedSlots: {customRender: 'action'},\n        }\n      ],\n      url: {\n        //\n        fileUpload:  window._CONFIG['domianURL'] +'/wf/process/deploy',\n        list: \"/wf/process/processQuery\",\n        delete: \"/wf/process/processDel\",\n        active: '/wf/process/activeProcess',\n        disactiveProcess: \"/wf/process/disactiveProcess\",\n        deleteBatch: \"/wf/process/processDel\"\n      },\n    }\n  },\n  computed: {\n    importExcelUrl: function () {\n      return `${window._CONFIG['domianURL']}/${this.url.importExcelUrl}`;\n    }\n  },\n  methods: {\n    reload() {\n      console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~')\n      // this.fileList = []\n      this.selectedRowKeys = []\n      // this.loading = true;\n      getAction(this.url.list).then((res) => {\n        // if (res.success) {\n        this.dataSource = res.result.records;\n        this.ipagination.total = res.result.total;\n        // }\n        // if (res.code === 510) {\n        //   this.$message.warning(res.message)\n        // }\n        // this.loading = false;\n        //\n      })\n\n    },\n    showUpload(){\n      this.$refs.upload.show()\n    }\n    ,\n    beforeUpload: function (file, fileList) {\n      this.fileList = [...this.fileList, file];\n      return false;\n    },\n    handleChange(info) {\n      this.fileList = info.fileList\n\n\n      if (info.file.status == 'done') {\n\n        this.$message.success(`${info.file.name} 文件上传成功`)\n\n        this.reload()\n      } else if (info.file.status == 'error') {\n        this.$message.error(`${info.file.name} 文件上传失败`)\n        this.reload()\n      }\n      // this.fileList=[]\n\n    },\n    dels(cascade) {\n\n      var ids = \"\";\n      for (var a = 0; a < this.selectedRowKeys.length; a++) {\n        ids += this.selectedRowKeys[a] + \",\";\n      }\n      this.confirmdel(ids, cascade)\n\n      this.reload()\n\n    },\n    confirmdel(id, cascade) {\n      var flag = cascade == 0 ? false : true\n\n      deleteAction(this.url.delete+'?ids='+id+'&cascade='+flag).then(res=>{\n        if (res.success) {\n          this.$message.success(res.message)\n          this.reload()\n\n        } else {\n          this.$message.error(res.message)\n        }\n      })\n\n    },\n    cancel() {\n      console.log('------->取消选择')\n    },\n    active(record) {\n      if (!record.suspended) {\n        this.$message.error('已是激活状态，请勿重复操作')\n        return\n      }\n\n      getAction(this.url.active+'?id='+record.id).then(res=>{\n        if (res.success) {\n          this.$message.success('激活成功')\n        } else {\n          this.$message.error('激活失败')\n        }\n      })\n\n      this.reload()\n    },\n    disactiveProcess(record) {\n      // var that = this\n      if (record.suspended) {\n        this.$message.error('已是挂起状态，请勿重复操作')\n        return\n      }\n\n\n      getAction(this.url.disactiveProcess+'?id='+record.id).then(res=>{\n        if (res.success) {\n          this.$message.success('挂起成功')\n        } else {\n          this.$message.error('挂起失败')\n        }\n      })\n\n      this.reload()\n    },\n    showPic(record) {\n      this.$refs.picModal.show(record.id)\n      this.$refs.picModal.title = record.name\n    },\n    editPro(record) {\n      this.$refs.editPro.editPro(record.id, record.name)\n      this.$refs.editPro.title = '编辑'\n      this.reload()\n    },\n    buttonPermission(record) {\n      this.$refs.OaProcButtonFastModal.show1(record.id, record.key);\n      this.$refs.OaProcButtonFastModal.title = '权限配置';\n      this.reload()\n    },\n    opinionConfigure(record) {\n      this.$refs.OaProcOpinionConfigureModal.show1(record.id, record.key);\n      this.$refs.OaProcOpinionConfigureModal.title = '意见配置';\n      this.reload()\n    },\n    newIncreased(record) {\n      this.$refs.oaProcActinstList.show(record);\n    },\n    /**\n     * 复制流程图\n     */\n    copyProc(record) {\n      this.$refs.copyProc.proMSg = record\n      this.$refs.copyProc.show()\n    }\n\n  },\n  create() {\n  },\n\n}\n",{"version":3,"sources":["proManagerList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"proManagerList.vue","sourceRoot":"src/views/workflow","sourcesContent":["<template>\r\n  <a-card :bordered=\"false\">\r\n\r\n    <!-- 查询区域 -->\r\n    <div class=\"table-page-search-wrapper\">\r\n      <a-form layout=\"inline\">\r\n        <a-row :gutter=\"24\">\r\n\r\n          <a-col :md=\"6\" :sm=\"8\">\r\n            <a-form-item label=\"流程名称\">\r\n              <a-input placeholder=\"请输入流程名称\" v-model=\"queryParam.name\"></a-input>\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :md=\"6\" :sm=\"8\">\r\n            <a-form-item label=\"流程定义key\">\r\n              <a-input placeholder=\"请输入流程定义key\" v-model=\"queryParam.key\"></a-input>\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :md=\"6\" :sm=\"8\">\r\n            <span style=\"float: left;overflow: hidden;\" class=\"table-page-search-submitButtons\">\r\n              <a-button type=\"primary\" ref=\"reSearchQuery\" @click=\"searchQuery\" icon=\"search\">查询</a-button>\r\n              <a-button type=\"primary\" @click=\"searchReset\" icon=\"reload\" style=\"margin-left: 8px\">重置</a-button>\r\n            </span>\r\n          </a-col>\r\n\r\n        </a-row>\r\n      </a-form>\r\n    </div>\r\n\r\n    <!-- 操作按钮区域 -->\r\n    <div class=\"table-operator\" style=\"display: flex\">\r\n\r\n      <!--:beforeUpload=\"beforeUpload\"-->\r\n      <!--<a-upload name=\"file\" :multiple=\"true\"  :action=\"url.fileUpload\" :headers=\"headers\" :fileList=\"fileList\"-->\r\n                   <!--@change=\"handleChange\">-->\r\n\r\n        <!---->\r\n        <a-button @click=\"showUpload\"  >\r\n          <a-icon  type=\"upload\"  />\r\n          上传流程图\r\n        </a-button>\r\n      <!--</a-upload>-->\r\n\r\n      <a-dropdown v-if=\"selectedRowKeys.length > 0\">\r\n        <a-menu slot=\"overlay\">\r\n          <a-menu-item key=\"1\" @click=\"dels(0)\">\r\n            <a-icon type=\"delete\"/>\r\n            删除\r\n          </a-menu-item>\r\n          <!--<a-menu-item key=\"1\" @click=\"dels(1)\">-->\r\n          <!--<a-icon type=\"delete\"/>-->\r\n          <!--级联删除-->\r\n          <!--</a-menu-item>-->\r\n        </a-menu>\r\n        <a-button style=\"margin-left: 8px\"> 批量操作\r\n          <a-icon type=\"down\"/>\r\n        </a-button>\r\n      </a-dropdown>\r\n    </div>\r\n\r\n    <!-- table区域-begin -->\r\n    <div>\r\n      <div class=\"ant-alert ant-alert-info\" style=\"margin-bottom: 16px;\">\r\n        <i class=\"anticon anticon-info-circle ant-alert-icon\"></i> 已选择 <a style=\"font-weight: 600\">{{\r\n        selectedRowKeys.length }}</a>项\r\n        <a style=\"margin-left: 24px\" @click=\"onClearSelected\">清空</a>\r\n      </div>\r\n\r\n      <a-table\r\n        ref=\"table\"\r\n        size=\"middle\"\r\n        bordered\r\n        rowKey=\"deploymentId\"\r\n        :columns=\"columns\"\r\n        :dataSource=\"dataSource\"\r\n        :pagination=\"ipagination\"\r\n        :loading=\"loading\"\r\n        :rowSelection=\"{selectedRowKeys: selectedRowKeys, onChange: onSelectChange}\"\r\n        @change=\"handleTableChange\"\r\n        :rowClassName=\"(record,index) => {\r\n              let className  = 'light-row';\r\n              if (index % 2 === 1) className = 'dark-row';\r\n              return className;\r\n          }\"\r\n      >\r\n\r\n        <span slot=\"action\" slot-scope=\"text, record\">\r\n          <a @click=\"editPro(record)\">编辑</a>\r\n\r\n\r\n          <a-divider type=\"vertical\"/>\r\n          <a-dropdown>\r\n            <a class=\"ant-dropdown-link\">更多 <a-icon type=\"down\"/></a>\r\n            <a-menu slot=\"overlay\">\r\n              <a-menu-item>\r\n                      <a>\r\n                        <a-popconfirm title=\"是否删除?\"\r\n                                      @confirm=\"confirmdel(record.deploymentId,0)\"\r\n                                      @cancel=\"cancel\"\r\n                                      okText=\"确认\"\r\n                                      cancelText=\"取消\"> 删除</a-popconfirm>\r\n                      </a>\r\n\r\n                <!--<a>-->\r\n                <!--<a-popconfirm title=\"是否级联删除?\"-->\r\n                <!--@confirm=\"confirmdel(record.deploymentId,1)\"-->\r\n                <!--@cancel=\"cancel\"-->\r\n                <!--okText=\"确认\"-->\r\n                <!--cancelText=\"取消\"> 级联删除</a-popconfirm>-->\r\n                <!--</a>-->\r\n                      <!--<a @click=\"active(record)\"> 激活</a>-->\r\n                      <!--<a @click=\"disactiveProcess(record)\"> 挂起</a>-->\r\n                      <a @click=\"buttonPermission(record)\"> 按钮权限</a>\r\n                      <a @click=\"opinionConfigure(record)\"> 意见配置</a>\r\n                      <a @click=\"newIncreased(record)\"> 环节配置</a>\r\n                      <a @click=\"copyProc(record)\">复制流程</a>\r\n                      <a @click=\"showPic(record)\"> 查看流程图</a>\r\n              </a-menu-item>\r\n            </a-menu>\r\n          </a-dropdown>\r\n        </span>\r\n\r\n      </a-table>\r\n    </div>\r\n    <!-- table区域-end -->\r\n\r\n    <!-- 表单区域 -->\r\n    <pic-modal ref=\"picModal\" @ok=\"modalFormOk\"></pic-modal>\r\n    <edit-pro ref=\"editPro\" @reload=\"reload\"></edit-pro>\r\n    <OaProcButtonFast-Modal ref=\"OaProcButtonFastModal\" @ok=\"modalFormOk\"></OaProcButtonFast-Modal>\r\n    <OaProcOpinionConfigure-Modal ref=\"OaProcOpinionConfigureModal\" @ok=\"modalFormOk\"></OaProcOpinionConfigure-Modal>\r\n    <oa-proc-actinst-list ref=\"oaProcActinstList\"></oa-proc-actinst-list>\r\n\r\n    <copy-proc-modal ref=\"copyProc\" @reload=\"reload\"></copy-proc-modal>\r\n\r\n    <upload-proc ref=\"upload\" @reload=\"reload\"></upload-proc>\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\n  import editPro from './modules/editPro'\r\n  import Vue from 'vue'\r\n  import picModal from './modules/picModal'\r\n  import {JeecgListMixin} from '@/mixins/JeecgListMixin'\r\n  import {ACCESS_TOKEN} from \"../../store/mutation-types\";\r\n  import {deleteAction, getAction} from \"../../api/manage\";\r\n  import OaProcButtonFastModal from \"./modules/OaProcButtonFastModal\";\r\n  import OaProcOpinionConfigureModal from \"./modules/OaProcOpinionConfigureModal\";\r\n  import oaProcActinstList from './oaProcActinstList'\r\n  import copyProcModal from './modules/copyProcModal'\r\n  import uploadProc from './modules/uploadProc'\r\n\r\n  export default {\r\n    name: \"proManagerList\",\r\n    mixins: [JeecgListMixin],\r\n    components: {\r\n      uploadProc,\r\n      OaProcButtonFastModal,\r\n      OaProcOpinionConfigureModal,\r\n      picModal,\r\n      editPro,\r\n      oaProcActinstList,\r\n      copyProcModal\r\n    },\r\n    data() {\r\n      return {\r\n        fileList: '',\r\n        headers: {'X-Access-Token': Vue.ls.get(ACCESS_TOKEN)},\r\n        description: 'proManager管理页面',\r\n        datasource: [],\r\n        // 表头\r\n        columns: [\r\n          {\r\n            title: '序号',\r\n            dataIndex: '',\r\n            key: 'rowIndex',\r\n            width: 60,\r\n            align: \"center\",\r\n            customRender: function (t, r, index) {\r\n              return parseInt(index) + 1;\r\n            }\r\n          },\r\n          // {\r\n          //   title: '流程定义id',\r\n          //   align: \"center\",\r\n          //   dataIndex: 'id'\r\n          // },\r\n          {\r\n            title: '名称',\r\n            align: \"center\",\r\n            dataIndex: 'name'\r\n          },\r\n          {\r\n            title: '关键字',\r\n            align: \"center\",\r\n            dataIndex: 'key'\r\n          },\r\n          {\r\n            title: '版本',\r\n            align: \"center\",\r\n            dataIndex: 'version'\r\n          },\r\n          // {\r\n          //   title: '部署id',\r\n          //   align: \"center\",\r\n          //   dataIndex: 'deploymentId'\r\n          // },\r\n          {\r\n            title: '资源名称',\r\n            align: \"center\",\r\n            dataIndex: 'resourceName'\r\n          },\r\n          {\r\n            title: '描述',\r\n            align: \"center\",\r\n            dataIndex: 'description'\r\n          },\r\n          // {\r\n          //   title: '激活状态',\r\n          //   align: \"center\",\r\n          //   dataIndex: 'sus'\r\n          // },\r\n          {\r\n            title: '操作',\r\n            dataIndex: 'action',\r\n            align: \"center\",\r\n            scopedSlots: {customRender: 'action'},\r\n          }\r\n        ],\r\n        url: {\r\n          //\r\n          fileUpload:  window._CONFIG['domianURL'] +'/wf/process/deploy',\r\n          list: \"/wf/process/processQuery\",\r\n          delete: \"/wf/process/processDel\",\r\n          active: '/wf/process/activeProcess',\r\n          disactiveProcess: \"/wf/process/disactiveProcess\",\r\n          deleteBatch: \"/wf/process/processDel\"\r\n        },\r\n      }\r\n    },\r\n    computed: {\r\n      importExcelUrl: function () {\r\n        return `${window._CONFIG['domianURL']}/${this.url.importExcelUrl}`;\r\n      }\r\n    },\r\n    methods: {\r\n      reload() {\r\n        console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~')\r\n        // this.fileList = []\r\n        this.selectedRowKeys = []\r\n        // this.loading = true;\r\n        getAction(this.url.list).then((res) => {\r\n          // if (res.success) {\r\n          this.dataSource = res.result.records;\r\n          this.ipagination.total = res.result.total;\r\n          // }\r\n          // if (res.code === 510) {\r\n          //   this.$message.warning(res.message)\r\n          // }\r\n          // this.loading = false;\r\n          //\r\n        })\r\n\r\n      },\r\n      showUpload(){\r\n        this.$refs.upload.show()\r\n      }\r\n      ,\r\n      beforeUpload: function (file, fileList) {\r\n        this.fileList = [...this.fileList, file];\r\n        return false;\r\n      },\r\n      handleChange(info) {\r\n        this.fileList = info.fileList\r\n\r\n\r\n        if (info.file.status == 'done') {\r\n\r\n          this.$message.success(`${info.file.name} 文件上传成功`)\r\n\r\n          this.reload()\r\n        } else if (info.file.status == 'error') {\r\n          this.$message.error(`${info.file.name} 文件上传失败`)\r\n          this.reload()\r\n        }\r\n        // this.fileList=[]\r\n\r\n      },\r\n      dels(cascade) {\r\n\r\n        var ids = \"\";\r\n        for (var a = 0; a < this.selectedRowKeys.length; a++) {\r\n          ids += this.selectedRowKeys[a] + \",\";\r\n        }\r\n        this.confirmdel(ids, cascade)\r\n\r\n        this.reload()\r\n\r\n      },\r\n      confirmdel(id, cascade) {\r\n        var flag = cascade == 0 ? false : true\r\n\r\n        deleteAction(this.url.delete+'?ids='+id+'&cascade='+flag).then(res=>{\r\n          if (res.success) {\r\n            this.$message.success(res.message)\r\n            this.reload()\r\n\r\n          } else {\r\n            this.$message.error(res.message)\r\n          }\r\n        })\r\n\r\n      },\r\n      cancel() {\r\n        console.log('------->取消选择')\r\n      },\r\n      active(record) {\r\n        if (!record.suspended) {\r\n          this.$message.error('已是激活状态，请勿重复操作')\r\n          return\r\n        }\r\n\r\n        getAction(this.url.active+'?id='+record.id).then(res=>{\r\n          if (res.success) {\r\n            this.$message.success('激活成功')\r\n          } else {\r\n            this.$message.error('激活失败')\r\n          }\r\n        })\r\n\r\n        this.reload()\r\n      },\r\n      disactiveProcess(record) {\r\n        // var that = this\r\n        if (record.suspended) {\r\n          this.$message.error('已是挂起状态，请勿重复操作')\r\n          return\r\n        }\r\n\r\n\r\n        getAction(this.url.disactiveProcess+'?id='+record.id).then(res=>{\r\n          if (res.success) {\r\n            this.$message.success('挂起成功')\r\n          } else {\r\n            this.$message.error('挂起失败')\r\n          }\r\n        })\r\n\r\n        this.reload()\r\n      },\r\n      showPic(record) {\r\n        this.$refs.picModal.show(record.id)\r\n        this.$refs.picModal.title = record.name\r\n      },\r\n      editPro(record) {\r\n        this.$refs.editPro.editPro(record.id, record.name)\r\n        this.$refs.editPro.title = '编辑'\r\n        this.reload()\r\n      },\r\n      buttonPermission(record) {\r\n        this.$refs.OaProcButtonFastModal.show1(record.id, record.key);\r\n        this.$refs.OaProcButtonFastModal.title = '权限配置';\r\n        this.reload()\r\n      },\r\n      opinionConfigure(record) {\r\n        this.$refs.OaProcOpinionConfigureModal.show1(record.id, record.key);\r\n        this.$refs.OaProcOpinionConfigureModal.title = '意见配置';\r\n        this.reload()\r\n      },\r\n      newIncreased(record) {\r\n        this.$refs.oaProcActinstList.show(record);\r\n      },\r\n      /**\r\n       * 复制流程图\r\n       */\r\n      copyProc(record) {\r\n        this.$refs.copyProc.proMSg = record\r\n        this.$refs.copyProc.show()\r\n      }\r\n\r\n    },\r\n    create() {\r\n    },\r\n\r\n  }\r\n</script>\r\n<style scoped>\r\n</style>"]}]}